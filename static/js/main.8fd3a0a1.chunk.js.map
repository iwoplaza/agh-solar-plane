{"version":3,"sources":["assets/video/solar-baner.mp4","assets/img/logo.png","assets/img/gradient-sheet.png","assets/img/team_cards/jasiek2.png","assets/img/team_cards/kuba.png","assets/img/team_cards/olga.png","assets/img/team_cards/marketing.png","assets/models/cyjan-body.obj","assets/models/cyjan-wings.obj","assets/models/cyjan-solar-panels.obj","assets/img/blueprint-grid.png","assets/models/pathSolar.obj","components/common/header/Header.tsx","components/home/banner/Banner.tsx","components/home/homePageStory/SideStoryPanel.tsx","components/abstract/Page.tsx","components/abstract/ThreeContextProvider.tsx","components/abstract/storyteller/StorytellerNode.tsx","utils/easing.ts","3d/context/sectionAreaShader.ts","3d/context/sectionArea.vert","3d/context/sectionArea.frag","3d/context/threePage.ts","3d/common/effects/blurPass.ts","3d/common/effects/background.vert","3d/common/effects/pageBackgroundShader.ts","utils/effectUtils.ts","3d/common/effects/pageBackgroundPass.ts","3d/common/effects/background.frag","3d/common/effects/mixShader/mixShader.vert","3d/common/effects/mixShader/mixShader.ts","3d/common/effects/mixShader/mixShader.frag","3d/common/effects/renderWithOpacityPass.ts","3d/context/sectionDisplay.ts","3d/context/threeContext.ts","3d/solarContext.ts","3d/context/fadeTransition.ts","utils/math.ts","components/abstract/Section.tsx","components/common/stat/Stat.tsx","components/common/teamCard/TeamCard.tsx","components/home/HomeView.tsx","components/contact/ContactView.tsx","utils/hooks.ts","utils/transitionUtils.ts","components/siteLoader/SiteLoader.tsx","components/App.tsx","utils/classNames.ts","serviceWorker.js","utils/threeHelpers.ts","utils/smoothScalar.ts","3d/bubbles/Bubble.ts","3d/bubbles/Bubbles.ts","3d/common/backgroundCamera.ts","3d/common/particles/TouchTexture.ts","3d/common/particles/Particles.ts","3d/common/particles/particles.vert","3d/common/particles/particles.frag","3d/plane/plane.vert","3d/plane/plane.frag","3d/plane/planeShader.ts","3d/plane/airflowRod.ts","utils/loaders.ts","3d/plane/storytellingPlane.ts","3d/plane/planeSection.ts","3d/timeline/pathBuilder.ts","data/timeline.ts","3d/timeline/timeline.ts","3d/timeline/timelineSection.ts","3d/section/simpleSection.ts","index.tsx"],"names":["module","exports","Header","props","useState","shouldHideHeader","setShouldHideHeader","shouldShowScrolled","scrollTop","lastScrollTop","useRef","scrolledStyle","hiddenStyle","useEffect","current","className","exact","to","Banner","src","VideoBannerBg","autoPlay","muted","playsInline","loop","logo","alt","SideStoryPanel","classNames","visible","style","paddingTop","marginTop","paddingBottom","marginBottom","title","children","PageContext","createContext","Page","Provider","value","pageKey","NodePhase","ThreeContextContext","ThreeContextProvider","Easing","sectionAreaShader","uniforms","type","undefined","vertexShader","fragmentShader","ThreePage","sectionMap","breakpoints","pageProgress","_currentBreakpoint","_nextBreakpoint","this","sections","s","key","computeBreakpoints","accumulatedProgress","sectionKey","section","push","progress","sectionHeight","computeCurrentAndNextBreakpoints","config","setConfig","console","error","height","setSectionHeight","width","updateCameraProjection","i","length","breakpoint","setSectionProgress","BlurPass","params","hQuad","vQuad","renderTargetHorizontal","hBlur","vBlur","horizontalUniforms","verticalUniforms","hQuadMaterial","vQuadMaterial","WebGLRenderTarget","minFilter","NearestFilter","magFilter","texture","name","horizontalBlurShader","HorizontalBlurShader","verticalBlurShader","VerticalBlurShader","UniformsUtils","clone","ShaderMaterial","defines","needsSwap","Pass","FullScreenQuad","setSize","renderer","writeBuffer","readBuffer","oldAutoClear","autoClear","setRenderTarget","clear","material","render","renderToScreen","easingFunctions","LINEAR","t","EASE_IN_QUAD","EASE_OUT_QUAD","it","EASE_IN_CUBIC","EASE_OUT_CUBIC","EASE_IN_OUT_QUAD","EASE_IN_OUT_SINE","Math","cos","PI","Uniforms","RendererParams","PageBackgroundPass","gradientSheetMap","frameHeight","fsQuad","GRADIENT_SHEET_UNIFORM","FRAME_MIX_UNIFORM","FRAME_TARGET_MIX_UNIFORM","PAGE_TRANSITION_MIX_UNIFORM","PRIMARY_INDEX","SECONDARY_INDEX","PRIMARY_TARGET_INDEX","SECONDARY_TARGET_INDEX","FRAME_HEIGHT","pageBackgroundShader","depthTest","depthWrite","spec","primaryIndex","secondaryIndex","mix","specFrom","specTo","paramStoreActions","overrideValue","clearColor","oldClearColor","getClearColor","getHex","setClearColor","getClearAlpha","clearAlpha","oldClearAlpha","setClearAlpha","mixShader","MIX","PRIMARY_TEXTURE","SECONDARY_TEXTURE","RenderWithOpacityPass","scene","camera","opacity","overrideMaterial","clearDepth","copyMaterial","mixMaterial","renderTargetScene","CopyShader","deltaTime","maskActive","oldOverrideMaterial","action","restorers","Object","values","p","restorer","splice","forEach","r","withParams","Color","autoClearColor","autoClearDepth","autoClearStencil","SectionDisplay","composer","renderPass","backgroundPass","inTransition","EffectComposer","gradientSheet","blurPass","image","addPass","pixelRatio","setPixelRatio","setTransitionSpecification","setSceneOpacity","setSpecification","backgroundSpec","renderTarget2","createPlane","geometry","BufferGeometry","setAttribute","Float32BufferAttribute","setIndex","HomeSectionKey","SimpleSectionKey","PageKey","ThreeContext","primarySectionMaterial","secondarySectionMaterial","containerElement","primarySectionDisplay","overlapSectionDisplay","backgroundOverlayPass","clock","primaryPlane","nextOverlapPlane","nextOverlapTail","nextOverlapGroup","pages","prevPage","currentPage","pageTransition","WebGLRenderer","Scene","OrthographicCamera","Clock","TextureLoader","load","gradientSheetPath","flipY","wrapS","RepeatWrapping","wrapT","LinearFilter","constructPasses","SSAARenderPass","document","createElement","id","body","appendChild","Mesh","outputTexture","position","set","add","Group","createPlaneTail","light","PointLight","ratio","bottom","top","updateProjectionMatrix","scale","window","devicePixelRatio","sortObjects","domElement","pageProps","innerWidth","innerHeight","addEventListener","e","renderLoop","requestAnimationFrame","setProgress","page","duration","startTime","Date","now","perform","context","currentBreakpoint","nextPageBreakpoint","next","nextBreakpoint","originalPosition","newPosition","overlapPosition","a","b","lerp","abs","setTransition","showSections","createFadeTransition","log","resetTransition","Error","primarySection","secondarySection","delta","getDelta","elapsedTime","getElapsedTime","onUpdate","windowProgress","solarContext","Section","threeContext","useContext","pageContext","useMemo","elementRef","rect","getBoundingClientRect","ref","Stat","setValue","wasVisible","setWasVisible","timeout","setTimeout","tmp","min","clearTimeout","onChange","isVisible","floor","unit","TeamCard","background","img","heading","members","coordinator","Node","state","y","nodeProgress","phase","ACTIVE","HIDDEN","HomeView","HOME","PLANE_SECTION","planeSection","plane","planeScale","overlayIntensity","showAirflow","showWings","bubbles","active","jasiek","kuba","olga","marketing","showSolarPanels","TIMELINE_SECTION","timeline","ContactView","minHeight","color","margin","textAlign","fontSize","useScrollTop","containerRef","callback","setScrollTop","useCallback","handle","runner","cancelAnimationFrame","getOpacityForStop","stops","index","peakTime","endTime","getColorFromStops","prevStop","nextStop","color0","color1","SiteLoaderDigit","digit","PageSwitchDirection","skyColorStops","sunColorStops","mountainBgColorStops","mountainBgLightColorStops","treeBgColorStops","mountainMiddlegroundStops","mountainForegroundStops","getLandscapePieceStyle","colorName","fill","fillOpacity","stroke","transition","personIdleFrames","personOutroFrames","path","SiteLoader","percentage","max","digits","personIdleFrame","setPersonIdleFrame","cameraOffset","setCameraOffset","personOutroFrame","setPersonOutroFrame","setLastTime","whiteoutProgress","setWhiteoutProgress","lastTime","xOffset","yOffset","handler","xTargetOffset","clientX","yTargetOffset","clientY","removeEventListener","transform","viewBox","preserveAspectRatio","display","d","visibility","sqrt","App","routeMatches","map","route","matched","match","useRouteMatch","isExact","pageSwitchDirection","currentPageIndexRef","LEFT","switchDirection","setSwitchDirection","currentRouteIndex","findIndex","RIGHT","usePageSwitchingDirection","currentRoute","find","setPage","classes","scrollableNodeRef","newProgress","random","useMockProgressCounter","location","useLocation","maxHeight","scrollableNodeProps","entries","filter","join","TransitionGroup","CSSTransition","pathname","enter","exit","onEntered","scrollTo","Boolean","hostname","getMousePos","mouse","Vector2","x","putMousePos","SmoothScalar","initialValue","easing","from","v","Bubble","logoUrl","linkUrl","radius","speed","acceleration","force","mass","outlineMaterial","initShape","CircleGeometry","MeshBasicMaterial","side","DoubleSide","transparent","circle","outline","z","tex","material2","SpriteMaterial","sprite","Sprite","factor","maxSize","calculateAcceleration","calculateMove","bubble","dx","dy","pow","collisionInfo","bubble1","bubble2","collided","open","setValues","Object3D","Bubbles","items","Array","_hoveredItem","smoothScale","lastScaleValue","forceMultipler","forcePoint","init","onMouseLeave","onMouseEnter","setCursor","generateBubbles","fun","getUrl","process","sponsor","offset","normalize","multiplyScalar","addBubble","update","calculateBubblesMove","rotateZ","resetForce","attractToPoint","index1","index2","result","checkCollision","resolveCollisionWithBounce","point","f","fx","fy","info","nx","ny","activate","deactivate","unprojectedMouse","found","pos","localObj","worldToLocal","worldToLocalMouse","distanceTo","hoveredItem","onClick","moveTo","cursor","BackgroundCamera","origin","left","right","near","far","smoothOffset","Vector3","targetOffset","snapSpeed","TouchTexture","parent","size","maxAge","trail","canvas","ctx","lastTouchTime","initTexture","getContext","fillStyle","fillRect","THREE","globalCompositeOperation","needsUpdate","age","drawTouch","last","dd","intensity","grd","createRadialGradient","addColorStop","beginPath","arc","glslify","require","Particles","angle","PARICLE_COUNT","points","rotationCenters","touchTexture","options","discardInvisible","mouseX","newMouseX","uOpacity","uTime","uRandom","uDepth","uSize","uScale","uTouch","uVisibleTexture","uResolution","uTextureSize","uScroll","uMouse","initPoints","updateUResolution","shaderMaterial","blending","vertexColors","vertices","colors","sizes","indices","angles","setHSL","g","setUsage","Points","animate","caluclateMouseX","uniformTarget","rotation","sin","addTouch","diff","sign","planeShader","airflowRodMaterial","AirflowRod","model","BoxGeometry","initialModelOptions","materials","getFont","json","loader","FontLoader","Promise","resolve","reject","parse","bodyMaterial","accentMaterial","darkMaterial","wingsBodyMaterial","wingsAccentMaterial","wingsDarkMaterial","solarPanelMaterial","allMaterials","objLoader","OBJLoader","url","opt","keys","getObjectByName","createModelLoader","StorytellingPlane","bodyGroup","wingsGroup","solarPanelsGroup","planeGroups","rotorModel","airflowGroup","airflowRods","wingsOpacity","solarPanelsOpacity","airflowOpacity","updatePositions","all","cyjanBody","cyjanWings","cyjanSolarPanels","cyjanBodyScene","cyjanWingsScene","cyjanSolarPanelsScene","blueprintGridPath","m","setRotationFromEuler","Euler","createAirflowRod","rod","roll","setScalar","planeSectionBackgroundHandler","getBackgroundSpec","createBackgroundEpicHandler","PlaneSection","airplane","particles","_sectionHeight","sunLight","DirectionalLight","lookAt","unproject","getUnprojectedMousePos","onMouseMove","setWidthToHeightRatio","onResize","animateParticles","normalProgress","getModel","object","traverse","child","createPathBuilder","pathSolar","Roboto_Regular","obj","font","PathBuilder","reflectivity","roughness","metalness","clearcoat","flag","getObj","stick","shift","textShift","elem","toString","date","innerHTML","header","description","cssObject","CSS3DObject","getFlag","getHTML","data","Timeline","pathGroup","pathScale","maxX","downPosition","objPathBuilder","getStart","item","getObject3d","TimelineSection","rendererCSS","backgroundColor","innerProgress","CSS3DRenderer","pointerEvents","zoom","ambientLight","AmbientLight","directionalLight","animateParicles","SimpleSection","PLANES","MAIN_SECTION","TEAM","CONTACT","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.8fd3a0a1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/solar-baner.1d692d72.mp4\";","module.exports = __webpack_public_path__ + \"static/media/logo.ce744f2d.png\";","module.exports = __webpack_public_path__ + \"static/media/gradient-sheet.add4fd59.png\";","module.exports = __webpack_public_path__ + \"static/media/jasiek2.cca76532.png\";","module.exports = __webpack_public_path__ + \"static/media/kuba.454dd1a6.png\";","module.exports = __webpack_public_path__ + \"static/media/olga.2f685b05.png\";","module.exports = __webpack_public_path__ + \"static/media/marketing.7283619b.png\";","module.exports = __webpack_public_path__ + \"static/media/cyjan-body.fba2df40.obj\";","module.exports = __webpack_public_path__ + \"static/media/cyjan-wings.c2f5cb67.obj\";","module.exports = __webpack_public_path__ + \"static/media/cyjan-solar-panels.b29cb5de.obj\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV/TSqVUROwgxSFDdbIgKuIoVSyChdJWaNXB5NIvaGJIUlwcBdeCgx+LVQcXZ10dXAVB8APEydFJ0UVK/F9SaBHjwXE/3t173L0DhGaNqWZgHFA1y8gkE2K+sCIGXxFCAAOIIiAxU09lF3LwHF/38PH1Ls6zvM/9OfqUoskAn0g8y3TDIl4nnt60dM77xBFWkRTic+Ixgy5I/Mh12eU3zmWHBZ4ZMXKZOeIIsVjuYrmLWcVQiaeIY4qqUb6Qd1nhvMVZrdVZ+578heGitpzlOs1hJLGIFNIQIaOOKmqwEKdVI8VEhvYTHv6o40+TSyZXFYwc89iACsnxg//B727N0uSEmxROAD0vtv0xAgR3gVbDtr+Pbbt1AvifgSut499oAjOfpDc6WuwI6N8GLq47mrwHXO4AQ0+6ZEiO5KcplErA+xl9UwEYvAVCq25v7X2cPgA56mrpBjg4BEbLlL3m8e7e7t7+PdPu7wci2XKHBI0h/gAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QKBBMSA3tOQIIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACS0lEQVR42u2ZwW6bQBCG/12Dt07sRkRyTz1EvvUleuNl4AVAPbg5VPQFeBm45UGqSsmpHKw2JWSh0faQpUFOnGJsJYadkVbGKwZ7P8/uzPxGJW/VdfZDJYEnlFJIAu8sCTxHKYWWY6kHOo5X9besscDR6SkAzNPQfwegwr2tYIBZAMD5CAByAJkbxZev8UUYY1vdr5Taiz+vJ9woXgGwYZjx5hs3ir+lob9IQ98xEkANAQDS0H9vJIDGdsjS0P+Qhv7EOAAaggTwfX0+Df3F4LLAMxCKtcU7Q0uPHIabtfYLC315tOH+E33fv4mPn75OAODiS+A0zo/+RMCfUqK8yeu9PddjkxUAnj0U+5ZGWSVvFbcscD5qVUqlob+oU6W2pX49XzsrHAClG8VX/3nkUldy5x0rwZ38LWss9k5Vb4NVGvqijoZD3RpMPaD83MZB/r6eAICYzoq2H9LFZ1BZQExnhczzNwd5CKgHa91DJ4HnNDSDVv14EniLQ9QD+A57fBAN0y5bYLXPdMcY22rsy78zAB0Fx3dVNTK5FM6KXz+PjQXgRrG0hajqNGdkMySms6KS0m70EU9VjwJA2bt2uK1N3p7kuFeV8w1V3xxANlgAI9u+05djAKWW08ZPCCzDBKAXeNUI+ZtDXfCLlMJ9WTwpQgSAAGyvB1AEDDgCWMdnPNIE++RP/ws0++ktlaRH/Xgf/SkNEgACQAAIAAEgAASAABAA6gZJDyA9gPQA0gNID6BDkAAQAAJAAAgAASAABIAAGNgNUgSYaH8BtAZW6U59DtgAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/pathSolar.51146976.obj\";","import React, { useEffect, useRef, useState } from 'react';\n\nimport {\n    NavLink\n} from 'react-router-dom';\nimport './Header.scss';\n\ninterface HeaderProps {\n    scrollTop: number;\n}\n\nexport function Header(props: HeaderProps) {\n\n    const [shouldHideHeader, setShouldHideHeader] = useState(false);\n    const shouldShowScrolled = props.scrollTop !== 0;\n    const lastScrollTop = useRef(props.scrollTop);\n\n    const scrolledStyle = shouldShowScrolled ? 'actions--scroll' : '';\n    const hiddenStyle = shouldHideHeader ? 'hidden' : '';\n\n    useEffect(() => {\n        setShouldHideHeader(props.scrollTop - lastScrollTop.current > 0);\n        lastScrollTop.current = props.scrollTop;\n    }, [props.scrollTop, lastScrollTop, setShouldHideHeader])\n\n    return (\n        <header className=\"Header\">\n            <nav className={`actions ${scrolledStyle} ${hiddenStyle}`} >\n                <NavLink exact to=\"/\">Strona Główna</NavLink>\n                <NavLink exact to=\"/planes\">Samoloty</NavLink>\n                <NavLink exact to=\"/team\">Zespół</NavLink>\n                <NavLink exact to=\"/contact\">Kontakt</NavLink>\n            </nav>\n        </header>\n    );\n}\n","import React from 'react';\nimport VideoBannerBg from '../../../assets/video/solar-baner.mp4';\nimport logo from '../../../assets/img/logo.png';\nimport './Banner.scss';\n\nexport function Banner() {\n    return (\n        <div className=\"Banner\">\n            <div className=\"Banner__background\">\n                {/* <img className=\"Banner__background-content\" src={BannerBg} alt=\"background\" /> */}\n                <video className=\"Banner__background-content\" src={VideoBannerBg} autoPlay muted playsInline loop></video>\n                <div className=\"Banner__background-overlay\" ></div>\n            </div>     \n            <div className=\"Banner__overlay\" >    \n                <img src={logo} className=\"Banner__overlay-logo\" alt=\"logo\" />\n                <p className=\"Banner__overlay-text\">PRZYSZŁOŚĆ<br/>JEST BLIŻEJ NIŻ MYŚLISZ</p>\n            </div>\n            <div className=\"Banner__action\">\n                <p className=\"Banner__action-text\">Sprawdź jak to sie zaczyna</p>\n                {/* <div className=\"Banner__action-button\">\\/</div> */}\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport './SideStoryPanel.scss';\n\nexport interface SideStoryPanelProps {\n    title: string;\n    visible: boolean;\n    marginTop?: number;\n    marginBottom?: number;\n    children: React.ReactNode;\n}\n\nexport function SideStoryPanel(props: SideStoryPanelProps) {\n    return (\n        <div className={classNames('SideStoryPanel', {\n                visible: props.visible,\n            })}\n            style={{\n                paddingTop: `${props.marginTop || 0}px`,\n                paddingBottom: `${props.marginBottom || 0}px`,\n            }}\n        >\n            <div className=\"SideStoryPanel--panel\">\n                <h1 className=\"SideStoryPanel--title\">{props.title}</h1>\n                <div className=\"SideStoryPanel--description\">\n                    {props.children}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport { createContext } from 'react';\n\nexport interface PageProps {\n    pageKey: string;\n    children: React.ReactNode;\n}\n\ninterface Context {\n    pageKey: string;\n}\n\nexport const PageContext = createContext<Context|null>(null);\n\nexport function Page(props: PageProps) {\n    return (\n        <PageContext.Provider value={{\n            pageKey: props.pageKey,\n        }}>\n            {props.children}\n        </PageContext.Provider>\n    );\n}","import { createContext } from 'react';\nimport { ThreeContext } from '../../3d/context/threeContext';\n\nexport const ThreeContextContext = createContext<ThreeContext<any>|null>(null);\nexport const ThreeContextProvider = ThreeContextContext.Provider;","import React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport { PageContext } from '../Page';\nimport { ThreeContextContext } from '../ThreeContextProvider';\n\nexport enum NodePhase {\n    HIDDEN,\n    ACTIVE,\n}\n\nexport interface NodeState {\n    nodeProgress: number;\n    phase: NodePhase;\n}\n\nexport interface StorytellerNodeProps<C> {\n    progress: number;\n    children: React.ReactNode | React.ReactNode[] | ((state: NodeState, context: C) => React.ReactNode | React.ReactNode[]);\n    config?: C;\n}\n\nexport function createStorytellerNode<C>() {\n    return ({ children, config, progress }: StorytellerNodeProps<C>) => {\n        const threeContext = useContext(ThreeContextContext);\n        const pageContext = useContext(PageContext);\n        const pageKey = useMemo(() => pageContext?.pageKey || null, [ pageContext ]);\n\n        const elementRef = useRef<HTMLDivElement>(null);\n\n        const state: NodeState = useMemo(() => {\n            const rect = elementRef.current?.getBoundingClientRect();\n\n            if (rect) {\n                if (rect.y < 0 && rect.bottom >= 0) {\n                    return {\n                        nodeProgress: rect.y/rect.height,\n                        phase: NodePhase.ACTIVE,\n                    };\n                } else {\n                    return {\n                        nodeProgress: 0,\n                        phase: NodePhase.HIDDEN,\n                    };\n                }\n            }\n\n            return {\n                nodeProgress: 0,\n                phase: NodePhase.HIDDEN,\n            };\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [ progress, elementRef ]);\n\n        const phase = state.phase;\n\n        useEffect(() => {\n            if (phase === NodePhase.ACTIVE && pageKey && threeContext) {\n                threeContext.setConfig(pageKey, config);\n            }\n        }, [ pageKey, threeContext, config, phase ]);\n\n        return (\n            <div ref={elementRef}>\n                {typeof children === 'function' ? children(state, threeContext as unknown as C) : children}\n            </div>\n        );\n    };\n}","export enum Easing {\n    LINEAR,\n\tEASE_IN_QUAD,\n    EASE_OUT_QUAD,\n\tEASE_IN_CUBIC,\n\tEASE_OUT_CUBIC,\n\tEASE_IN_OUT_QUAD,\n    EASE_IN_OUT_SINE,\n}\n\nexport const easingFunctions = {\n\t[Easing.LINEAR]: (t: number) => t,\n\t[Easing.EASE_IN_QUAD]: (t: number) => t * t,\n    [Easing.EASE_OUT_QUAD]: (t: number) => {\n        const it = 1 - t;\n        return 1 - it * it;\n    },\n    [Easing.EASE_IN_CUBIC]: (t: number) => t * t * t,\n    [Easing.EASE_OUT_CUBIC]: (t: number) => {\n        const it = 1 - t;\n        return 1 - it * it * it;\n\t},\n\t[Easing.EASE_IN_OUT_QUAD]: (t: number) => {\n\t\tt *= 2;\n\t\tif (t < 1)\n\t\t\treturn t * t / 2;\n\t\tt--;\n\t\treturn -(t * (t - 2) - 1) / 2;\n\t},\n    [Easing.EASE_IN_OUT_SINE]: (t: number) => {\n        return 0.5 - Math.cos(t * Math.PI) * 0.5;\n    },\n};","// eslint-disable-next-line\nimport vertexShader from '!raw-loader!./sectionArea.vert';\n// eslint-disable-next-line\nimport fragmentShader from '!raw-loader!./sectionArea.frag';\n\nexport const TEXTURE_UNIFORM: string = 'uTexture';\nexport const OVERLAY_COLOR_UNIFORM: string = 'uOverlayColor';\n\nexport const sectionAreaShader = () => ({\n    uniforms: {\n        [TEXTURE_UNIFORM]: { type: 't', value: undefined },\n        [OVERLAY_COLOR_UNIFORM]: { value: [ 0, 0, 0, 0 ] },\n    },\n    vertexShader: vertexShader,\n    fragmentShader: fragmentShader,\n});\n","export default \"varying vec2 vScreenPosition;\\n\\nvoid main() {\\n\\tvec4 position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\tvScreenPosition = position.xy * vec2(0.5, 0.5) + vec2(0.5, 0.5);\\n\\tgl_Position = position;\\n}\";","export default \"uniform sampler2D uTexture;\\nuniform vec4 uOverlayColor;\\n\\nvarying vec2 vScreenPosition;\\n\\nvoid main() {\\n    vec2 uv = vScreenPosition;\\n    vec4 texture = texture2D(uTexture, uv);\\n\\tgl_FragColor = vec4(mix(texture.rgb, uOverlayColor.rgb, uOverlayColor.a), texture.a);\\n\\n    #include <encodings_fragment>\\n}\";","import { ThreeSection } from './threeSection';\n\nexport type PageMap<P> = {\n    [k in keyof P]: P[k]\n};\n\nexport interface ThreePageProps<TConfig extends ThreePageConfig<TConfig>> {\n    sections: ThreeSection<TConfig, keyof TConfig>[];\n}\n\nexport type ThreePageConfig<I extends object> = {\n    [k in keyof I]?: I[k]\n};\n\nexport interface Breakpoint<I extends ThreePageConfig<I>, K extends keyof I> {\n    progress: number;\n    section: ThreeSection<I, K>;\n}\n\nexport class ThreePage<C extends ThreePageConfig<C>> {\n    private sectionMap!: { [k in keyof C]: ThreeSection<C, k> };\n    private breakpoints: Breakpoint<C, keyof C>[] = [];\n\n    private pageProgress: number = 0;\n\n    private _currentBreakpoint: Breakpoint<C, keyof C> | null = null;\n    private _nextBreakpoint: Breakpoint<C, keyof C> | null = null;\n\n    constructor(props: ThreePageProps<C>) {\n        this.sectionMap = {} as { [k in keyof C]: ThreeSection<C, k> };\n        for (const s of props.sections) {\n            this.sectionMap[s.key] = s;\n        }\n\n        this.computeBreakpoints();\n    }\n\n    get progress() {\n        return this.pageProgress;\n    }\n\n    get currentBreakpoint(): Breakpoint<C, keyof C> | null {\n        return this._currentBreakpoint;\n    }\n\n    get nextBreakpoint(): Breakpoint<C, keyof C> | null {\n        return this._nextBreakpoint;\n    }\n\n    private computeBreakpoints() {\n        this.breakpoints = [];\n        \n        let accumulatedProgress = 0;\n        for (const sectionKey in this.sectionMap) {\n            const section = this.sectionMap[sectionKey];\n\n            this.breakpoints.push({\n                progress: accumulatedProgress,\n                section: section,\n            });\n            accumulatedProgress += section.sectionHeight;\n        }\n\n        // Updating the current and next breakpoints.\n        this.computeCurrentAndNextBreakpoints();\n    }\n\n    public setProgress(progress: number) {\n        this.pageProgress = progress;\n        this.computeCurrentAndNextBreakpoints();\n    }\n\n    public setConfig(config: C) {\n        for (const key in config) {\n            if (this.sectionMap[key]) {\n                this.sectionMap[key].setConfig(config[key] || {});\n            } else {\n                console.error(`Did you forget to add the '${key}' section to a page while initializing your ThreeContext?`);\n            }\n        }\n    }\n\n    public setSectionHeight<K extends keyof C>(sectionKey: K, height: number) {\n        const section = this.sectionMap[sectionKey];\n        if (section) {\n            if (section.sectionHeight !== height) {\n                section.setSectionHeight(height);\n                this.computeBreakpoints();\n            }\n        }\n        else {\n            console.error(`Tries to set the height of a section that doesn't exist: ${sectionKey}`);\n        }\n    }\n\n    public updateCameraProjection(width: number, height: number) {\n        for (const breakpoint of this.breakpoints) {\n            breakpoint.section.updateCameraProjection(width, height);\n        }\n    }\n\n    private computeCurrentAndNextBreakpoints() {\n        for (let i = this.breakpoints.length - 1; i >= 0; --i) {\n            const breakpoint = this.breakpoints[i];\n\n            if (this.pageProgress >= breakpoint.progress) {\n                this._currentBreakpoint = breakpoint;\n                this._nextBreakpoint = this.breakpoints[i + 1] || null;\n\n                if (breakpoint.section.setSectionProgress)\n                    breakpoint.section.setSectionProgress(this.pageProgress - breakpoint.progress);\n\n                if (this._nextBreakpoint && this._nextBreakpoint.section.setSectionProgress)\n                    this._nextBreakpoint.section.setSectionProgress(this.pageProgress - this._nextBreakpoint.progress);\n\n                return;\n            }\n        }\n\n        this._currentBreakpoint = null;\n        this._nextBreakpoint = null;\n    }\n}\n\n","import {\n    Material,\n\tNearestFilter,\n\tShaderMaterial,\n\tUniformsUtils,\n    WebGLRenderer,\n\tWebGLRenderTarget\n} from 'three';\nimport { Pass } from 'three/examples/jsm/postprocessing/Pass';\nimport { HorizontalBlurShader } from 'three/examples/jsm/shaders/HorizontalBlurShader';\nimport { VerticalBlurShader } from 'three/examples/jsm/shaders/VerticalBlurShader';\n\ninterface BlurPassParams {\n    hBlur: number;\n    vBlur: number;\n}\n\nexport class BlurPass extends Pass {\n\n    private hQuad: Pass.FullScreenQuad;\n    private vQuad: Pass.FullScreenQuad;\n\n    private renderTargetHorizontal: WebGLRenderTarget;\n    private hBlur: number;\n    private vBlur: number;\n\n    private horizontalUniforms: any;\n    private verticalUniforms: any;\n\n    private hQuadMaterial: Material;\n    private vQuadMaterial: Material;\n\n    constructor(params: BlurPassParams) {\n        // render targets\n        super();\n\n        this.hBlur = params.hBlur;\n        this.vBlur = params.vBlur;\n\n        this.renderTargetHorizontal = new WebGLRenderTarget(1, 1, {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter\n        });\n\n        this.renderTargetHorizontal.texture.name = 'BlurPass.middle';\n\n        // bokeh material\n        const horizontalBlurShader = HorizontalBlurShader;\n        const verticalBlurShader = VerticalBlurShader;\n        this.horizontalUniforms = UniformsUtils.clone(horizontalBlurShader.uniforms);\n        this.verticalUniforms = UniformsUtils.clone(verticalBlurShader.uniforms);\n\n        this.horizontalUniforms['h'].value = this.hBlur;\n        this.verticalUniforms['tDiffuse'].value = this.renderTargetHorizontal.texture;\n        this.verticalUniforms['v'].value = this.vBlur;\n\n        this.hQuadMaterial = new ShaderMaterial({\n            defines: {},\n            uniforms: this.horizontalUniforms,\n            vertexShader: horizontalBlurShader.vertexShader,\n            fragmentShader: horizontalBlurShader.fragmentShader,\n        });\n\n        this.vQuadMaterial = new ShaderMaterial({\n            defines: {},\n            uniforms: this.verticalUniforms,\n            vertexShader: verticalBlurShader.vertexShader,\n            fragmentShader: verticalBlurShader.fragmentShader,\n        });\n\n        this.needsSwap = true;\n        this.hQuad = new Pass.FullScreenQuad(this.hQuadMaterial);\n        this.vQuad = new Pass.FullScreenQuad(this.vQuadMaterial);\n    }\n\n    setSize(width: number, height: number) {\n        this.renderTargetHorizontal.setSize(width, height);\n    }\n\n    render(renderer: WebGLRenderer, writeBuffer: WebGLRenderTarget, readBuffer: WebGLRenderTarget/*, deltaTime, maskActive*/) {\n\t\t// Render horizontal blur into texture\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n        this.horizontalUniforms['tDiffuse'].value = readBuffer.texture;\n\t\trenderer.setRenderTarget(this.renderTargetHorizontal);\n        renderer.clear();\n        this.hQuad.material = this.hQuadMaterial;\n\t\tthis.hQuad.render(renderer);\n\n        // Render blur composite\n        this.vQuad.material = this.vQuadMaterial;\n\n\t\tif (this.renderToScreen) {\n            renderer.setRenderTarget(null);\n            renderer.clear();\n            this.vQuad.render(renderer);\n        }\n        else {\n\t\t\trenderer.setRenderTarget(writeBuffer);\n            renderer.clear();\n\t\t\tthis.vQuad.render(renderer);\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\t}\n};","export default \"uniform int uPrimaryIndex;\\nuniform int uSecondaryIndex;\\nuniform int uPrimaryTargetIndex;\\nuniform int uSecondaryTargetIndex;\\nuniform float uFrameHeight;\\n\\nvarying vec2 vPrimaryUV;\\nvarying vec2 vSecondaryUV;\\nvarying vec2 vPrimaryTargetUV;\\nvarying vec2 vSecondaryTargetUV;\\n\\nvec2 uvsForIndex(vec2 screenPosition, int index) {\\n\\treturn vec2(screenPosition.x, (screenPosition.y + float(index)) * uFrameHeight);\\n}\\n\\nvoid main() {\\n\\tvec4 position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\n    float zoomScale = 0.8;\\n    vec2 screenPosition = position.xy * vec2(zoomScale, -zoomScale) * vec2(0.5, 0.5) + vec2(0.5, 0.5);\\n\\tvPrimaryUV = uvsForIndex(screenPosition, uPrimaryIndex);\\n\\tvSecondaryUV = uvsForIndex(screenPosition, uSecondaryIndex);\\n\\tvPrimaryTargetUV = uvsForIndex(screenPosition, uPrimaryTargetIndex);\\n\\tvSecondaryTargetUV = uvsForIndex(screenPosition, uSecondaryTargetIndex);\\n\\tgl_Position = position;\\n}\";","// eslint-disable-next-line\nimport vertexShader from '!raw-loader!./background.vert';\n// eslint-disable-next-line\nimport fragmentShader from '!raw-loader!./background.frag';\n\nexport enum Uniforms {\n    OPACITY = 'uOpacity',\n    GRADIENT_SHEET_UNIFORM = 'uTextureSheet',\n    FRAME_MIX_UNIFORM = 'uTextureMix',\n    FRAME_TARGET_MIX_UNIFORM = 'uTextureTargetMix',\n    PAGE_TRANSITION_MIX_UNIFORM = 'uPageTransitionMix',\n    PRIMARY_INDEX = 'uPrimaryIndex',\n    SECONDARY_INDEX = 'uSecondaryIndex',\n    PRIMARY_TARGET_INDEX = 'uPrimaryTargetIndex',\n    SECONDARY_TARGET_INDEX = 'uSecondaryTargetIndex',\n    FRAME_HEIGHT = 'uFrameHeight',\n}\n\nexport const pageBackgroundShader = () => ({\n    uniforms: {\n        [Uniforms.GRADIENT_SHEET_UNIFORM]: { type: 't', value: undefined },\n        [Uniforms.FRAME_MIX_UNIFORM]: { value: 0 },\n        [Uniforms.FRAME_TARGET_MIX_UNIFORM]: { value: 0 },\n        [Uniforms.PAGE_TRANSITION_MIX_UNIFORM]: { value: 0 },\n        [Uniforms.PRIMARY_INDEX]: { value: 0 },\n        [Uniforms.SECONDARY_INDEX]: { value: 0 },\n        [Uniforms.PRIMARY_TARGET_INDEX]: { value: 0 },\n        [Uniforms.SECONDARY_TARGET_INDEX]: { value: 0 },\n        [Uniforms.FRAME_HEIGHT]: { value: 1 },\n    },\n    vertexShader: vertexShader,\n    fragmentShader: fragmentShader,\n});\n","import { Color, WebGLRenderer } from 'three';\n\nexport enum RendererParams {\n    AUTO_CLEAR = 'autoClear',\n    CLEAR_COLOR = 'clearColor',\n    CLEAR_ALPHA = 'clearAlpha',\n}\n\ntype RendererParamTypes = {\n    [RendererParams.AUTO_CLEAR]: boolean,\n    [RendererParams.CLEAR_COLOR]: Color,\n    [RendererParams.CLEAR_ALPHA]: number,\n};\n\ninterface StoreAction<P extends RendererParams> {\n    (renderer: WebGLRenderer, overrideValue: RendererParamTypes[P]): () => void,\n}\n\nconst paramStoreActions: {[K in keyof RendererParamTypes]: StoreAction<K>} = {\n    autoClear(renderer: WebGLRenderer, overrideValue: boolean) {\n        // Store old value\n        const oldAutoClear = renderer.autoClear;\n        renderer.autoClear = overrideValue;\n\n        // Restore old value in a callback\n        return () => renderer.autoClear = oldAutoClear;\n    },\n\n    clearColor(renderer: WebGLRenderer, overrideValue: Color) {\n        // Store old value\n        const oldClearColor = renderer.getClearColor().getHex();\n        renderer.setClearColor(overrideValue);\n\n        // Restore old value in a callback\n        return () => renderer.setClearColor(oldClearColor, renderer.getClearAlpha());\n    },\n\n    clearAlpha(renderer: WebGLRenderer, overrideValue: number) {\n        // Store old value\n        const oldClearAlpha = renderer.getClearAlpha();\n        renderer.setClearAlpha(overrideValue);\n\n        // Restore old value in a callback\n        return () => renderer.setClearAlpha(oldClearAlpha);\n    },\n};\n\nexport function withParams(renderer: WebGLRenderer, params: Partial<RendererParamTypes>, action: () => void) {\n    let restorers: (() => void)[] = [];\n\n    for (const p of Object.values(RendererParams)) {\n        if (params[p] !== undefined) {\n            const restorer = paramStoreActions[p as RendererParams](renderer, params[p] as never);\n\n            restorers.splice(0, 0, restorer);\n        }\n    }\n\n    // Perform action\n    action();\n\n    // Restore old values\n    restorers.forEach(r => r());\n}\n","import { ShaderMaterial, Texture, WebGLRenderer, WebGLRenderTarget } from 'three';\nimport { Pass } from 'three/examples/jsm/postprocessing/Pass';\nimport { pageBackgroundShader, Uniforms } from './pageBackgroundShader';\n\nexport interface PageBackgroundSpecification {\n    primaryIndex: number;\n    secondaryIndex: number;\n    mix: number;\n}\n\nexport class PageBackgroundPass extends Pass {\n\n    private material: ShaderMaterial;\n    private fsQuad: Pass.FullScreenQuad;\n\n    constructor(gradientSheetMap: Texture, frameHeight: number) {\n        super();\n    \n        this.material = new ShaderMaterial({\n            ...pageBackgroundShader(),\n            depthTest: false,\n            depthWrite: false\n        });\n\n        this.material.uniforms[Uniforms.GRADIENT_SHEET_UNIFORM].value = gradientSheetMap;\n        this.material.uniforms[Uniforms.FRAME_HEIGHT].value = frameHeight;\n        this.material.uniforms[Uniforms.FRAME_HEIGHT].value = frameHeight;\n\n        this.clear = true;\n        this.needsSwap = false;\n        this.fsQuad = new Pass.FullScreenQuad(this.material);\n    }\n\n    setSpecification(spec: PageBackgroundSpecification): void {\n        const uniforms = this.material.uniforms;\n        uniforms[Uniforms.PRIMARY_INDEX].value = spec.primaryIndex;\n        uniforms[Uniforms.SECONDARY_INDEX].value = spec.secondaryIndex;\n        uniforms[Uniforms.FRAME_MIX_UNIFORM].value = spec.mix;\n        uniforms[Uniforms.PAGE_TRANSITION_MIX_UNIFORM].value = 0;\n    }\n\n    setTransitionSpecification(specFrom: PageBackgroundSpecification, specTo: PageBackgroundSpecification, progress: number): void {\n        const uniforms = this.material.uniforms;\n        uniforms[Uniforms.PRIMARY_INDEX].value = specFrom.primaryIndex;\n        uniforms[Uniforms.SECONDARY_INDEX].value = specFrom.secondaryIndex;\n        uniforms[Uniforms.FRAME_MIX_UNIFORM].value = specFrom.mix;\n        uniforms[Uniforms.PRIMARY_TARGET_INDEX].value = specTo.primaryIndex;\n        uniforms[Uniforms.SECONDARY_TARGET_INDEX].value = specTo.secondaryIndex;\n        uniforms[Uniforms.FRAME_TARGET_MIX_UNIFORM].value = specTo.mix;\n        uniforms[Uniforms.PAGE_TRANSITION_MIX_UNIFORM].value = progress;\n    }\n\n    public render(renderer: WebGLRenderer, writeBuffer: WebGLRenderTarget, readBuffer: WebGLRenderTarget /*, deltaTime, maskActive */ ) {\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n        renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n        \n        if (this.clear)\n            renderer.clear();\n\n\t\tthis.fsQuad.material = this.material;\n\t\tthis.fsQuad.render(renderer);\n\n\t\trenderer.autoClear = oldAutoClear;\n\t}\n}","export default \"uniform sampler2D uTextureSheet;\\nuniform float uTextureMix;\\nuniform float uTextureTargetMix;\\nuniform float uPageTransitionMix;\\n\\nvarying vec2 vPrimaryUV;\\nvarying vec2 vSecondaryUV;\\nvarying vec2 vPrimaryTargetUV;\\nvarying vec2 vSecondaryTargetUV;\\n\\nvoid main() {\\n    vec4 primaryTexture = texture2D(uTextureSheet, vPrimaryUV);\\n    vec4 secondaryTexture = texture2D(uTextureSheet, vSecondaryUV);\\n\\n\\tvec4 mixedColor = mix(primaryTexture, secondaryTexture, uTextureMix);\\n\\n    if (uPageTransitionMix > 0.0) {\\n        // During a page transition\\n        vec4 primaryTargetTexture = texture2D(uTextureSheet, vPrimaryTargetUV);\\n        vec4 secondaryTargetTexture = texture2D(uTextureSheet, vSecondaryTargetUV);\\n\\n        vec4 mixedTargetColor = mix(primaryTargetTexture, secondaryTargetTexture, uTextureTargetMix);\\n        gl_FragColor = mix(mixedColor, mixedTargetColor, uPageTransitionMix);\\n    }\\n    else {\\n        gl_FragColor = mixedColor;\\n    }\\n\\n\\n    #include <encodings_fragment>\\n}\";","export default \"varying vec2 vUV;\\n\\nvoid main() {\\n    vUV = uv;\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\n}\";","// eslint-disable-next-line\nimport vertexShader from '!raw-loader!./mixShader.vert';\n// eslint-disable-next-line\nimport fragmentShader from '!raw-loader!./mixShader.frag';\n\nexport enum Uniforms {\n    MIX = 'uMix',\n    PRIMARY_TEXTURE = 'uPrimaryTexture',\n    SECONDARY_TEXTURE = 'uSecondaryTexture',\n}\n\nexport const mixShader = () => ({\n    uniforms: {\n        [Uniforms.MIX]: { value: 0 },\n        [Uniforms.PRIMARY_TEXTURE]: { type: 't', value: undefined },\n        [Uniforms.SECONDARY_TEXTURE]: { type: 't', value: undefined },\n    },\n    vertexShader: vertexShader,\n    fragmentShader: fragmentShader,\n});\n","export default \"uniform sampler2D uPrimaryTexture;\\nuniform sampler2D uSecondaryTexture;\\nuniform float uMix;\\n\\nvarying vec2 vUV;\\n\\nvoid main() {\\n    vec4 primaryTexture = texture2D(uPrimaryTexture, vUV);\\n    vec4 secondaryTexture = texture2D(uSecondaryTexture, vUV);\\n\\n\\tgl_FragColor = mix(primaryTexture, secondaryTexture, uMix);\\n}\";","import { Camera, Color, Material, NearestFilter, Scene, ShaderMaterial, UniformsUtils, WebGLRenderer, WebGLRenderTarget } from 'three';\nimport { Pass } from 'three/examples/jsm/postprocessing/Pass';\nimport { CopyShader } from 'three/examples/jsm/shaders/CopyShader';\nimport { withParams } from '../../../utils/effectUtils';\nimport { mixShader, Uniforms } from './mixShader/mixShader';\n\nexport class RenderWithOpacityPass extends Pass {\n    public clearDepth: boolean;\n\n    private copyMaterial: ShaderMaterial;\n    private mixMaterial: ShaderMaterial;\n    private renderTargetScene: WebGLRenderTarget;\n    private fsQuad: Pass.FullScreenQuad;\n\n    constructor(public scene: Scene, public camera: Camera, public opacity: number = 1, private overrideMaterial?: Material, private clearColor?: Color, private clearAlpha: number = 0) {\n        super();\n\n        this.renderTargetScene = new WebGLRenderTarget(1, 1, {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter\n        });\n\n        this.copyMaterial = new ShaderMaterial({\n            uniforms: UniformsUtils.clone(CopyShader.uniforms),\n            vertexShader: CopyShader.vertexShader,\n            fragmentShader: CopyShader.fragmentShader,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        this.mixMaterial = new ShaderMaterial({\n            ...mixShader(),\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        this.fsQuad = new Pass.FullScreenQuad();\n\n        this.clear = true;\n        this.clearDepth = false;\n        this.needsSwap = true;\n    }\n\n    setSize(width: number, height: number) {\n        this.renderTargetScene.setSize(width, height);\n    }\n\n    render(renderer: WebGLRenderer, writeBuffer: WebGLRenderTarget, readBuffer: WebGLRenderTarget, deltaTime: number, maskActive: boolean) {\n        let oldOverrideMaterial;\n\n        if (this.overrideMaterial !== undefined) {\n            oldOverrideMaterial = this.scene.overrideMaterial;\n            this.scene.overrideMaterial = this.overrideMaterial;\n        }\n\n        withParams(renderer, {\n            autoClear: false,\n            clearColor: new Color(0, 0, 0),\n        }, () => {\n            // Copying the background\n            renderer.setRenderTarget(this.renderTargetScene);\n            renderer.clear();\n\n\t\t    this.copyMaterial.uniforms['tDiffuse'].value = readBuffer.texture;\n            \n            this.fsQuad.material = this.copyMaterial;\n            this.fsQuad.render(renderer);\n            \n            // Rendering the scene\n            renderer.render(this.scene, this.camera);\n            \n            // Compositing with opacity\n            renderer.setRenderTarget(this.renderToScreen ? null : writeBuffer);\n            \n            this.mixMaterial.uniforms[Uniforms.MIX].value = this.opacity;\n            this.mixMaterial.uniforms[Uniforms.PRIMARY_TEXTURE].value = readBuffer.texture;\n            this.mixMaterial.uniforms[Uniforms.SECONDARY_TEXTURE].value = this.renderTargetScene.texture;\n\n            if (this.clearColor)\n                renderer.setClearColor(this.clearColor);\n\n            // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n            if (this.clear)\n                renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n\n            this.fsQuad.material = this.mixMaterial;\n            this.fsQuad.render(renderer);\n        });\n\n        if (oldOverrideMaterial !== undefined) {\n            this.scene.overrideMaterial = oldOverrideMaterial;\n        }\n    }\n}","import { Texture, WebGLRenderer, Scene, Camera } from 'three';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { BlurPass } from '../common/effects/blurPass';\nimport { PageBackgroundPass, PageBackgroundSpecification } from '../common/effects/pageBackgroundPass';\nimport { RenderWithOpacityPass } from '../common/effects/renderWithOpacityPass';\nimport { ThreeSection } from './threeSection';\n\n\n\nexport class SectionDisplay {\n    private composer: EffectComposer;\n    \n    private renderPass: RenderWithOpacityPass;\n    private backgroundPass!: PageBackgroundPass;\n\n    private inTransition: boolean = false;\n\n    constructor(renderer: WebGLRenderer, scene: Scene, camera: Camera) {\n        this.composer = new EffectComposer(renderer);\n        this.composer.renderToScreen = false;\n        \n        this.renderPass = new RenderWithOpacityPass(scene, camera, 1.0);\n        this.renderPass.clear = false;\n    }\n\n    get outputTexture(): Texture {\n        return this.composer.renderTarget2.texture;\n    }\n\n    constructPasses(gradientSheet: Texture, blurPass: BlurPass): void {\n        this.backgroundPass = new PageBackgroundPass(gradientSheet, 16 / gradientSheet.image.height);\n\n        this.composer.addPass(this.backgroundPass);\n        this.composer.addPass(blurPass);\n        this.composer.addPass(this.renderPass);\n    }\n\n    setSize(width: number, height: number): void {\n        this.composer.setSize(width, height);\n    }\n\n    setPixelRatio(pixelRatio: number): void {\n        this.composer.setPixelRatio(pixelRatio);\n    }\n\n    setSceneOpacity(opacity: number): void {\n        this.renderPass.opacity = opacity;\n    }\n\n    setTransition(specFrom: PageBackgroundSpecification, specTo: PageBackgroundSpecification, progress: number) {\n        this.backgroundPass.setTransitionSpecification(specFrom, specTo, progress);\n        this.inTransition = true;\n    }\n\n    resetTransition() {\n        this.inTransition = false;\n        this.setSceneOpacity(1);\n    }\n\n    render(section: ThreeSection<any, any>): void {\n        this.renderPass.scene = section.scene;\n        this.renderPass.camera = section.camera;\n\n        if (this.backgroundPass) {\n            if (!this.inTransition) {\n                this.backgroundPass.setSpecification(section.backgroundSpec);\n            }\n        }\n\n        this.composer.render();\n    }\n}","import {\n    BufferGeometry,\n    Camera,\n    Clock,\n    Float32BufferAttribute,\n    Group,\n    LinearFilter,\n    Mesh,\n    OrthographicCamera,\n    PointLight,\n    RepeatWrapping,\n    Scene,\n    ShaderMaterial,\n    TextureLoader,\n    WebGLRenderer,\n} from 'three';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { SSAARenderPass } from 'three/examples/jsm/postprocessing/SSAARenderPass';\nimport { OVERLAY_COLOR_UNIFORM, sectionAreaShader, TEXTURE_UNIFORM } from './sectionAreaShader';\nimport { ThreePage, ThreePageProps } from './threePage';\nimport { ThreeSection } from './threeSection';\nimport gradientSheetPath from '../../assets/img/gradient-sheet.png';\nimport { BlurPass } from '../common/effects/blurPass';\nimport { PageTransition, TransitionContext } from './transition';\nimport { createFadeTransition } from './fadeTransition';\nimport { SectionDisplay } from './sectionDisplay';\nimport { PageBackgroundPass } from '../common/effects/pageBackgroundPass';\n\nexport type ThreeContextConfig<I extends object> = {\n    [k in keyof I]: I[k]\n};\n\nfunction createPlane() {\n    const geometry = new BufferGeometry();\n    const vertices = [\n        0, 1, 0,\n        1, 1, 0,\n        1, 0, 0,\n        0, 0, 0,\n    ];\n    const uvs = [\n        0, 0,\n        1, 0,\n        1, 1,\n        0, 1,\n    ];\n    const indices = [\n        0, 1, 3,\n        1, 2, 3,\n    ];\n\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n    geometry.setIndex(indices);\n    return geometry;\n}\n\nfunction createPlaneTail() {\n    const geometry = new BufferGeometry();\n    const vertices = [\n        1, -0.1, 0,\n        0, 0, 0,\n        1, 0, 0,\n    ];\n    const indices = [\n        0, 1, 2,\n    ];\n\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setIndex(indices);\n    return geometry;\n}\n\nexport class ThreeContext<C extends ThreeContextConfig<C>> implements TransitionContext<C> {\n    private primarySectionMaterial = new ShaderMaterial({\n        ...sectionAreaShader(),\n    });\n    \n    private secondarySectionMaterial = new ShaderMaterial({\n        ...sectionAreaShader(),\n    });\n\n    /**\n     * This element contains the canvas.\n     */\n    private containerElement: HTMLElement;\n    private renderer: WebGLRenderer;\n\n    public primarySectionDisplay: SectionDisplay;\n    public overlapSectionDisplay: SectionDisplay;\n    public composer: EffectComposer;\n    private backgroundOverlayPass!: PageBackgroundPass;\n    public scene: Scene;\n    public camera: OrthographicCamera;\n    public clock: Clock;\n    public primaryPlane: Mesh;\n    public nextOverlapPlane: Mesh;\n    public nextOverlapTail: Mesh;\n    public nextOverlapGroup: Group;\n\n    private pages!: { [k in keyof C]: ThreePage<C[k]> };\n    public prevPage: ThreePage<any> | null = null;\n    public currentPage: ThreePage<any> | null = null;\n    private pageTransition: PageTransition<C> | null = null;\n\n    constructor() {\n        this.renderer = new WebGLRenderer();\n\n        this.composer = new EffectComposer(this.renderer);\n\n        this.scene = new Scene();\n        this.camera = new OrthographicCamera(0, 1, 1, 0, -100, 100);\n        this.clock = new Clock();\n\n        this.primarySectionDisplay = new SectionDisplay(this.renderer, this.scene, this.camera);\n        this.overlapSectionDisplay = new SectionDisplay(this.renderer, this.scene, this.camera);\n\n        const textureLoader = new TextureLoader();\n\n        textureLoader.load(gradientSheetPath, (texture) => {\n            texture.flipY = false;\n            texture.wrapS = RepeatWrapping;\n            texture.wrapT = RepeatWrapping;\n            texture.minFilter = LinearFilter;\n            texture.magFilter = LinearFilter;\n\n            const blurPass = new BlurPass({\n                hBlur: 0.01,\n                vBlur: 0.01,\n            });\n\n            this.primarySectionDisplay.constructPasses(texture, blurPass);\n            this.overlapSectionDisplay.constructPasses(texture, blurPass);\n        });\n\n        this.composer.addPass(new SSAARenderPass(this.scene, this.camera, 0xffffff, 1));\n\n        this.containerElement = document.createElement('div');\n        this.containerElement.id = 'threejs-container';\n        document.body.appendChild(this.containerElement);\n\n        this.primaryPlane = new Mesh(createPlane(), this.primarySectionMaterial);\n        this.primarySectionMaterial.uniforms[TEXTURE_UNIFORM].value = this.primarySectionDisplay.outputTexture;\n        this.primaryPlane.position.set(0, 0, 0);\n        this.scene.add(this.primaryPlane);\n\n        this.secondarySectionMaterial.uniforms[TEXTURE_UNIFORM].value = this.overlapSectionDisplay.outputTexture;\n        this.nextOverlapGroup = new Group();\n        this.scene.add(this.nextOverlapGroup);\n\n        this.nextOverlapPlane = new Mesh(createPlane(), this.secondarySectionMaterial);\n        this.nextOverlapGroup.add(this.nextOverlapPlane);\n        this.nextOverlapTail = new Mesh(createPlaneTail(), this.secondarySectionMaterial);\n        this.nextOverlapGroup.add(this.nextOverlapTail);\n\n        const light = new PointLight(0xffffffff);\n        light.position.set(0, 0, -2);\n        this.scene.add(light);\n    }\n\n    private updateCameraProjection(width: number, height: number) {\n        const ratio = height / width;\n        this.camera.bottom = ratio;\n        this.camera.top = 0;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(width, height);\n        this.composer.setSize(width, height);\n        this.primarySectionDisplay.setSize(width, height);\n        this.overlapSectionDisplay.setSize(width, height);\n\n        this.primaryPlane.scale.set(1, ratio, 1);\n        this.nextOverlapPlane.scale.set(1, ratio, 1);\n\n        for (const key in this.pages) {\n            this.pages[key].updateCameraProjection(width, height);\n        }\n    }\n\n    public init(pages: { [k in keyof C]: ThreePageProps<C[k]> }) {\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.composer.setPixelRatio(window.devicePixelRatio);\n        this.primarySectionDisplay.setPixelRatio(window.devicePixelRatio);\n        this.overlapSectionDisplay.setPixelRatio(window.devicePixelRatio);\n        this.renderer.setClearColor(0xffff00ff);\n        this.renderer.sortObjects = false;\n\n        this.containerElement.appendChild(this.renderer.domElement);\n\n        // Pages?\n        this.pages = {} as any;\n        for (const key in pages) {\n            const pageProps = pages[key];\n            this.pages[key] = new ThreePage(pageProps);\n        }\n\n        this.updateCameraProjection(window.innerWidth, window.innerHeight);\n\n        // Resize the canvas on window resize.\n        window.addEventListener('resize', (e) => {\n            this.updateCameraProjection(window.innerWidth, window.innerHeight);\n        }, false);\n\n        // Setting up the render loop\n        const renderLoop = () => {\n            this.render();\n            requestAnimationFrame(renderLoop);\n        };\n\n        renderLoop();\n    }\n\n    public setProgress(progress: number) {\n        if (this.currentPage) {\n            this.currentPage.setProgress(progress);\n        }\n    }\n\n    public setPage<K extends keyof C>(page: K) {\n        if (this.currentPage === null) {\n            this.prevPage = this.currentPage = this.pages[page] || null;\n        }\n        else {\n            this.prevPage = this.currentPage;\n            this.currentPage = this.pages[page] || null;\n            this.pageTransition = createFadeTransition(500);\n        }\n\n        if (this.currentPage === null) {\n            console.error(`Couldn't find a page with key '${page}'.`);\n            this.pageTransition = null;\n        }\n        else {\n            console.log(`Setting page to ${page}`);\n        }\n    }\n\n    public setConfig<K extends keyof C>(pageKey: K, config: C[K]) {\n        if (this.pages[pageKey]) {\n            this.pages[pageKey].setConfig(config);\n        }\n    }\n\n    public setSectionHeight<K extends keyof C, KS extends keyof C[K]>(pageKey: K, sectionKey: KS, height: number) {\n        if (this.pages[pageKey]) {\n            this.pages[pageKey].setSectionHeight(sectionKey, height);\n        }\n        else {\n            console.error(`Tries to set the height of a section whose page doesn't exist: ${pageKey}`);\n        }\n    }\n\n    render() {\n        if (this.currentPage === null) {\n            return;\n        }\n\n        if (this.pageTransition !== null && this.prevPage !== null) {\n            if (!this.pageTransition.perform(this, this.prevPage, this.currentPage)) {\n                // Rendering\n                this.composer.render();\n\n                return;\n            }\n\n            this.primarySectionMaterial.uniforms[OVERLAY_COLOR_UNIFORM].value = [0, 0, 0, 0];\n            this.secondarySectionMaterial.uniforms[OVERLAY_COLOR_UNIFORM].value = [0, 0, 0, 0];\n            this.primarySectionDisplay.resetTransition();\n            this.overlapSectionDisplay.resetTransition();\n            this.pageTransition = null;\n            this.prevPage = null;\n        }\n\n        const current = this.currentPage.currentBreakpoint;\n        const next = this.currentPage.nextBreakpoint;\n\n        if (next) {\n            this.overlapPosition = next.progress - this.currentPage.progress;\n        }\n\n        if (!current) {\n            throw new Error(`No breakpoint defined for the current page.`);\n        }\n\n        this.showSections(current.section, next?.section);\n\n        // Rendering\n        this.composer.render();\n    }\n\n    /**\n     * This is public because it's used by both transitions and the regular render-loop.\n     * @param primarySection The section to be rendered as primary (top)\n     * @param secondarySection The section to be rendered as secondary (bottom)\n     */\n    public showSections(primarySection: ThreeSection<any, any>, secondarySection?: ThreeSection<any, any>): void {\n        let delta = this.clock.getDelta();\n        let elapsedTime = this.clock.getElapsedTime();\n\n        primarySection.onUpdate(delta, elapsedTime);\n        this.primarySectionDisplay.render(primarySection);\n\n        if (secondarySection) {\n            secondarySection.onUpdate(delta, elapsedTime);\n            this.overlapSectionDisplay.render(secondarySection);\n\n            this.nextOverlapGroup.visible = true;\n        }\n        else {\n            this.nextOverlapGroup.visible = false;\n        }\n    }\n\n    set overlapPosition(position: number) {\n        this.nextOverlapGroup.position.set(0, position / window.innerWidth, 0);\n\n        const page = this.prevPage || this.currentPage;\n        if (page !== null && page.nextBreakpoint) {\n            const windowProgress = position / window.innerHeight;\n            this.nextOverlapTail.scale.set(1, 1 - windowProgress, 1);\n        }\n    }\n}","import { ThreeContext } from './context/threeContext';\nimport { PlaneSectionConfig } from './plane/planeSection';\nimport { SliderSectionConfig } from './slider/sliderSection';\nimport { TimelineSectionConfig } from './timeline/timelineSection';\n\nexport enum HomeSectionKey {\n    PLANE_SECTION = 'planeSection',\n    TIMELINE_SECTION = 'timelineSection',\n    SLIDER_SECTION = 'sliderSection',\n};\n\nexport enum SimpleSectionKey {\n    MAIN_SECTION = 'mainSection',\n};\n\nexport enum PageKey {\n    HOME = '/',\n    PLANES = '/planes',\n    TEAM = '/team',\n    CONTACT = '/contact',\n}\n\nexport interface HomePageConfig {\n    [HomeSectionKey.PLANE_SECTION]?: PlaneSectionConfig;\n    [HomeSectionKey.TIMELINE_SECTION]?: TimelineSectionConfig;\n    [HomeSectionKey.SLIDER_SECTION]?: SliderSectionConfig;\n}\n\nexport interface SimplePageConfig {\n    [SimpleSectionKey.MAIN_SECTION]?: {};\n}\n\nexport type SolarPageConfigMap = {\n    [PageKey.HOME]: HomePageConfig,\n    [PageKey.PLANES]: SimplePageConfig,\n    [PageKey.TEAM]: SimplePageConfig,\n    [PageKey.CONTACT]: SimplePageConfig,\n}\n\nexport const solarContext = new ThreeContext<SolarPageConfigMap>();","import { ThreeContextConfig } from './threeContext';\nimport { Easing, easingFunctions } from '../../utils/easing';\nimport { lerp } from '../../utils/math';\nimport { PageTransition, TransitionContext } from './transition';\nimport { ThreePage } from './threePage';\n\nexport function createFadeTransition<C extends ThreeContextConfig<C>>(duration: number): PageTransition<C> {\n    const startTime = Date.now();\n\n    return {\n        duration: duration,\n\n        perform(context: TransitionContext<C>, prevPage: ThreePage<C>, currentPage: ThreePage<C>): boolean {\n            const now = Date.now();\n            const progress = (now - startTime) / duration;\n\n            if (progress >= 1) {\n                return true;\n            }\n\n            const current = prevPage.currentBreakpoint;\n            const nextPageBreakpoint = currentPage.currentBreakpoint;\n\n            if (current === null || nextPageBreakpoint === null) {\n                return true;\n            }\n\n            const next = prevPage.nextBreakpoint;\n\n            if (next !== null) {\n                const originalPosition = (next.progress - prevPage.progress);\n                const newPosition = window.innerHeight;\n                const t = easingFunctions[Easing.EASE_IN_OUT_SINE](progress);\n                context.overlapPosition = lerp(originalPosition, newPosition, t);\n            }\n\n            context.primarySectionDisplay.setSceneOpacity(Math.abs(1 - progress * 2));\n            context.primarySectionDisplay.setTransition(current.section.backgroundSpec, nextPageBreakpoint.section.backgroundSpec, easingFunctions[Easing.EASE_IN_OUT_QUAD](progress));\n\n            context.showSections(\n                progress < 0.5 ? current.section : nextPageBreakpoint.section,\n                next?.section\n            );\n\n            return false;\n        }\n    };\n}","export function lerp(a: number, b: number, t: number) {\n    return a + (b - a) * t;\n}","import React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport { PageContext } from './Page';\nimport { ThreeContextContext } from './ThreeContextProvider';\n\nexport interface SectionProps {\n    children: React.ReactNode | React.ReactNode[];\n    progress: number;\n    sectionKey: string;\n}\n\nexport interface SectionContext {\n    sectionKey: string;\n}\n\nexport function Section({ children, progress, sectionKey }: SectionProps) {\n    const threeContext = useContext(ThreeContextContext);\n    const pageContext = useContext(PageContext);\n    const pageKey = useMemo(() => pageContext?.pageKey || null, [ pageContext ]);\n\n    const elementRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        const rect = elementRef.current?.getBoundingClientRect();\n\n        if (threeContext && pageKey && sectionKey && rect) {\n            threeContext.setSectionHeight(pageKey, sectionKey, rect.height);\n        }\n    }, [ threeContext, pageKey, sectionKey, progress, elementRef ]);\n\n    return (\n        <div ref={elementRef}>\n            {children}\n        </div>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport VisibilitySensor from 'react-visibility-sensor';\nimport './Stat.scss';\nimport './StatContainer.scss';\n\nexport interface StatProps {\n    name: string;\n    value: number;\n    unit?: string;\n}\n\nexport function Stat(props: StatProps) {\n\n    const [value, setValue] = useState(0);\n    const [wasVisible, setWasVisible] = useState(false);\n\n    useEffect(() => {\n        const fun = () => {\n            let tmp = (1 - value * value) * 0.05 + 0.001;\n            setValue(Math.min(value + tmp, 1));\n        }\n\n        if (wasVisible && value < 1) {\n            var timeout = setTimeout(fun, 30);\n        }\n\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [wasVisible, value]);\n\n    const onVisibilityChange = (isVisible: boolean) => {\n        if (isVisible && !wasVisible) {\n            setWasVisible(true);\n        }\n    }\n\n    return (\n        <VisibilitySensor onChange={onVisibilityChange}>\n            <div className=\"Stat\">\n                <div className=\"Stat__number\">{Math.floor(value * props.value)} {props?.unit}</div>\n                <div className=\"Stat__name\">{props.name}</div>\n            </div>\n        </VisibilitySensor>\n    );\n}\n","import React from 'react';\nimport './TeamCard.scss';\n\nexport interface TimeCardProps {\n    heading: string;\n    img: string;\n    // desc: string;\n    members: number;\n    coordinator: string;\n    background?: string;\n    children?: React.ReactNode;\n}\n\nexport function TeamCard(props: TimeCardProps) {\n    return (\n        <div className=\"TeamCard\">\n            <div className=\"TeamCard__img-block\" style={{background: props.background}}>\n                <img className=\"TeamCard__img\" src={props.img} alt={props.heading}/>\n                {/* <img className=\"TeamCard__img-background\" src={logo}/> */}\n                <h3 className=\"TeamCard__heading\">{props.heading}</h3>\n            </div>\n            <div className=\"TeamCard__content\">\n                <p className=\"TeamCard__description\">\n                    {props.children}\n                </p>\n            </div>\n            <div className=\"TeamCard__stats-container\" style={{background: props.background}}>\n                <div className=\"TeamCard__stat\">\n                    <span className=\"TeamCard__value TeamCard__value--big\">{props.members}</span>\n                    <span className=\"TeamCard__name\">członków</span>\n                </div>\n                <div className=\"TeamCard__stat TeamCard__stat--big\">\n                    <span className=\"TeamCard__value\">{props.coordinator}</span>\n                    <span className=\"TeamCard__name\">Koordynator</span>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport { Banner } from './banner/Banner';\nimport { SideStoryPanel } from './homePageStory/SideStoryPanel';\nimport { createStorytellerNode, NodePhase, NodeState } from '../abstract/storyteller/StorytellerNode';\nimport { HomePageConfig, HomeSectionKey, PageKey, solarContext } from '../../3d/solarContext';\nimport { Section } from '../abstract/Section';\nimport { Page } from '../abstract/Page';\nimport { Stat } from '../common/stat/Stat';\nimport { TeamCard } from '../common/teamCard/TeamCard';\n\nimport './teamSection/TeamSection.scss';\n\nimport jasiek from '../../assets/img/team_cards/jasiek2.png';\nimport kuba from '../../assets/img/team_cards/kuba.png';\nimport olga from '../../assets/img/team_cards/olga.png';\nimport marketing from '../../assets/img/team_cards/marketing.png';\n\nexport interface HomeViewProps {\n    scrollTop: number;\n}\n\nconst Node = createStorytellerNode<HomePageConfig>();\n\nexport function HomeView({ scrollTop }: HomeViewProps) {\n    solarContext.setProgress(scrollTop);\n\n    return (\n        <Page pageKey={PageKey.HOME}>\n            <main className=\"HomeView\">\n                <Section sectionKey={HomeSectionKey.PLANE_SECTION} progress={scrollTop}>\n                    <Node progress={scrollTop} config={{\n                        planeSection: {\n                            plane: {\n                                planeScale: 0,\n                                overlayIntensity: 1,\n                            },\n                        },\n                    }}>\n                        <Banner />\n                    </Node>\n                    <Node progress={scrollTop} config={{\n                        planeSection: {\n                            plane: {\n                                showAirflow: true,\n                                showWings: true,\n                                planeScale: 0.06,\n                                overlayIntensity: 1,\n                            },\n                            bubbles: {\n                                active: true,\n                            }\n                        },\n                    }}>\n                        {(state: NodeState) => {\n                            return (\n                                <SideStoryPanel title=\"Pomysł\" visible={state.phase === NodePhase.ACTIVE} marginTop={500} marginBottom={100}>\n                                    Prezentowany model to prototyp samolotu solarnego z dwunastoma panelami fotowoltaicznymi o łącznej mocy 40 W.\n                                    Nazywany jest często przez zespół \"Maluchem\" ze względu na niewielkie - w porównaniu z drugim modelem - wymiary.\n                                    Rozpiętość wynosząca około 1,6 m i waga - 700 g sprawiają, że jest praktyczny nie tylko przy transportowaniu,\n                                    ale także podczas wszelkiego rodzaju prezentacji projektu. Wykonane testy wykazały, że prędkość przelotowa samolotu\n                                    waha się pomiędzy 30 a 40 km/h, a zawarte w nim systemy zapewniają jednocześnie bezpieczny i bezproblemowy lot.\n                                </SideStoryPanel>\n                            )\n                        }}\n                    </Node>\n                    <Node progress={scrollTop} config={{\n                        planeSection: {\n                            plane: {\n                                showAirflow: true,\n                                showWings: true,\n                                planeScale: 0.06,\n                            },\n                        },\n                    }}>\n                        {(state: NodeState) => {\n                            return (\n                                <SideStoryPanel title=\"Kim jesteśmy?\" visible={state.phase === NodePhase.ACTIVE} marginTop={500} marginBottom={300}>\n                                    AGH Solar Plane to Studenckie Koło Naukowe działające przy Wydziale Energetyki i\n                                    Paliw na Akademii Górniczo-Hutniczej w Krakowie. Naszym celem jest stworzenie bezzałogowego\n                                    samolotu napędzanego energią słoneczną, który będzie w stanie przelecieć z jednego krańca\n                                    Polski do drugiego – nieprzerwanie dzień i w nocy. Do głównych zadań podczas realizacji\n                                    projektu należy promowanie alternatywnych źródeł energii oraz ich współpracy\n                                    z najnowszymi technologiami.\n                                    <div className=\"TeamSection__container\">\n                                        <div className=\"TeamSection__pair\">\n                                            <TeamCard\n                                                heading=\"Zasilanie\"\n                                                img={jasiek}\n                                                members={15}\n                                                coordinator=\"Marcin Mucha\"\n                                                background=\"linear-gradient(135deg, #F84949 , #AC2A92)\"\n                                            >\n                                                Głównym celem sekcji jest stworzenie układu zasilania\n                                                samolotu który pozwoli na długi lot bez konieczności\n                                                lądowania.\n                                            </TeamCard>\n                                            <TeamCard\n                                                heading=\"Konstrukcja\"\n                                                img={kuba}\n                                                members={15}\n                                                coordinator=\"Marcin Mucha\"\n                                                background=\"linear-gradient(-45deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%)\"\n                                            >\n                                                Sekcja zajmuje się projektowaniem geometrii samolotu na\n                                                podstawie analiz numerycznych, a także dobraniem\n                                                materiałów i wykonaniem konstrukcji.\n                                            </TeamCard>\n                                        </div>\n                                        <div className=\"TeamSection__pair\">\n                                            <TeamCard\n                                                heading=\"Marketing\"\n                                                img={olga}\n                                                members={15}\n                                                coordinator=\"Marcin Mucha\"\n                                                background=\"linear-gradient(135deg, #08AEEA , #2AF598)\"\n                                            >\n                                                Głównym celem sekcji jest stworzenie układu zasilania\n                                                samolotu który pozwoli na długi lot bez konieczności\n                                                lądowania.\n                                            </TeamCard>\n                                            <TeamCard\n                                                heading=\"Programowanie\"\n                                                img={marketing}\n                                                members={15}\n                                                coordinator=\"Marcin Mucha\"\n                                            >\n                                                Sekcja zajmuje się projektowaniem geometrii samolotu na\n                                                podstawie analiz numerycznych, a także dobraniem\n                                                materiałów i wykonaniem konstrukcji.\n                                            </TeamCard>\n                                        </div>\n                                    </div>\n                                </SideStoryPanel>\n                            )\n                        }}\n                    </Node>\n                    <Node progress={scrollTop} config={{\n                        planeSection: {\n                            plane: {\n                                showAirflow: true,\n                                showWings: true,\n                                showSolarPanels: true,\n                                planeScale: 0.06,\n                            },\n                        },\n                    }}>\n                        {(state: NodeState) => {\n                            return (\n                                <SideStoryPanel title=\"Nasze cele\" visible={state.phase === NodePhase.ACTIVE} marginTop={500} marginBottom={500}>\n                                    AGH Solar Plane to Studenckie Koło Naukowe działające przy Wydziale Energetyki i\n                                    Paliw na Akademii Górniczo-Hutniczej w Krakowie. Naszym celem jest stworzenie bezzałogowego\n                                    samolotu napędzanego energią słoneczną, który będzie w stanie przelecieć z jednego krańca\n                                    Polski do drugiego – nieprzerwanie dzień i w nocy. Do głównych zadań podczas realizacji\n                                    projektu należy promowanie alternatywnych źródeł energii oraz ich współpracy\n                                    z najnowszymi technologiami.\n                                    <div className=\"StatContainer\">\n                                        <Stat name=\"Długość lotu\" value={600} unit=\"km\" />\n                                        <Stat name=\"Czas lotu\" value={24} unit=\"h\" />\n                                        <Stat name=\"Zużycie mocy\" value={10} unit=\"W/h\" />\n                                        <Stat name=\"Prędkość maksymalna\" value={80} unit=\"km/h\" />\n                                    </div>\n                                </SideStoryPanel>\n                            )\n                        }}\n                    </Node>\n                </Section>\n                <Section sectionKey={HomeSectionKey.TIMELINE_SECTION} progress={scrollTop}>\n                    <Node progress={scrollTop} config={{\n                        planeSection: {\n                            timeline: {},\n                        },\n                    }}>\n                        {(state: NodeState) => {\n                            return (\n                                <div style={{ height: \"200rem\" }}></div>\n                            )\n                        }}\n                    </Node>\n                </Section>\n\n                {/* <Section sectionKey={HomeSectionKey.SLIDER_SECTION} progress={scrollTop}>\n                    <Node progress={scrollTop} config={{\n                        planeSection: {\n                            plane: {\n                                planeScale: 0,\n                                overlayIntensity: 1,\n                            },\n                        },\n                    }}>\n                        {(state: NodeState) => {\n                            return (\n                                <div style={{ height: \"200rem\" }}></div>\n                            )\n                        }}\n                    </Node>\n                </Section> */}\n\n               \n\n            </main>\n        </Page>\n    );\n}\n","import React from 'react';\n\nexport function ContactView() {\n    return (\n        <main className=\"ContactView\" style={{\n            minHeight: `1000px`,\n        }}>\n            <div style={{\n                paddingTop: '10px',\n            }}>\n                <p style={{\n                    color: 'white',\n                    margin: '10vh auto',\n                    textAlign: 'center',\n                    fontSize: '5rem',\n                }}>Hello!</p>\n            </div>\n        </main>\n    );\n}","import { useEffect, useState, MutableRefObject, useCallback } from 'react';\n\nexport function useAnimationFrame(callback: () => void) {\n    useEffect(() => {\n        let handle = 0;\n        const runner = () => {\n            callback();\n            handle = requestAnimationFrame(runner);\n        };\n\n        runner();\n\n        return () => cancelAnimationFrame(handle);\n    }, [callback]);\n}\n\nexport function useScrollTop(containerRef: MutableRefObject<HTMLElement | undefined>) {\n    const [scrollTop, setScrollTop] = useState(0);\n\n    useAnimationFrame(useCallback(() => {\n        setScrollTop(containerRef.current?.scrollTop || 0);\n    }, [containerRef, setScrollTop]));\n\n    return scrollTop;\n}\n\nexport function useWindowSize() {\n    const [windowWidth, setWindowWidth] = useState<number>(window.innerWidth);\n    const [windowHeight, setWindowHeight] = useState<number>(window.innerHeight);\n\n    useEffect(() => {\n        const handler = () => {\n            setWindowWidth(window.innerWidth);\n            setWindowHeight(window.innerHeight);\n        };\n\n        window.addEventListener('resize', handler, false);\n\n        return () => window.removeEventListener('resize', handler, false);\n    }, [windowWidth, windowHeight]);\n\n    return [windowWidth, windowHeight];\n}\n","export function getOpacityForStop(stops: number[], index: number, progress: number) {\r\n    const startTime = stops[index - 1];\r\n    const peakTime = stops[index];\r\n    const endTime = stops[index + 1];\r\n\r\n    if (startTime !== undefined && progress <= startTime) {\r\n        return 0;\r\n    }\r\n    else if (progress < peakTime) {\r\n        return (progress - startTime) / (peakTime - startTime);\r\n    }\r\n    else if (endTime !== undefined && progress <= endTime) {\r\n        return 1 - (progress - peakTime) / (endTime - peakTime);\r\n    }\r\n    else if (endTime === undefined) {\r\n        return 1;\r\n    }\r\n\r\n    return 0;\r\n};\r\n\r\nexport function getColorFromStops(stops: { progress: number, color: number[] }[], progress: number): string {\r\n    for (let i = 0; i < stops.length - 1; ++i) {\r\n        const prevStop = stops[i];\r\n        const nextStop = stops[i + 1];\r\n\r\n        if (progress <= nextStop.progress) {\r\n            const t = (progress - prevStop.progress) / (nextStop.progress - prevStop.progress);\r\n            const mix = (color0: number, color1: number, t: number) => Math.floor((color0 + (color1 - color0) * t) * 255);\r\n            return `rgb(${mix(prevStop.color[0], nextStop.color[0], t)}, ${mix(prevStop.color[1], nextStop.color[1], t)}, ${mix(prevStop.color[2], nextStop.color[2], t)})`;\r\n        }\r\n    }\r\n\r\n    return '';\r\n};\r\n","import React, { CSSProperties, useState, useEffect } from 'react';\r\nimport { getOpacityForStop, getColorFromStops } from '../../utils/transitionUtils';\r\nimport './SiteLoader.scss';\r\n\r\ninterface SiteLoaderDigitParams {\r\n    digit: number|null;\r\n}\r\n\r\nfunction SiteLoaderDigit({ digit }: SiteLoaderDigitParams) {\r\n    return (\r\n        <p className=\"SiteLoaderDigit\">{ digit }</p>\r\n    );\r\n}\r\n\r\nexport interface SiteLoaderParams {\r\n    progress: number;\r\n}\r\n\r\nconst skyColorStops = [ 0, 0.01, 0.1, 1 ];\r\n\r\nconst sunColorStops = [\r\n    { progress: 0,      color: [ 1, 0, 0 ] },\r\n    { progress: 0.2,    color: [ 1, 1, 0 ] },\r\n    { progress: 1,      color: [ 1, 1, 0.8 ] },\r\n];\r\n\r\nconst mountainBgColorStops = [\r\n    { progress: 0,      color: [ 0.063, 0.067, 0.086 ] },\r\n    { progress: 0.1,    color: [ 0.3, 0.1, 0.01 ] },\r\n    { progress: 1,      color: [ 0.0, 0.737, 0.58 ] },\r\n];\r\n\r\nconst mountainBgLightColorStops = [\r\n    { progress: 0,      color: [ 0.063, 0.067, 0.086 ] },\r\n    { progress: 0.1,    color: [ 0.4, 0.15, 0.06 ] },\r\n    { progress: 1,      color: [ 0.537, 0.859, 0.604 ] },\r\n];\r\n\r\nconst treeBgColorStops = [\r\n    { progress: 0,      color: [ 0.063, 0.067, 0.086 ] },\r\n    { progress: 0.1,      color: [ 0.063, 0.067, 0.086 ] },\r\n    { progress: 0.4,    color: [ 0.2, 0.25, 0.1 ] },\r\n    { progress: 1,      color: [ 0.0, 0.596, 0.416 ] },\r\n];\r\n\r\nconst mountainMiddlegroundStops = [\r\n    { progress: 0,      color: [ 0.063, 0.067, 0.086 ] },\r\n    { progress: 0.1,    color: [ 0.03, 0.06, 0.01 ] },\r\n    { progress: 0.4,    color: [ 0.2, 0.25, 0.1 ] },\r\n    { progress: 1,      color: [ 0.039, 0.494, 0.357 ] },\r\n];\r\n\r\nconst mountainForegroundStops = [\r\n    { progress: 0,      color: [ 0.063, 0.067, 0.086 ] },\r\n    { progress: 0.1,    color: [ 0.083, 0.017, 0.026 ] },\r\n    { progress: 1,      color: [ 0.031, 0.2, 0.153 ] },\r\n];\r\n\r\nconst getLandscapePieceStyle = (colorName: string) => ({\r\n    fill: `var(--${colorName})`,\r\n    fillOpacity: 1,\r\n    stroke: 'none',\r\n    transition: 'fill 0.5s linear',\r\n});\r\n\r\n// Holds the amount of miliseconds a frame of the person idle animation should play for.\r\nconst personIdleFrames = [\r\n    150,\r\n    150,\r\n    150,\r\n    300,\r\n];\r\n\r\nconst personOutroFrames = [\r\n    { duration: 150, path: \"m 346.03906,273.79297 c -2.37257,0.18675 -4.9414,1.08203 -4.9414,1.08203 -5.50854,2.10358 -8.75725,9.56852 -6.8711,15.0293 1.30086,1.40853 1.44573,3.04014 2.22071,3.95508 -0.93246,1.60252 -2.32628,3.90651 -3.05469,4.17773 -0.1044,0.0389 -0.21617,0.0683 -0.32813,0.0977 -0.016,-0.005 -0.0286,-0.0128 -0.0449,-0.0176 -0.56954,-0.1663 -1.10738,-0.26159 -1.62891,-0.32422 -0.057,-0.0242 -0.10818,-0.0365 -0.16601,-0.0625 -0.42567,-0.0493 -0.83332,-0.0659 -1.22461,-0.0527 -1.17389,0.0401 -2.19819,0.34793 -3.09961,0.84766 -3.40366,1.67649 -4.92383,5.38867 -4.92383,5.38867 l -6.49218,17.89844 1.25781,1.95117 c -0.29295,0.66553 -0.47674,0.79032 -1.04688,1.86133 -0.072,0.13519 -0.11228,0.24914 -0.16797,0.37305 -0.16198,0.1747 -0.33741,0.37755 -0.53711,0.63281 -0.12495,0.17541 -0.20801,0.38947 -0.33984,0.55859 -2.82646,4.87809 -9.18357,12.92979 -10.77539,18.50196 -1.81918,5.747 -11.03225,11.71103 -11.36914,14.3164 -0.19468,1.50574 3.26695,0.66838 6.41602,-0.60156 2.29971,-0.92745 3.89433,-2.71654 5.40429,-3.21484 0.5348,-0.22761 1.50981,-0.009 1.70508,0.47461 0.26328,0.65204 -0.34838,1.74903 -0.24414,2.5332 0.20043,1.50726 0.55515,2.11502 2.10156,-1.04688 -0.18187,-2.20484 0.9685,-3.82954 0.34571,-5.73437 1.39674,-3.22212 7.58746,-11.12163 9.99414,-14.47656 1.21045,-1.98948 2.45101,-4.62014 3.68554,-7.13477 0.10228,-0.18373 0.18372,-0.38173 0.25391,-0.58398 0.19918,-0.21159 0.37724,-0.44275 0.50976,-0.68555 0.58073,-1.06398 0.71429,-1.45717 1.07618,-2.25977 l 0.77929,-0.0957 c 0,0 1.51356,-3.79717 2.50782,-6.06641 1.48564,4.46781 1.24289,9.85096 2.09765,14.57032 0.90812,5.45926 -0.33592,13.11828 4.25586,16.51172 0.0878,0.1881 0.18625,0.46573 0.23633,0.56835 0.0496,0.10167 0.0269,0.2364 0.56836,0.27344 -0.004,0.16277 -0.0129,0.32539 -0.0137,0.48828 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14041,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29168,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.14182 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.72251,-0.0521 -3.35019,0.22595 -4.2832,0.41601 -0.24611,0.22445 -0.4944,0.44673 -0.73633,0.67578 -0.35879,0.43488 -0.71547,0.87029 -1.09375,1.28907 -0.0501,0.0608 -0.10863,0.11257 -0.16211,0.16992 0.25005,-1.36621 0.43988,-2.82477 0.54492,-4.40821 0.0604,-0.0675 0.12557,-0.11156 0.19141,-0.14648 0.52299,-1.31802 1.20751,-3.12778 1.79882,-5.16602 0.2219,-1.61728 0.19227,-2.84356 0.0254,-4.00781 2.02903,1.88449 4.66015,4.2207 4.66015,4.22071 l 2.42188,2.58007 c 0,0 0.334,0.35716 1.87695,0.16407 1.49296,0.79345 2.26662,1.8183 4.01367,2.98437 0.0242,0.0161 0.0658,0.0295 0.0957,0.0449 0.23203,0.34837 0.45655,0.63442 0.57226,0.69141 1.10546,0.54407 4.9377,1.38339 7.43555,1.95312 2.12747,0.42909 4.40725,0.15577 6.37695,1.22461 1.28247,0.55206 2.63347,1.1682 4.06641,1.00977 0.0378,-2.2731 2.99264,0.49013 4.35547,0.0664 2.12598,-0.30024 4.47005,0.9141 6.33007,-0.55468 1.28727,-0.53921 2.42567,-1.60349 2.68555,-2.90039 2.9509,0.65499 8.26953,1.875 8.26953,1.875 -2.11385,-2.95638 -4.50775,-4.64537 -6.33398,-6.67383 -1.82631,-2.02846 -4.23424,-3.77881 -6.19336,-5.24024 -1.05578,-0.88519 -2.11468,-1.76694 -3.18164,-2.63867 -0.17348,-0.99835 -1.45064,-1.81495 -2.4668,-2.23828 -1.17248,0.93923 -0.74235,1.6933 -1,3.33594 -0.25776,1.64266 -1.68761,2.76736 -3.41406,3.02539 -1.60464,0.63996 -4.34549,0.95691 -4.89844,1.73242 -0.27288,0.39226 0.2313,1.14708 0.97852,1.79883 -0.70579,-0.0489 -1.41067,-0.10015 -2.11329,-0.18164 -1.80011,-1.13762 -3.64953,-1.1569 -5.97656,-2.23438 -0.27639,-0.27226 -0.59275,-0.51815 -0.9082,-0.74609 -2.41393,-1.74419 -1.051,-1.41165 -1.62695,-2.08008 0.22605,-0.4616 0.32936,-0.85373 0.25781,-1.12109 -0.34118,-1.27526 -8.05941,-6.86914 -11.3711,-9.25586 -0.21339,-0.20984 -0.423,-0.42565 -0.63867,-0.63281 -0.0859,-0.1016 -0.18229,-0.1836 -0.2832,-0.25586 -0.42448,-0.5595 -0.96141,-1.08118 -1.67187,-1.53907 -0.79403,-0.77595 -2.56662,-1.00781 -3.17188,-1.00195 -0.28361,0.003 -1.11132,0.30247 -1.95508,0.80664 -0.24454,-0.68701 -0.48754,-1.15773 -0.72851,-1.23437 -0.87387,-0.27795 -1.88984,-0.43583 -2.41407,-0.37891 -0.023,0.0121 -0.12045,0.0694 -0.12695,0.0723 -0.0488,0.0196 -0.66362,0.13011 -0.94336,0.14062 -1.88057,-0.13222 -2.95862,-0.66057 -3.58789,-1.34765 0.006,-0.002 0.0113,-0.005 0.0176,-0.008 1.04041,-0.41031 2.47284,-0.4731 3.14648,-0.49609 0.25784,-0.2307 0.11602,-0.0419 0.67969,-0.8125 0.56367,-0.77068 1.79291,-3.29464 1.60156,-5.35742 -0.25969,-2.73025 3.09155,-4.47117 1.5586,-7.78516 0.19007,-2.00879 -0.36799,-3.54391 -1.37305,-4.7207 -0.21883,-0.60119 -0.81174,-0.98271 -1.5625,-1.97071 0.44188,-0.3095 0.6852,-0.79592 1.61328,-0.75195 -1.59113,-0.61833 -4.10883,-0.48583 -4.19726,-0.57422 -0.39789,-0.5302 -2.63943,-0.5293 -1.68946,-1.40234 z m 10.25782,19.60937 c -0.1471,-0.0411 -0.17307,0.54929 0,0 z m -45.38282,37.88086 -0.0645,0.0703 z m 46.02735,25.93164 c -0.25858,0.0348 0.33268,0.44635 0.16797,0.0117 -0.0763,-0.0143 -0.13093,-0.0166 -0.16797,-0.0117 z m -8.62891,7.66602 c -0.0144,0.88245 -0.0113,0.69914 0,0 z\" },\r\n    { duration: 150, path: \"m 346.03906,273.79297 c -2.37257,0.18675 -4.9414,1.08203 -4.9414,1.08203 -5.50854,2.10358 -8.75725,9.56852 -6.8711,15.0293 1.30086,1.40853 1.44573,3.04014 2.22071,3.95508 -0.93246,1.6025 -2.32628,3.90651 -3.05469,4.17773 -0.1044,0.0389 -0.21617,0.0683 -0.32813,0.0977 -0.016,-0.005 -0.0286,-0.0128 -0.0449,-0.0176 -0.56954,-0.1663 -1.10738,-0.26159 -1.62891,-0.32422 -0.057,-0.0242 -0.10818,-0.0365 -0.16601,-0.0625 -0.42567,-0.0493 -0.83332,-0.0659 -1.22461,-0.0527 -1.17389,0.0401 -2.19819,0.34793 -3.09961,0.84766 -3.40366,1.67649 -4.92383,5.38867 -4.92383,5.38867 l -6.49218,17.89844 1.25781,1.95117 c -0.29295,0.66553 -0.47674,0.79032 -1.04688,1.86133 -0.072,0.13519 -0.11228,0.24914 -0.16797,0.37305 -0.16198,0.1747 -0.33741,0.37755 -0.53711,0.63281 -0.12495,0.17541 -0.20801,0.38947 -0.33984,0.55859 -2.82646,4.87809 -9.18357,12.92979 -10.77539,18.50196 -1.81918,5.747 -11.03225,11.71103 -11.36914,14.3164 -0.19468,1.50574 3.26695,0.66838 6.41602,-0.60156 2.29969,-0.92745 3.89433,-2.71654 5.40429,-3.21484 0.5348,-0.22761 1.50981,-0.009 1.70508,0.47461 0.26328,0.65204 -0.34838,1.74903 -0.24414,2.5332 0.20043,1.50726 0.55515,2.11502 2.10156,-1.04688 -0.18187,-2.20484 0.96848,-3.82954 0.34571,-5.73437 1.39672,-3.22212 7.58746,-11.12163 9.99414,-14.47656 1.21045,-1.98948 2.45101,-4.62014 3.68554,-7.13477 0.10228,-0.18373 0.18372,-0.38173 0.25391,-0.58398 0.19918,-0.21159 0.37724,-0.44275 0.50976,-0.68555 0.58073,-1.06398 0.71429,-1.45717 1.07618,-2.25977 l 0.77929,-0.0957 c 0,0 1.51356,-3.79717 2.50782,-6.06641 1.48564,4.46781 1.24289,9.85096 2.09765,14.57032 0.90812,5.45926 -0.33592,13.11828 4.25586,16.51172 0.0878,0.1881 0.18625,0.46575 0.23633,0.56835 0.0496,0.10167 0.0269,0.2364 0.56836,0.27344 -0.004,0.16277 -0.0129,0.32539 -0.0137,0.48828 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14043,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29166,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.1418 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.72251,-0.0521 -3.35019,0.22595 -4.2832,0.41601 -0.24611,0.22445 -0.4944,0.44673 -0.73633,0.67578 -0.35879,0.43488 -0.71547,0.87029 -1.09375,1.28907 -0.0501,0.0608 -0.10863,0.11257 -0.16211,0.16992 0.25005,-1.36621 0.43988,-2.82477 0.54492,-4.40821 0.0604,-0.0675 0.12557,-0.11156 0.19141,-0.14648 0.52299,-1.31802 1.20753,-3.12778 1.79882,-5.16602 0.2219,-1.61728 0.19227,-2.84356 0.0254,-4.00781 2.02903,1.88449 3.51171,2.71874 3.51171,2.71875 l 3.12891,2.58008 c 0,0 0.334,0.35715 1.87695,0.16406 1.49296,0.79345 2.26663,1.81831 4.01368,2.98438 0.0242,0.0161 0.0658,0.0295 0.0957,0.0449 0,0 0.002,0.002 0.002,0.002 1.17925,0.1582 2.13131,0.0582 2.89844,-0.20898 1.70841,-0.27488 4.35409,-0.90259 6.24805,-1.33789 2.10225,-0.53932 4.03685,-1.77722 6.27539,-1.67188 1.39491,-0.0609 2.88028,-0.0951 4.10156,-0.86133 -0.95501,-2.06309 2.90652,-0.85949 3.94922,-1.83398 1.78356,-1.19537 4.42332,-1.12214 5.45898,-3.25391 0.9244,-1.04559 1.48651,-2.50047 1.15625,-3.78125 2.94187,-0.69422 8.26172,-1.91015 8.26172,-1.91015 -3.18962,-1.7421 -6.08054,-2.22019 -8.60742,-3.25196 -2.52695,-1.03173 -5.45761,-1.56003 -7.85742,-2.02343 -1.33576,-0.33763 -2.67173,-0.67155 -4.01172,-0.99219 -0.59059,-0.82341 -2.09619,-1.00239 -3.19531,-0.94141 -0.64698,1.35581 0.068,1.84835 0.55078,3.43946 0.48276,1.59115 -0.31547,3.22546 -1.75782,4.20898 -1.16632,1.2744 -3.49584,2.75256 -3.65624,3.69141 -0.0752,0.47192 0.70772,0.93165 1.66406,1.19336 -0.65677,0.26305 -1.31439,0.52351 -1.98242,0.75586 -1.91192,-0.21782 -3.46751,0.39953 -5.64063,0.55273 -0.25078,0.0856 -0.47568,0.17535 -0.70508,0.26367 -0.21391,-0.36745 0.1581,-0.40429 -0.19531,-0.81445 0.22605,-0.4616 0.32936,-0.85374 0.25781,-1.12109 -0.34118,-1.27526 -7.618,-5.36719 -10.92969,-7.75391 -0.21337,-0.20984 -0.423,-0.42565 -0.63867,-0.63281 -0.0859,-0.1016 -0.18229,-0.1836 -0.2832,-0.25586 -0.42448,-0.5595 -0.96143,-1.08118 -1.67187,-1.53907 -0.79403,-0.77595 -2.56662,-1.00781 -3.17188,-1.00195 -0.28361,0.003 -1.11132,0.30247 -1.95508,0.80664 -0.24454,-0.68701 -0.48754,-1.15773 -0.72851,-1.23437 -0.87387,-0.27795 -1.88984,-0.43583 -2.41407,-0.37891 -0.023,0.0121 -0.12045,0.0694 -0.12695,0.0723 -0.0488,0.0196 -0.66362,0.13011 -0.94336,0.14062 -1.88057,-0.13222 -2.95862,-0.66059 -3.58789,-1.34765 0.006,-0.002 0.0113,-0.005 0.0176,-0.008 1.04041,-0.41031 2.47284,-0.4731 3.14648,-0.49609 0.25784,-0.2307 0.11602,-0.0419 0.67969,-0.8125 0.56367,-0.77068 1.79291,-3.29464 1.60156,-5.35742 -0.25969,-2.73025 3.09155,-4.47117 1.5586,-7.78516 0.19007,-2.00879 -0.36799,-3.54391 -1.37305,-4.7207 -0.21883,-0.60119 -0.81174,-0.98271 -1.5625,-1.97071 0.44188,-0.3095 0.6852,-0.79592 1.61328,-0.75195 -1.59113,-0.61833 -4.10883,-0.48583 -4.19726,-0.57422 -0.39789,-0.5302 -2.63943,-0.5293 -1.68946,-1.40234 z m 10.25782,19.60937 c -0.1471,-0.0411 -0.17307,0.54929 0,0 z m -45.38282,37.88086 -0.0645,0.0703 z m 46.02735,25.93164 c -0.25858,0.0348 0.33266,0.44639 0.16797,0.0117 -0.0763,-0.0143 -0.13093,-0.0166 -0.16797,-0.0117 z m -8.62891,7.66602 c -0.0144,0.88245 -0.0113,0.69914 0,0 z\" },\r\n    { duration: 150, path: \"m 344.78125,273.05664 c -2.37928,0.0551 -4.99219,0.80859 -4.99219,0.80859 -5.61651,1.79551 -9.27441,9.06821 -7.69336,14.625 1.50642,1.82408 1.21873,3.90905 2.62891,4.63086 0,0 0.29609,0.27033 0.74219,0.66602 -0.87615,1.61778 -2.32477,4.22017 -3.08399,4.52734 -1.10059,0.4453 -2.68587,0.32664 -3.88672,0.46094 -0.9743,0.11226 -0.95519,-0.13145 -1.11328,0.35938 -0.34742,0.11797 -0.68515,0.25441 -1.00195,0.42187 -3.39748,1.59382 -4.95117,5.17188 -4.95117,5.17188 l -6.66211,17.26367 1.22265,1.90039 c -0.29888,0.6415 -0.4836,0.75949 -1.0625,1.79101 -0.19455,0.34667 -0.311,0.64371 -0.39648,0.92383 -0.14561,0.16774 -0.30308,0.36473 -0.47852,0.59961 -0.12102,0.17817 -0.19815,0.39438 -0.32617,0.56641 -2.71674,4.94003 -8.89247,13.13192 -10.35937,18.73828 -1.69029,5.78622 -10.7683,11.95416 -11.04688,14.5664 -0.16101,1.50972 3.28245,0.59392 6.40235,-0.74609 2.27842,-0.97861 3.83163,-2.80206 5.33007,-3.33398 0.52958,-0.23951 1.50882,-0.0415 1.71485,0.4375 0.27776,0.64599 -0.30928,1.75547 -0.1875,2.53711 0.23403,1.5024 0.60081,2.10191 2.07617,-1.09375 -0.23112,-2.20024 0.88394,-3.84981 0.21875,-5.74024 1.32439,-3.25253 7.33687,-11.28939 9.66797,-14.69726 1.16569,-2.01603 2.34735,-4.67326 3.52539,-7.21485 0.19827,-0.3757 0.321,-0.79872 0.39062,-1.22265 0.13185,-0.15267 0.25387,-0.3101 0.34961,-0.47657 0.58932,-1.02462 0.72675,-1.40419 1.09571,-2.17773 l 0.77343,-0.0879 c 0,0 1.79061,-4.22934 2.77344,-6.28516 1.84682,4.52864 1.70559,10.18852 2.73633,15.0918 1.06072,5.43168 0.0296,13.12328 4.71484,16.38672 0.093,0.18557 0.201,0.45936 0.25391,0.56054 0.0106,0.0203 0.0312,0.0425 0.041,0.0645 -0.003,0.1491 -0.011,0.29806 -0.0117,0.44726 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14041,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29168,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.14182 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.72251,-0.0521 -3.35019,0.22595 -4.2832,0.41601 -0.24611,0.22445 -0.4944,0.44673 -0.73633,0.67578 -0.35879,0.43488 -0.71547,0.87029 -1.09375,1.28907 -0.15411,0.18693 -0.32575,0.35503 -0.50196,0.51953 0.27234,-1.55903 0.45489,-3.24571 0.5254,-5.08985 0.0584,-0.0691 0.12268,-0.11564 0.1875,-0.15234 0.48585,-1.33216 1.12033,-3.15889 1.65429,-5.21289 0.25033,-2.30177 0.004,-3.81553 -0.41601,-5.45899 1.80468,1.17962 7.72461,4.42383 7.72461,4.42383 l 2.93554,1.97656 c 0,0 0.40392,0.27179 1.86524,-0.25976 1.63207,0.44143 2.61544,1.26942 4.57812,2.01758 0.20749,0.0791 0.5995,0.0756 1.0293,0.0332 0.89127,0.066 1.88385,-0.14443 2.07422,-0.29883 0.95671,-0.77638 3.32216,-3.90722 4.88476,-5.9375 1.2799,-1.75279 3.2996,-5.30387 4.97266,-7.57617 1.67307,-2.2723 3.00097,-3.33539 3.30859,-4.90234 0.18306,-1.70695 1.92124,-2.93534 1.95508,-4.07813 0.0262,-0.88496 0.0334,-1.39003 0.0117,-1.70508 l 0.74414,-0.95703 14.4707,-1.29492 c 0,0 -24.07283,-4.5251 -31.89062,-5.59375 -0.75735,1.29188 -1.05997,2.43874 -1.31641,2.50586 l 4.29297,1.92187 -2.26562,1.17969 -0.0469,1.21875 c 2.11493,0.0748 6.32407,-0.26379 9.04102,-0.0508 0.0756,0.006 0.138,0.02 0.21094,0.0273 -0.004,0.0259 -0.004,0.0562 -0.0195,0.0684 -0.36167,0.28348 0.6438,1.08916 0.30664,1.76758 -0.42824,0.86172 0.74579,1.59819 0.22461,2.53125 -1.92809,3.45176 -4.38301,5.92948 -5.96093,7.2461 -2.41806,2.01763 -3.86581,3.42621 -4.96875,4.52343 0.0768,-0.40983 0.0883,-0.75903 -0.0234,-0.9707 -0.61633,-1.1674 -9.38486,-4.90205 -13.14453,-6.49219 -0.25474,-0.15711 -0.50733,-0.32061 -0.76367,-0.47461 -0.10636,-0.08 -0.21958,-0.13946 -0.33399,-0.1875 -0.53832,-0.45103 -1.17813,-0.84056 -1.97266,-1.1289 -0.47336,-0.28993 -1.1539,-0.39338 -1.79101,-0.40625 -0.63711,-0.0129 -1.22904,0.0646 -1.52344,0.13476 -0.22003,0.0524 -0.73483,0.36267 -1.29492,0.83008 -0.30686,-0.86473 -0.60647,-1.47217 -0.88672,-1.55273 -0.88131,-0.25334 -1.9014,-0.38213 -2.42383,-0.31055 -0.0227,0.0129 -0.11857,0.0731 -0.125,0.0762 -0.0483,0.0208 -0.66012,0.14769 -0.93945,0.16602 -2.6586,-0.11219 -3.75657,-1.05054 -4.2168,-2.14258 0.85363,-0.12748 1.73939,-0.12168 2.22657,-0.11133 0.27019,-0.21607 0.1172,-0.0333 0.72265,-0.77148 0.60546,-0.73831 1.97142,-3.19151 1.89453,-5.26172 -0.1082,-2.74044 3.33549,-4.29376 1.98828,-7.6875 0.30097,-1.99519 -0.17096,-3.55845 -1.10937,-4.78906 -0.18524,-0.61238 -0.75624,-1.02471 -1.45117,-2.05274 0.45833,-0.28456 0.72811,-0.75737 1.65234,-0.66211 -1.55447,-0.70544 -4.07675,-0.71154 -4.16016,-0.80469 -0.36793,-0.55141 -2.6062,-0.67696 -1.60937,-1.49609 z m 11.51563,20.3457 c -0.1471,-0.0411 -0.17307,0.54929 0,0 z m -45.38282,37.88086 -0.0645,0.0703 z m 46.02735,25.93164 c -0.25858,0.0348 0.33268,0.44635 0.16797,0.0117 -0.0763,-0.0143 -0.13093,-0.0166 -0.16797,-0.0117 z m -8.62891,7.66602 c -0.0144,0.88245 -0.0113,0.69914 0,0 z\" },\r\n    { duration: 150, path: \"m 344.42773,272.70312 c -2.37927,0.0551 -4.99218,0.8086 -4.99218,0.8086 -5.61651,1.7955 -9.27441,9.06821 -7.69336,14.625 1.50642,1.82407 1.21873,3.90904 2.6289,4.63086 0,0 0.25766,0.23633 0.62305,0.5625 -0.71541,1.41562 -2.41692,4.85886 -3.28516,5.23828 -0.5168,0.22585 -1.14787,0.32428 -1.79492,0.38672 -0.0594,-0.007 -0.12073,-0.0191 -0.17968,-0.0254 -0.0566,-0.0227 -0.10846,-0.0341 -0.16602,-0.0586 -0.42256,-0.0435 -0.82673,-0.0539 -1.21484,-0.0371 -1.16436,0.0505 -2.17875,0.35712 -3.07032,0.84961 -3.36757,1.65606 -4.85547,5.26368 -4.85547,5.26368 l -6.34375,17.38281 1.25782,1.87695 c -0.28702,0.64689 -0.46948,0.76855 -1.0293,1.81055 -0.18685,0.34778 -0.29847,0.64766 -0.37891,0.92773 -0.14292,0.17078 -0.29705,0.37241 -0.46875,0.61133 -0.11773,0.18036 -0.18961,0.39792 -0.31445,0.57227 -2.62539,4.98918 -8.65016,13.29338 -10.01367,18.92578 -1.58355,5.81634 -10.54687,12.15065 -10.77734,14.76758 -0.1332,1.51242 3.292,0.53389 6.38671,-0.86329 2.26003,-1.02036 3.78113,-2.87223 5.26953,-3.43164 0.52508,-0.24922 1.50786,-0.0689 1.72266,0.40625 0.28959,0.64078 -0.27676,1.75981 -0.14062,2.53907 0.26162,1.49784 0.63837,2.0914 2.05468,-1.13086 -0.27156,-2.19561 0.81312,-3.86627 0.11328,-5.74414 1.26433,-3.27635 7.12849,-11.42091 9.39649,-14.8711 1.1284,-2.03713 2.25955,-4.71646 3.39062,-7.27929 0.19104,-0.37872 0.30724,-0.80402 0.36915,-1.22852 0.12913,-0.15517 0.24906,-0.31605 0.34179,-0.48437 0.57036,-1.0353 0.70003,-1.41902 1.05469,-2.19922 l 0.77148,-0.0996 c 0,0 2.2235,-5.5568 3.00586,-7.09961 -0.003,0.13765 0.005,0.26352 0.0723,0.39258 0.0593,0.14332 0.10631,0.28843 0.14062,0.4375 2.06838,4.50904 2.06182,10.27824 3.2461,15.23046 1.16758,5.21173 0.46082,12.56788 4.69922,15.89258 -0.0122,0.0973 -0.0346,0.19317 -0.043,0.29102 -0.0215,0.31544 -0.0239,0.63125 -0.0254,0.94726 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14041,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29168,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.14182 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.72251,-0.0521 -3.35019,0.22595 -4.2832,0.41601 -0.24611,0.22445 -0.4944,0.44673 -0.73633,0.67578 -0.35879,0.43488 -0.71547,0.87029 -1.09375,1.28907 -0.14382,0.17445 -0.30289,0.33227 -0.4668,0.48632 0.25912,-1.65489 0.41643,-3.44549 0.4375,-5.41797 0.0565,-0.0707 0.1198,-0.11972 0.1836,-0.1582 0.44899,-1.34503 1.03255,-3.18989 1.50976,-5.25781 0.18316,-2.2621 -0.0926,-3.75342 -0.54102,-5.34766 2.07468,1.30116 7.34376,4.19336 7.34376,4.19336 l 2.93554,1.97657 c 0,0 0.40392,0.27178 1.86524,-0.25977 1.63206,0.44143 2.61544,1.26942 4.57812,2.01758 0.51834,0.19756 2.06706,0.0249 2.94922,-0.56836 0.69188,-0.30771 1.29803,-0.74584 1.39453,-0.92774 0.577,-1.08862 1.52938,-4.89343 2.17383,-7.37304 0.49285,-2.1136 0.96379,-6.17436 1.61523,-8.91993 0.65144,-2.74555 1.4586,-4.24212 1.12891,-5.80468 -0.31104,-1.02411 -0.0107,-2.09405 0.17188,-3.02735 0.0799,0.006 0.14572,0.0171 0.22851,0.0215 l 1.00977,-1.29688 14.4707,-1.29492 c 0,0 -24.07284,-4.52509 -31.89063,-5.59375 -0.75734,1.29188 -1.05996,2.43874 -1.3164,2.50586 l 4.29297,1.92188 -2.26563,1.17968 -0.0469,1.21875 c 1.93259,0.0683 5.56826,-0.18863 8.26172,-0.0742 0.0177,0.0411 0.0254,0.0768 0.0117,0.10157 -0.22189,0.40232 1.01773,0.75156 0.97266,1.50781 -0.0555,0.96061 1.31215,1.17768 1.19727,2.24023 -0.42492,3.93085 -1.71674,7.17321 -2.6543,9.00196 -0.81669,1.59302 -1.38373,2.8223 -1.86719,3.91601 -2.61577,-1.59703 -8.89696,-4.27824 -11.94726,-5.56836 -0.25474,-0.15711 -0.50733,-0.32061 -0.76368,-0.47461 -0.10635,-0.08 -0.21957,-0.13946 -0.33398,-0.1875 -0.53832,-0.45103 -1.17812,-0.84056 -1.97266,-1.1289 -0.47337,-0.28993 -1.1539,-0.39338 -1.79101,-0.40625 -0.63711,-0.0129 -1.22904,0.0646 -1.52344,0.13476 -0.22003,0.0524 -0.73483,0.36267 -1.29492,0.83008 -0.29994,-0.73815 -0.5851,-1.2497 -0.84375,-1.3164 -0.88795,-0.22897 -1.91334,-0.33009 -2.43359,-0.24415 -0.0223,0.0136 -0.1167,0.0769 -0.12305,0.0801 -0.0477,0.0219 -0.65488,0.16541 -0.9336,0.19141 -2.80673,-0.0411 -3.91219,-1.04708 -4.35742,-2.20313 0.97978,-0.21662 2.10327,-0.21733 2.67969,-0.20507 0.2702,-0.21608 0.1172,-0.0333 0.72266,-0.77149 0.60545,-0.73831 1.97142,-3.19151 1.89453,-5.26172 -0.10821,-2.74043 3.33548,-4.29375 1.98828,-7.6875 0.30096,-1.99519 -0.17096,-3.55844 -1.10938,-4.78906 -0.18523,-0.61238 -0.75624,-1.0247 -1.45117,-2.05273 0.45833,-0.28457 0.72812,-0.75738 1.65235,-0.66211 -1.55448,-0.70545 -4.07676,-0.71154 -4.16016,-0.80469 -0.36794,-0.55142 -2.60621,-0.67696 -1.60938,-1.4961 z m 11.16211,20.16993 c -0.1471,-0.0411 -0.17306,0.54928 0,0 z m -3.94336,5.6914 c 0.004,0.0499 0.22436,0.10632 0,0 z m -40.73242,32.71875 -0.0645,0.0703 z m 46.02735,25.93164 c -0.25858,0.0348 0.33268,0.44635 0.16797,0.0117 -0.0763,-0.0143 -0.13093,-0.0166 -0.16797,-0.0117 z m -8.62891,7.66602 c -0.0144,0.88245 -0.0113,0.69914 0,0 z\" },\r\n    { duration: 150, path: \"m 344.17773,272.82812 c -2.37927,0.0551 -4.99218,0.8086 -4.99218,0.8086 -5.61651,1.7955 -9.27441,9.06821 -7.69336,14.625 1.50642,1.82407 1.21873,3.90904 2.6289,4.63086 0,0 0.29905,0.27369 0.74805,0.67187 -0.79317,1.5739 -2.35417,4.65169 -3.16016,5.00391 -0.5168,0.22585 -1.14787,0.32428 -1.79492,0.38672 -0.0594,-0.007 -0.12073,-0.0191 -0.17968,-0.0254 -0.0566,-0.0227 -0.10846,-0.0341 -0.16602,-0.0586 -0.42256,-0.0435 -0.82673,-0.0539 -1.21484,-0.0371 -1.16436,0.0505 -2.17875,0.35712 -3.07032,0.84961 -3.36757,1.65606 -4.85547,5.26368 -4.85547,5.26368 l -6.34375,17.38281 1.25782,1.87695 c -0.28702,0.64689 -0.46948,0.76855 -1.0293,1.81055 -0.18685,0.34778 -0.29847,0.64766 -0.37891,0.92773 -0.14292,0.17078 -0.29705,0.37241 -0.46875,0.61133 -0.11773,0.18036 -0.18961,0.39792 -0.31445,0.57227 -2.62539,4.98918 -8.65016,13.29338 -10.01367,18.92578 -1.58355,5.81634 -10.54687,12.15065 -10.77734,14.76758 -0.1332,1.51242 3.292,0.53389 6.38671,-0.86329 2.26003,-1.02036 3.78113,-2.87223 5.26953,-3.43164 0.52508,-0.24922 1.50786,-0.0689 1.72266,0.40625 0.28959,0.64078 -0.27676,1.75981 -0.14062,2.53907 0.26162,1.49784 0.63837,2.0914 2.05468,-1.13086 -0.27156,-2.19561 0.81312,-3.86627 0.11328,-5.74414 1.26433,-3.27635 7.12849,-11.42091 9.39649,-14.8711 1.1284,-2.03713 2.25955,-4.71646 3.39062,-7.27929 0.19104,-0.37872 0.30724,-0.80402 0.36915,-1.22852 0.12913,-0.15517 0.24906,-0.31605 0.34179,-0.48437 0.57036,-1.0353 0.70003,-1.41902 1.05469,-2.19922 l 0.77148,-0.0996 c 0,0 2.2235,-5.5568 3.00586,-7.09961 -0.003,0.13765 0.005,0.26352 0.0723,0.39258 0.0593,0.14332 0.10631,0.28843 0.14062,0.4375 2.06838,4.50904 2.06182,10.27824 3.2461,15.23046 1.16758,5.21173 0.46082,12.56788 4.69922,15.89258 -0.0122,0.0973 -0.0346,0.19317 -0.043,0.29102 -0.0215,0.31544 -0.0239,0.63125 -0.0254,0.94726 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14041,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29168,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.14182 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.72251,-0.0521 -3.35019,0.22595 -4.2832,0.41601 -0.24611,0.22445 -0.4944,0.44673 -0.73633,0.67578 -0.35879,0.43488 -0.71547,0.87029 -1.09375,1.28907 -0.14382,0.17445 -0.30289,0.33227 -0.4668,0.48632 0.25912,-1.65489 0.41643,-3.44549 0.4375,-5.41797 0.0565,-0.0707 0.1198,-0.11972 0.1836,-0.1582 0.44899,-1.34503 1.03255,-3.18989 1.50976,-5.25781 0.16529,-2.0414 -0.051,-3.4536 -0.41992,-4.88086 2.41371,1.43359 6.42773,3.63867 6.42773,3.63867 l 2.93555,1.97656 c 0,0 0.40391,0.27179 1.86523,-0.25976 1.63207,0.44143 2.61545,1.26942 4.57813,2.01758 0.6038,0.23013 2.61251,-0.0393 3.32812,-0.89453 0.0372,-0.0444 0.0884,-0.12889 0.12891,-0.18165 0.47474,-0.30015 0.86515,-0.61977 0.93164,-0.76562 0.16401,-0.36015 0.35171,-1.05238 0.54492,-1.8418 0.17291,-0.41954 0.30907,-0.81636 0.34375,-1.125 0.0145,-0.12879 0.005,-0.24094 0.002,-0.35742 0.29911,-1.39316 0.5964,-2.94037 0.83789,-4.16797 0.3651,-2.13937 0.59061,-6.22029 1.07617,-9 0.48552,-2.77969 1.20031,-4.32135 0.77734,-5.86133 -0.46191,-1.24643 0.0335,-2.64648 0.0605,-3.69921 l 0.38867,-0.50196 14.47266,-1.29492 c 0,0 -24.07284,-4.5251 -31.89063,-5.59375 -0.75735,1.29188 -1.06192,2.43874 -1.31836,2.50586 l 4.29493,1.92188 -2.26563,1.17968 -0.0469,1.21875 c 2.03503,0.0719 5.98135,-0.2268 8.69921,-0.0605 0.17542,0.17688 0.3244,0.33961 0.28711,0.41796 -0.19733,0.41492 1.06212,0.68773 1.0625,1.44532 0.002,0.9622 1.37905,1.09848 1.32813,2.16601 -0.1883,3.94927 -1.28324,7.26087 -2.10938,9.14258 -0.6697,1.52542 -1.14754,2.7332 -1.55078,3.80469 -2.85102,-1.61718 -8.6202,-4.07632 -11.49219,-5.29102 -0.25474,-0.15711 -0.50732,-0.32061 -0.76367,-0.47461 -0.10635,-0.08 -0.21958,-0.13946 -0.33398,-0.1875 -0.53832,-0.45103 -1.17813,-0.84056 -1.97266,-1.1289 -0.47337,-0.28993 -1.15391,-0.39338 -1.79101,-0.40625 -0.63711,-0.0128 -1.22904,0.0646 -1.52344,0.13476 -0.14191,0.0338 -0.41019,0.17967 -0.73047,0.40039 -0.21529,-0.4391 -0.42193,-0.74948 -0.61328,-0.79882 -0.88795,-0.22897 -1.91334,-0.33009 -2.43359,-0.24415 -0.0223,0.0136 -0.1167,0.0769 -0.12305,0.0801 -0.0477,0.0219 -0.65488,0.16541 -0.9336,0.19141 -2.75725,-0.0404 -3.86942,-1.01237 -4.33007,-2.14258 0.90668,-0.15803 1.88098,-0.15171 2.40234,-0.14062 0.2702,-0.21608 0.1172,-0.0333 0.72266,-0.77149 0.60545,-0.73831 1.97142,-3.19151 1.89453,-5.26172 -0.10821,-2.74043 3.33548,-4.29375 1.98828,-7.6875 0.30096,-1.99519 -0.17096,-3.55844 -1.10938,-4.78906 -0.18523,-0.61238 -0.75624,-1.0247 -1.45117,-2.05273 0.45833,-0.28457 0.72812,-0.75738 1.65235,-0.66211 -1.55448,-0.70545 -4.07676,-0.71154 -4.16016,-0.80469 -0.36794,-0.55142 -2.60621,-0.67696 -1.60938,-1.4961 z m 10.61719,19.95704 c -0.1471,-0.0411 -0.17306,0.54928 0,0 z m -43.88086,38.49804 -0.0645,0.0703 z m 46.02735,25.93164 c -0.25858,0.0348 0.33268,0.44635 0.16797,0.0117 -0.0763,-0.0143 -0.13093,-0.0166 -0.16797,-0.0117 z m -8.62891,7.66602 c -0.0144,0.88245 -0.0113,0.69914 0,0 z\" },\r\n    { duration: 150, path: \"m 344.17773,272.82812 c -2.37927,0.0551 -4.99218,0.8086 -4.99218,0.8086 -5.61651,1.7955 -9.27441,9.06821 -7.69336,14.625 1.50642,1.82407 1.21873,3.90904 2.6289,4.63086 0,0 0.29905,0.27369 0.74805,0.67187 -0.79317,1.5739 -2.35417,4.65169 -3.16016,5.00391 -0.5168,0.22585 -1.14787,0.32428 -1.79492,0.38672 -0.0594,-0.007 -0.12073,-0.0191 -0.17968,-0.0254 -0.0566,-0.0227 -0.10846,-0.0341 -0.16602,-0.0586 -0.42256,-0.0435 -0.82673,-0.0539 -1.21484,-0.0371 -1.16436,0.0505 -2.17875,0.35712 -3.07032,0.84961 -3.36757,1.65606 -4.85547,5.26368 -4.85547,5.26368 l -6.34375,17.38281 1.25782,1.87695 c -0.28702,0.64689 -0.46948,0.76855 -1.0293,1.81055 -0.18685,0.34778 -0.29847,0.64766 -0.37891,0.92773 -0.14292,0.17078 -0.29705,0.37241 -0.46875,0.61133 -0.11773,0.18036 -0.18961,0.39792 -0.31445,0.57227 -2.62539,4.98918 -8.65016,13.29338 -10.01367,18.92578 -1.58355,5.81634 -10.54687,12.15065 -10.77734,14.76758 -0.1332,1.51242 3.292,0.53389 6.38671,-0.86329 2.26003,-1.02036 3.78113,-2.87223 5.26953,-3.43164 0.52508,-0.24922 1.50786,-0.0689 1.72266,0.40625 0.28959,0.64078 -0.27676,1.75981 -0.14062,2.53907 0.26162,1.49784 0.63837,2.0914 2.05468,-1.13086 -0.27156,-2.19561 0.81312,-3.86627 0.11328,-5.74414 1.26433,-3.27635 7.12849,-11.42091 9.39649,-14.8711 1.1284,-2.03713 2.25955,-4.71646 3.39062,-7.27929 0.19104,-0.37872 0.30724,-0.80402 0.36915,-1.22852 0.12913,-0.15517 0.24906,-0.31605 0.34179,-0.48437 0.57036,-1.0353 0.70003,-1.41902 1.05469,-2.19922 l 0.77148,-0.0996 c 0,0 2.2235,-5.5568 3.00586,-7.09961 -0.003,0.13765 0.005,0.26352 0.0723,0.39258 0.0593,0.14332 0.10631,0.28843 0.14062,0.4375 2.06838,4.50904 2.06182,10.27824 3.2461,15.23046 1.16758,5.21173 0.46082,12.56788 4.69922,15.89258 -0.0122,0.0973 -0.0346,0.19317 -0.043,0.29102 -0.0215,0.31544 -0.0239,0.63125 -0.0254,0.94726 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14041,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29168,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.14182 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.72251,-0.0521 -3.35019,0.22595 -4.2832,0.41601 -0.24611,0.22445 -0.4944,0.44673 -0.73633,0.67578 -0.35879,0.43488 -0.71547,0.87029 -1.09375,1.28907 -0.14382,0.17445 -0.30289,0.33227 -0.4668,0.48632 0.25912,-1.65489 0.41643,-3.44549 0.4375,-5.41797 0.0565,-0.0707 0.1198,-0.11972 0.1836,-0.1582 0.44899,-1.34503 1.03255,-3.18989 1.50976,-5.25781 0.16529,-2.0414 -0.051,-3.4536 -0.41992,-4.88086 2.41371,1.43359 6.42773,3.63867 6.42773,3.63867 l 2.93555,1.97656 c 0,0 0.40391,0.27179 1.86523,-0.25976 1.63207,0.44143 2.61545,1.26942 4.57813,2.01758 0.46499,0.17723 1.75709,0.0543 2.65625,-0.40039 0.45319,0.0658 0.85547,0.0902 0.98242,0.0371 1.13651,-0.4758 4.28662,-2.81573 6.35742,-4.32422 1.72146,-1.32167 4.65937,-4.16143 6.9043,-5.8711 2.24485,-1.70968 3.81874,-2.35417 4.55469,-3.77148 0.65601,-1.58646 2.66918,-2.27831 3.02344,-3.36524 0.25019,-0.76817 0.39768,-1.23873 0.4746,-1.55273 0.59287,0.13209 1.26182,0.23609 2.08204,0.2793 l 1.00781,-1.29688 14.47265,-1.29492 c 0,0 -24.07477,-4.52314 -31.89257,-5.5918 -0.75735,1.29188 -1.06016,2.43874 -1.31641,2.50586 l 4.29492,1.91992 -2.26758,1.17969 -0.0449,1.21875 c 1.7017,0.0602 4.72832,-0.13329 7.27344,-0.10547 -0.0114,0.0146 -0.0144,0.0328 -0.0273,0.0469 -0.65209,0.70755 0.26466,1.74155 -0.49805,2.49023 -2.82142,2.76979 -5.87315,4.45797 -7.75781,5.27735 -5.12818,2.22955 -6.92157,3.54635 -8.70704,4.31445 -0.54331,-0.41395 -0.0472,-0.5222 -0.53906,-0.88477 0.1177,-0.50033 0.13114,-0.90758 0.002,-1.15234 -0.61634,-1.1674 -9.38487,-4.90205 -13.14454,-6.49219 -0.25474,-0.15711 -0.50732,-0.32061 -0.76367,-0.47461 -0.10635,-0.08 -0.21958,-0.13946 -0.33398,-0.1875 -0.53832,-0.45103 -1.17813,-0.84056 -1.97266,-1.1289 -0.47337,-0.28993 -1.15391,-0.39338 -1.79101,-0.40625 -0.63711,-0.0128 -1.22904,0.0646 -1.52344,0.13476 -0.14191,0.0338 -0.41019,0.17967 -0.73047,0.40039 -0.21529,-0.4391 -0.42193,-0.74948 -0.61328,-0.79882 -0.88795,-0.22897 -1.91334,-0.33009 -2.43359,-0.24415 -0.0223,0.0136 -0.1167,0.0769 -0.12305,0.0801 -0.0477,0.0219 -0.65488,0.16541 -0.9336,0.19141 -2.75725,-0.0404 -3.86942,-1.01237 -4.33007,-2.14258 0.90668,-0.15803 1.88098,-0.15171 2.40234,-0.14062 0.2702,-0.21608 0.1172,-0.0333 0.72266,-0.77149 0.60545,-0.73831 1.97142,-3.19151 1.89453,-5.26172 -0.10821,-2.74043 3.33548,-4.29375 1.98828,-7.6875 0.30096,-1.99519 -0.17096,-3.55844 -1.10938,-4.78906 -0.18523,-0.61238 -0.75624,-1.0247 -1.45117,-2.05273 0.45833,-0.28457 0.72812,-0.75738 1.65235,-0.66211 -1.55448,-0.70545 -4.07676,-0.71154 -4.16016,-0.80469 -0.36794,-0.55142 -2.60621,-0.67696 -1.60938,-1.4961 z m 10.61719,19.95704 c -0.1471,-0.0411 -0.17306,0.54928 0,0 z m -43.88086,38.49804 -0.0645,0.0703 z m 46.02735,25.93164 c -0.25858,0.0348 0.33268,0.44635 0.16797,0.0117 -0.0763,-0.0143 -0.13093,-0.0166 -0.16797,-0.0117 z m -8.62891,7.66602 c -0.0144,0.88245 -0.0113,0.69914 0,0 z\" },\r\n    { duration: 150, path: \"m 346.92773,272.32812 c -2.37927,0.0551 -4.99218,0.8086 -4.99218,0.8086 -5.61651,1.7955 -9.27441,9.06821 -7.69336,14.625 1.50642,1.82407 1.21873,3.90904 2.6289,4.63086 0,0 0.87378,0.79818 1.95899,1.70898 -0.97231,1.57816 -2.40226,3.80762 -3.13086,4.0586 -0.83527,0.28773 -1.892,0.2592 -2.89063,0.25 -0.34038,-0.075 -0.67367,-0.13511 -0.99804,-0.17578 -0.0562,-0.0238 -0.10696,-0.0369 -0.16407,-0.0625 -0.42169,-0.0512 -0.82648,-0.0702 -1.21484,-0.0605 -1.16508,0.0295 -2.18555,0.31876 -3.08594,0.79492 -3.39718,1.59445 -4.94922,5.17383 -4.94922,5.17383 l -6.66015,17.26562 1.22461,1.89844 c -0.29874,0.64155 -0.4838,0.76134 -1.0625,1.79297 -0.19329,0.34457 -0.31098,0.64119 -0.39649,0.91992 -0.14601,0.16814 -0.30445,0.36776 -0.48047,0.60352 -0.12098,0.1782 -0.19624,0.39436 -0.32421,0.5664 -2.71583,4.94054 -8.89156,13.13166 -10.35743,18.73828 -1.68921,5.78654 -10.76487,11.95802 -11.04296,14.57032 -0.16071,1.50974 3.28073,0.59448 6.40039,-0.7461 2.27823,-0.97903 3.83173,-2.80373 5.33007,-3.33593 0.52953,-0.23963 1.50873,-0.0435 1.71485,0.43554 0.27787,0.64595 -0.30748,1.75746 -0.18555,2.53906 0.23429,1.50237 0.6014,2.10024 2.07617,-1.0957 -0.23153,-2.20019 0.88233,-3.84993 0.2168,-5.74023 1.32378,-3.25278 7.33555,-11.28896 9.66601,-14.69727 1.16532,-2.01624 2.34588,-4.67499 3.52344,-7.2168 0.19789,-0.37515 0.31904,-0.79742 0.38867,-1.2207 0.13245,-0.15321 0.25549,-0.31139 0.35157,-0.47851 0.58912,-1.02474 0.72494,-1.40413 1.09375,-2.17774 l 0.77343,-0.0879 c 0,0 2.44228,-5.79364 3.20313,-7.17969 0.0761,-0.13856 0.42308,-0.71517 0.55664,-0.94726 -0.005,0.0897 -0.0456,0.87601 -0.0469,0.88476 -0.0174,0.1513 -0.0221,0.2879 0.0391,0.4336 0.0476,0.14763 0.0832,0.29591 0.10547,0.44726 1.70023,4.66036 1.23022,10.41019 2.01367,15.44141 0.76695,5.4371 -0.63154,12.98143 3.74804,16.52344 -0.0162,0.12137 -0.0442,0.24108 -0.0547,0.36328 -0.0215,0.31544 -0.0239,0.63125 -0.0254,0.94726 -0.66066,4.59366 0.40988,6.68065 3.76367,12.19336 3.68228,7.8794 8.65347,-3.41233 8.2207,-5.66211 -0.004,4.39721 4.44496,3.70456 2.74805,-0.40429 -2.24591,-2.76299 -4.89532,-6.13183 -0.31055,-7.67383 4.62597,2.93975 10.53049,4.92145 15.0293,8.53125 3.562,2.36054 10.06514,2.56242 7.4082,8.56055 -2.62391,4.71671 -2.91391,9.92515 -2.50195,15.1289 -0.15098,1.22649 -0.30274,2.50131 -0.30274,2.71289 0.21198,0.18965 0.41571,0.32923 0.62305,0.45117 0.037,0.30114 0.0682,0.60397 0.10742,0.9043 0.14703,2.33412 0.14041,5.49299 -0.0879,7.97852 -0.0531,0.57823 -0.71214,0.32176 -0.88086,0.81836 -0.62997,1.85495 -1.29168,3.90576 -1.23633,4.3164 0.1355,1.00411 12.65811,8.97801 18.80665,4.75586 -0.19276,-0.74218 0.52248,-1.2255 -0.47657,-2.34961 -2.55235,-2.87183 -8.50845,-2.27037 -7.10156,-11.79883 -0.0484,-1.6092 0.0622,-3.19559 0.25586,-4.76953 0.50862,-0.287 0.80273,-0.52539 0.80273,-0.52539 l 1.65039,-15.75195 c 1.14831,-6.01867 3.347,-13.38934 -3.23242,-16.94727 -4.09166,-3.64699 -11.22176,-4.36117 -13.87109,-9.14257 0.61083,-0.30166 0.91406,-0.69532 0.91406,-0.69532 l 1.10352,-10.45703 c 0.15533,-0.54027 0.30129,-1.07161 0.46679,-1.62305 0.64955,-4.14182 1.12516,-3.92015 -1.85937,-7.46679 -0.75411,-0.8772 -2.17536,-1.18766 -3.65625,-1.23242 -1.67962,-0.0508 -3.24826,0.21104 -4.19141,0.40039 0.0682,-0.52409 0.12934,-1.05915 0.17969,-1.61133 0.062,-0.0659 0.12864,-0.10932 0.19531,-0.14258 0.55539,-1.30471 1.28627,-3.09613 1.92774,-5.11914 0.30929,-1.90392 0.2383,-3.27828 0.0195,-4.64453 1.80562,1.01679 3.42773,1.9082 3.42773,1.9082 l 2.93555,1.97656 c 0,0 0.40391,0.27179 1.86523,-0.25976 1.63207,0.44143 2.61545,1.26942 4.57813,2.01758 0.32317,0.12317 1.04729,0.1001 1.76172,-0.0762 1.19577,0.31775 5.11042,0.3935 7.66797,0.4668 2.17031,0.008 6.23101,-0.44264 9.05273,-0.42187 2.82168,0.0208 4.14864,-0.0529 5.73438,-0.24219 2.42033,-0.28893 3.11846,-0.58494 4.09765,-0.55859 0.97919,0.0263 2.04795,0.05 2.83203,-0.31446 0,0 2.585,-1.03904 2.89454,-1.39258 0.57399,-0.5263 0.45117,-1.2832 0.45117,-1.2832 0,0 0.46252,-0.10958 1.4082,-0.61133 0.59958,-0.31811 0.94527,-0.91562 1.03711,-1.07617 0.26759,-0.30446 0.0658,-1.0417 -0.3125,-0.88867 -0.37829,0.15304 -0.50901,0.69844 -1.42188,1.12109 -0.5125,0.23695 -0.58215,0.12255 -1.16015,0.38477 -0.27024,-0.10934 -0.8711,-0.33789 -0.8711,-0.33789 0,0 1.44078,-0.32214 2.82227,-0.90235 1.2407,-0.52109 2.05421,-1.36338 2.17969,-1.50976 0.26521,-0.30935 0.26494,-0.77292 -0.13281,-0.86133 -0.14793,-0.0329 -1.07989,0.94705 -2.13672,1.30273 -1.78432,0.60055 -3.51953,1.01758 -3.51954,1.01758 l -0.15429,-0.45312 5.10351,-1.71289 c 0,0 0.3089,-0.83914 -0.26562,-0.79492 -0.54315,0.0418 -6.79641,1.88479 -7.75781,2.09179 0.82147,-0.8246 2.03492,-1.91742 2.58789,-2.22461 0.79547,-0.44194 0.6187,-1.23777 0,-1.32617 -0.61871,-0.0884 -3.80078,2.29883 -3.80078,2.29883 0,0 0.004,0.0628 0.004,0.0664 -0.29313,0.0651 -0.77267,1.08892 -0.97461,1.03125 -0.44179,-0.12624 -0.5029,1.15986 -1.25,1.28515 -0.94866,0.16085 -1.12031,0.61257 -2.18164,0.73828 -3.92628,0.46523 -7.1973,-0.0227 -9.18945,-0.52734 -5.46429,-1.38426 -7.68413,-1.42826 -9.57617,-1.92383 -0.54017,-0.14824 -1.35565,-0.1862 -2.17188,-0.0371 -2.24575,-1.00326 -1.04841,-1.01912 -1.72461,-1.51758 0.1177,-0.50033 0.13114,-0.90758 0.002,-1.15234 -0.61634,-1.1674 -9.38487,-4.90205 -13.14454,-6.49219 -0.25474,-0.15711 -0.50732,-0.32061 -0.76367,-0.47461 -0.10635,-0.08 -0.21958,-0.13946 -0.33398,-0.1875 -0.53832,-0.45103 -1.17813,-0.84056 -1.97266,-1.1289 -0.47337,-0.28993 -1.15391,-0.39338 -1.79101,-0.40625 -0.63711,-0.0128 -1.22904,0.0646 -1.52344,0.13476 -0.16835,0.0401 -0.51615,0.24269 -0.91797,0.53907 -3.66677,-0.35432 -4.25357,-2.12669 -4.29883,-3.67383 0.46529,-0.0205 0.923,-0.0255 1.20508,-0.0195 0.2702,-0.21608 0.1172,-0.0333 0.72266,-0.77149 0.60545,-0.73831 1.97142,-3.19151 1.89453,-5.26172 -0.10821,-2.74043 3.33548,-4.29375 1.98828,-7.6875 0.30096,-1.99519 -0.17096,-3.55844 -1.10938,-4.78906 -0.18523,-0.61238 -0.75624,-1.0247 -1.45117,-2.05273 0.45833,-0.28457 0.72812,-0.75738 1.65235,-0.66211 -1.55448,-0.70545 -4.07676,-0.71154 -4.16016,-0.80469 -0.36794,-0.55142 -2.60621,-0.67696 -1.60938,-1.4961 z\" },\r\n];\r\n\r\nconst xCameraPanScale = 0.13;\r\nconst yCameraPanScale = 0.13;\r\n\r\nexport function SiteLoader({ progress }: SiteLoaderParams) {\r\n    const percentage = Math.max(0, Math.min(Math.floor(progress * 100), 100));\r\n    const digits = [\r\n        percentage === 100 ? 1 : null,\r\n        percentage >= 10 ? Math.floor(percentage / 10) % 10 : null,\r\n        percentage % 10,\r\n    ];\r\n\r\n    const [ personIdleFrame, setPersonIdleFrame ] = useState(0);\r\n    const [ cameraOffset, setCameraOffset ] = useState([0, 0]);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setPersonIdleFrame((personIdleFrame + 1) % personIdleFrames.length), personIdleFrames[personIdleFrame]);\r\n    }, [ personIdleFrame ]);\r\n\r\n    const [ personOutroFrame, setPersonOutroFrame ] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (progress >= 1)\r\n        {\r\n            if (personOutroFrame < personOutroFrames.length - 1)\r\n            {\r\n                setTimeout(() => setPersonOutroFrame(personOutroFrame + 1), personOutroFrames[personOutroFrame].duration);\r\n            }\r\n            else\r\n            {\r\n                setLastTime(Date.now());\r\n            }\r\n        }\r\n    }, [ progress, personOutroFrame ]);\r\n\r\n    const [ whiteoutProgress, setWhiteoutProgress ] = useState(0);\r\n    const [ lastTime, setLastTime ] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (personOutroFrame < personOutroFrames.length - 1)\r\n            return;\r\n\r\n        const handle = requestAnimationFrame(() => {\r\n            if (whiteoutProgress >= 1)\r\n                return;\r\n\r\n            const now = Date.now();\r\n            const deltaTime = (now - lastTime) * 0.001;\r\n            setWhiteoutProgress(Math.min(whiteoutProgress + deltaTime, 1));\r\n            setLastTime(now);\r\n        });\r\n\r\n        return () => cancelAnimationFrame(handle);\r\n    }, [ lastTime, whiteoutProgress, personOutroFrame ]);\r\n\r\n    useEffect(() => {\r\n        let xOffset = 0;\r\n        let yOffset = 0;\r\n\r\n        const handler = (e: MouseEvent) => {\r\n            const xTargetOffset = (e.clientX / window.innerWidth) * 2 - 1;\r\n            const yTargetOffset = (e.clientY / window.innerHeight) * 2 - 1;\r\n\r\n            xOffset = Math.max(-xCameraPanScale, Math.min(-xTargetOffset * xCameraPanScale, xCameraPanScale));\r\n            yOffset = Math.max(-yCameraPanScale, Math.min(-yTargetOffset * yCameraPanScale, yCameraPanScale));\r\n            setCameraOffset([ xOffset, yOffset ]);\r\n        };\r\n\r\n        window.addEventListener('mousemove', handler);\r\n\r\n        return () => window.removeEventListener('mousemove', handler);\r\n    }, [ whiteoutProgress ]);\r\n\r\n    const renderIdlePerson = () => (\r\n        <>\r\n            {/* Person */}\r\n                <path\r\n                style={getLandscapePieceStyle('mountain-color-fg')}\r\n                d=\"m 90.585683,73.199667 c -1.457595,0.556239 -2.317948,2.531218 -1.819235,3.976163 0.863052,0.934927 0.343675,2.27475 -1.002511,1.615488 -1.694046,-0.252378 -2.403764,1.473084 -2.831121,2.771825 -0.493075,1.512377 -0.732586,3.557635 -1.760487,4.877282 -0.747276,1.290984 -2.428539,3.421629 -2.849068,4.896117 -0.480668,1.520767 -2.917612,3.100037 -3.006447,3.789413 -0.05134,0.398416 0.864186,0.176033 1.69723,-0.16034 0.608363,-0.245649 1.030079,-0.718912 1.429533,-0.850928 0.141471,-0.06028 0.399278,-0.0022 0.450998,0.125767 0.06973,0.172488 -0.09172,0.462338 -0.06405,0.669801 0.0532,0.398772 0.146953,0.559297 0.555746,-0.277465 -0.04838,-0.583345 0.255752,-1.013239 0.09075,-1.517153 0.369187,-0.852679 2.00646,-2.943331 2.642841,-3.831264 0.841288,-1.384099 1.703768,-3.554414 2.588508,-4.907491 0.515133,1.285309 0.309695,2.906432 0.485833,4.324374 0.159637,1.45555 -0.282015,3.460185 0.88113,4.424149 0.483206,1.205497 0.453009,2.444991 1.340225,3.638074 0.97427,2.084756 2.289842,-0.902591 2.175338,-1.497845 -0.0011,1.163428 1.176108,0.980114 0.727133,-0.107019 -0.59423,-0.731039 -1.295373,-1.622462 -0.08232,-2.03045 1.223955,0.777809 2.786335,1.301933 3.976645,2.257026 0.942446,0.624559 2.662979,0.678291 1.959997,2.265296 -0.875583,1.573938 -0.774206,3.354533 -0.548765,5.079023 0.0389,0.61757 0.03701,1.4534 -0.02338,2.11103 -0.01405,0.15299 -0.188314,0.0854 -0.232953,0.21679 -0.166681,0.49079 -0.342095,1.03319 -0.327435,1.14184 0.03585,0.26567 3.349382,2.37546 4.976182,1.25835 -0.051,-0.19637 0.13845,-0.32436 -0.12588,-0.62178 -0.67531,-0.75984 -2.251349,-0.60058 -1.87911,-3.12165 -0.05246,-1.74518 0.59098,-3.38893 0.63546,-5.120236 0.2479,-1.654858 1.13282,-3.90139 -0.773758,-4.932402 -1.112822,-0.991884 -3.078816,-1.160283 -3.729487,-2.524168 0.11834,-1.133157 0.379908,-2.15342 0.716505,-3.274928 0.17186,-1.095872 0.297667,-1.037194 -0.491991,-1.975576 -0.53207,-0.618911 -2.317922,-0.170565 -2.317922,-0.170565 0,0 0.906038,-1.81407 0.992555,-2.682713 0.08652,-0.868643 1.014312,-2.360406 -0.171714,-3.367886 -0.513205,-0.654196 -1.972726,-0.292214 -2.144022,-0.327329 -0.787191,-0.191614 -0.750414,-0.265965 0.09302,-0.27182 0.384296,-0.450551 0.625594,-0.97155 0.567407,-1.600417 -0.06855,-0.722392 0.818287,-1.182904 0.412895,-2.059823 0.156895,-1.653776 -1.584095,-2.106602 -2.940608,-2.202479 z m 2.850473,4.218347 c -0.03946,-0.0087 -0.03771,0.147635 0,0 z m -4.306197,1.31258 c 0.28666,0.443076 -0.0096,-0.01648 0,0 z m 3.147094,0.49041 c 0.0033,0.0069 0.06136,0.01786 0,0 z m 0.138494,0.01188 c 0.0035,0.01275 0.06367,0.01617 0,0 z m -7.881689,3.584794 0.0021,0.03459 z m -0.08992,0.516763 0.0074,0.07124 z m -2.444811,4.752682 -0.01577,0.01931 z m 12.582176,6.179986 c 0.05697,0.128479 -0.162862,-0.02066 0,0 z m -2.423626,2.274279 c -0.0038,0.233482 -0.003,0.184981 0,0 z m 8.351423,2.106848 0.007,0.01439 z m -2.329567,1.026295 c 0.0181,0.09336 -0.121147,-0.01921 0,0 z m -0.229444,1.948199 -0.04865,0.0288 z\"\r\n            />\r\n            <path\r\n                style={getLandscapePieceStyle('mountain-color-fg')}\r\n                d=\"m 94.82412,79.962724 c -0.534382,-0.06219 -0.297468,0.989275 -0.850053,0.66157 -0.815258,0.07344 -0.744855,1.038883 -0.239237,1.461751 0.357408,0.443267 0.773243,0.799822 0.885169,1.365959 0.281109,0.448514 0.742387,0.738918 1.089938,1.129977 0.523812,0.34185 1.004212,0.732137 1.319972,1.279388 0.48331,0.572002 1.26777,0.567867 1.91901,0.80999 0.54312,0.18646 1.150391,0.19363 1.629901,0.542446 0.31718,0.189357 0.65061,0.398097 1.03197,0.406331 0.0886,-0.594939 0.76763,0.23245 1.13981,0.168659 0.56806,-0.0049 1.14082,0.395023 1.67972,0.07439 0.51442,-0.139607 0.99725,-0.572394 0.80832,-1.1571 -0.18745,-0.485632 -0.80007,-0.555016 -1.25384,-0.515834 -0.23551,-0.37265 -0.66267,-0.58393 -1.09722,-0.536006 -0.3715,0.198792 -0.75501,0.04446 -1.11827,-0.108151 -0.54491,-0.215794 -1.12767,-0.280522 -1.6918,-0.422836 -0.503941,-0.420412 -1.341371,-0.410382 -1.693071,-1.004369 -0.29368,-0.583155 -0.68976,-1.118174 -1.11667,-1.609495 -0.75756,-0.673092 -1.31864,-1.519063 -1.94632,-2.305214 -0.110037,-0.171569 -0.312269,-0.212608 -0.497329,-0.241456 z m 2.817399,3.24993 c 0.0806,-0.0026 -0.0378,0.07429 0,0 z\"\r\n            />\r\n            <path\r\n                style={getLandscapePieceStyle('mountain-color-fg')}\r\n                d=\"m 103.15552,82.939311 c -0.34016,0.205616 -0.25381,0.418257 -0.37847,0.840158 -0.12462,0.42191 -0.53853,0.66689 -1.00033,0.674582 -0.44313,0.112107 -1.17332,0.100336 -1.34529,0.284536 -0.15424,0.168905 0.31179,0.739793 0.68379,0.871124 0.51409,0.291752 0.98602,0.445511 1.84669,0.784139 0.86068,0.338626 1.37486,0.476132 2.01612,0.706179 0.64126,0.230057 2.36103,0.874822 2.36103,0.874822 -0.45173,-0.848874 -1.02069,-1.374558 -1.42922,-1.970058 -0.40855,-0.595503 -0.97913,-1.138911 -1.44222,-1.590305 -0.24617,-0.268862 -0.49354,-0.536592 -0.7431,-0.802309 -0.0112,-0.267874 -0.31717,-0.526526 -0.569,-0.672868 z m -1.80599,1.836728 c 0.0939,0.05243 0.0198,0.02263 0,0 z\"\r\n            />\r\n            {/* Person Clothes */}\r\n            <path\r\n                style={{...getLandscapePieceStyle('mountain-color-fg'), visibility: personIdleFrame === 0 ? 'visible' : 'hidden'}}\r\n                d=\"m 347.125,275.70117 c -2.52394,0.0571 -4.75391,0.95899 -4.75391,0.95899 l 0.57618,3.32812 11.57226,5.01172 -0.21484,-1.74219 c -0.21483,-1.74184 -0.92796,-2.34128 -1.06055,-2.42969 0.005,-0.99507 -0.70484,-1.26432 -1.6582,-2.51953 0.44195,-0.30939 0.99771,-0.48365 2.20703,-0.37695 -1.62224,-0.9937 -4.70261,-0.86081 -4.79102,-0.94922 -0.39775,-0.5303 -2.07713,-0.78147 -0.7832,-1.24804 -0.36689,-0.0314 -0.73319,-0.0414 -1.09375,-0.0332 z M 330.79883,297.75 c -5.82828,-0.16495 -8.53516,5.92578 -8.53516,5.92578 l -6.09765,18.91602 1.32421,2.5625 5.53907,2.22265 2.40234,-0.27539 3.06445,-9.72461 c 0,0 12.68197,-16.61765 4.99219,-19.13672 -0.96122,-0.31488 -1.85684,-0.46667 -2.68945,-0.49023 z m 28.67969,4.99023 c -1.85462,-0.14877 -1.85938,12.66798 -1.85938,12.66797 l 4.18359,4.45508 c 0,0 0.99415,0.33981 3.43165,0.15234 2.4375,-0.1875 6.24688,-2.6017 6.8789,-5.76757 -2.63835,-3.12168 -9.98828,-9.17188 -12.23828,-11.29688 -0.14063,-0.13281 -0.27284,-0.20102 -0.39648,-0.21094 z m 6.71484,25.50782 c 0,0 -6.89476,16.52927 -4.77344,16.88281 2.12132,0.35356 4.28125,-1.03516 4.28125,-1.03516 z m 15.35937,34.57226 -12.68945,18.8125 c 0,0 -0.24805,5.03127 -0.24805,5.46875 1.18751,1.06352 1.6875,0.71882 4.9375,1.09375 3.25001,0.37501 6.31055,-1.6875 6.31055,-1.6875 z\"\r\n                transform=\"scale(0.26458333)\" />\r\n            <path\r\n                style={{...getLandscapePieceStyle('mountain-color-fg'), visibility: personIdleFrame === 1 ? 'visible' : 'hidden'}}\r\n                d=\"m 347.3125,275.57812 c -2.37262,0.1862 -4.94141,1.08204 -4.94141,1.08204 l 0.57618,3.32812 11.57226,5.01172 -0.21484,-1.74219 c -0.21483,-1.74184 -0.92796,-2.34128 -1.06055,-2.42969 0.005,-0.99507 -0.70484,-1.26432 -1.6582,-2.51953 0.44195,-0.30939 0.68521,-0.79613 1.61328,-0.75195 -1.59099,-0.6187 -4.10886,-0.48581 -4.19727,-0.57422 -0.39775,-0.5303 -2.63962,-0.53147 -1.68945,-1.4043 z M 330.79883,297.75 c -5.82828,-0.16495 -8.53516,5.92578 -8.53516,5.92578 l -7.07031,17.67774 1.58984,2.65234 5.18555,3.19531 2.09375,-0.1875 4.43359,-9.63672 c 0,0 12.68197,-16.61765 4.99219,-19.13672 -0.96122,-0.31488 -1.85684,-0.46667 -2.68945,-0.49023 z m 28.67969,4.99023 c -1.85462,-0.14877 -1.85938,12.66798 -1.85938,12.66797 l 3.25586,4.54297 c 0,0 0.375,0.5625 2.8125,0.375 2.4375,-0.1875 7.375,-4.375 7.1875,-5.8125 -0.1875,-1.4375 -8.75,-9.4375 -11,-11.5625 -0.14063,-0.13281 -0.27284,-0.20102 -0.39648,-0.21094 z m 6.71484,25.50782 c 0,0 -6.89476,16.52927 -4.77344,16.88281 2.12132,0.35356 3.09375,-0.97266 3.09375,-0.97266 z m 15.35937,34.57226 -12.6875,18.8125 c 0,0 -0.625,4.84377 -0.625,5.28125 1.18751,1.06243 2.0625,0.90632 5.3125,1.28125 3.25001,0.37501 5.5,-1.5 5.5,-1.5 z\"\r\n                transform=\"scale(0.26458333)\" />\r\n            <path\r\n                style={{...getLandscapePieceStyle('mountain-color-fg'), visibility: personIdleFrame === 2 ? 'visible' : 'hidden'}}\r\n                d=\"m 346.59375,275.45312 c -2.21637,0.27995 -4.22266,1.20704 -4.22266,1.20704 l 0.57618,3.32812 11.57226,5.01172 -0.21484,-1.74219 c -0.21483,-1.74184 -0.92796,-2.34128 -1.06055,-2.42969 0.005,-0.99507 -0.70484,-1.26432 -1.6582,-2.51953 0.44195,-0.30939 0.21646,-1.13987 1.14453,-1.31445 -1.49724,-0.40003 -3.64011,0.0767 -3.72852,-0.0117 -0.39775,-0.5303 -2.98338,-0.56272 -2.4082,-1.5293 z M 330.79883,297.75 c -5.82828,-0.16495 -8.53516,5.92578 -8.53516,5.92578 l -7.63281,17.05274 1.74609,2.96484 5.5918,3.50781 1.65625,-0.25 4.87109,-9.57422 c 0,0 12.68197,-16.61765 4.99219,-19.13672 -0.96122,-0.31488 -1.85684,-0.46667 -2.68945,-0.49023 z m 28.67969,4.99023 c -1.85462,-0.14877 -1.85938,12.66798 -1.85938,12.66797 l 2.59375,4.71875 c 0,0 0.46289,0.5625 2.90039,0.375 2.4375,-0.1875 7.5957,-3.84375 7.4082,-5.28125 -0.1875,-1.4375 -8.39648,-10.14453 -10.64648,-12.26953 -0.14063,-0.13281 -0.27284,-0.20102 -0.39648,-0.21094 z m 6.71484,25.50782 c 0,0 -6.89476,16.52927 -4.77344,16.88281 2.12132,0.35356 3.09375,-0.97266 3.09375,-0.97266 z m 15.35937,34.57226 -12.6875,18.8125 c 0,0 -1.3125,4.62502 -1.3125,5.0625 1.18751,1.06243 2.75,1.12507 6,1.5 3.25001,0.37501 5,-1.25 5,-1.25 z\"\r\n                transform=\"scale(0.26458333)\" />\r\n            <path\r\n                style={{...getLandscapePieceStyle('mountain-color-fg'), visibility: personIdleFrame === 3 ? 'visible' : 'hidden'}}\r\n                d=\"m 347.3125,275.57812 c -2.37262,0.1862 -4.94141,1.08204 -4.94141,1.08204 l 0.57618,3.32812 11.57226,5.01172 -0.21484,-1.74219 c -0.21483,-1.74184 -0.92796,-2.34128 -1.06055,-2.42969 0.005,-0.99507 -0.70484,-1.26432 -1.6582,-2.51953 0.44195,-0.30939 0.68521,-0.79613 1.61328,-0.75195 -1.59099,-0.6187 -4.10886,-0.48581 -4.19727,-0.57422 -0.39775,-0.5303 -2.63962,-0.53147 -1.68945,-1.4043 z M 330.79883,297.75 c -5.82828,-0.16495 -8.53516,5.92578 -8.53516,5.92578 l -7.07031,17.67774 1.58984,2.65234 5.18555,3.19531 2.09375,-0.1875 4.43359,-9.63672 c 0,0 12.68197,-16.61765 4.99219,-19.13672 -0.96122,-0.31488 -1.85684,-0.46667 -2.68945,-0.49023 z m 28.67969,4.99023 c -1.85462,-0.14877 -1.85938,12.66798 -1.85938,12.66797 l 3.25586,4.54297 c 0,0 0.375,0.5625 2.8125,0.375 2.4375,-0.1875 7.375,-4.375 7.1875,-5.8125 -0.1875,-1.4375 -8.75,-9.4375 -11,-11.5625 -0.14063,-0.13281 -0.27284,-0.20102 -0.39648,-0.21094 z m 6.71484,25.50782 c 0,0 -6.89476,16.52927 -4.77344,16.88281 2.12132,0.35356 3.09375,-0.97266 3.09375,-0.97266 z m 15.35937,34.57226 -12.6875,18.8125 c 0,0 -0.625,4.84377 -0.625,5.28125 1.18751,1.06243 2.0625,0.90632 5.3125,1.28125 3.25001,0.37501 5.5,-1.5 5.5,-1.5 z\"\r\n                transform=\"scale(0.26458333)\" />\r\n        </>\r\n    );\r\n\r\n    if (whiteoutProgress >= 1) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"SiteLoader\" style={{\r\n            opacity: 1 - (whiteoutProgress * 2 - 1),\r\n        }}>\r\n            <div className=\"background-container\" style={{\r\n                '--mountain-color-fg': getColorFromStops(mountainForegroundStops, progress),\r\n                '--mountain-color-mid': getColorFromStops(mountainMiddlegroundStops, progress),\r\n                '--mountain-color-bg': getColorFromStops(mountainBgColorStops, progress),\r\n                '--mountain-color-bg-light': getColorFromStops(mountainBgLightColorStops, progress),\r\n                '--tree-color-bg': getColorFromStops(treeBgColorStops, progress),\r\n            } as CSSProperties}>\r\n                <div className=\"sky sky-0\" style={{ opacity: getOpacityForStop(skyColorStops, 0, progress) }}></div>\r\n                <div className=\"sky sky-1\" style={{ opacity: getOpacityForStop(skyColorStops, 1, progress) }}></div>\r\n                <div className=\"sky sky-2\" style={{ opacity: getOpacityForStop(skyColorStops, 2, progress) }}></div>\r\n                <div className=\"sky sky-3\" style={{ opacity: getOpacityForStop(skyColorStops, 3, progress) }}></div>\r\n                <div className=\"rising-sun\" style={{\r\n                    transform: `rotate(${progress * -50 - 2}deg)`,\r\n                    '--sun-color': getColorFromStops(sunColorStops, progress),\r\n                    '--sun-shine-radius': `${50 + progress * 50}px`,\r\n                } as CSSProperties}></div>\r\n                <svg className=\"landscape\" viewBox=\"0 0 297 210\" preserveAspectRatio=\"xMinYMid slice\">\r\n                    <g transform=\"translate(0, -87)\" style={{ display: 'inline' }}>\r\n                        {/* Background */}\r\n                        <path\r\n                            style={getLandscapePieceStyle('mountain-color-bg')}\r\n                            d=\"M 0,234.4658 84.666666,212.71131 121.9505,212.3259 c 1.70969,9.37677 8.66691,1.87792 15.79536,-4.16997 l 14.20057,-7.53986 15.36734,-7.48825 5.62541,3.41108 18.96988,-10.06911 7.28439,9.98855 29.10417,-52.53869 11.71726,-11.71727 8.31547,6.80358 11.33929,0.37797 14.3631,13.98512 L 297,102.72024 V 297 H 0 Z\"\r\n                        />\r\n                        <path\r\n                            style={getLandscapePieceStyle('mountain-color-bg-light')}\r\n                            d=\"m 1122.5137,59.474609 -62.0703,136.767581 38.2207,-17.08008 23.8554,10.12109 z m -215.37112,111.369141 -44.28516,44.28516 -110,198.57226 134.28516,77.14258 11.42969,-136.42773 -20.71485,-34.28711 35.71485,-112.85743 z m -181.81641,205.10547 -71.69726,38.05664 45.39648,30.18164 7.86914,-32.21094 z m -92.95898,25.16406 -58.08203,28.30274 -58.03516,14.25976 -146.20312,26.83399 -70.75586,5.6289 L 260.28516,449.20898 0,385.34784 V 557.35108 L 240.07227,514.86328 285.9375,561.02344 475.69727,540.98242 579.97266,506 l 13.93945,-30.14062 25.60937,-29.77149 -5.58593,-8.94727 z\"\r\n                            transform=\"matrix(0.26458333,0,0,0.26458333,0,87)\"\r\n                        />\r\n                    </g>\r\n                    <g style={{ display: 'inline', transform: `scale(1.1, 1.1) translate(${(cameraOffset[0] - xCameraPanScale) * 0.1}vw, ${cameraOffset[1] * 0.1}vw)` }}>\r\n                        {/* Background Trees */}\r\n                        <path\r\n                            style={getLandscapePieceStyle('tree-color-bg')}\r\n                            d=\"m 1103.7227,388.36328 c -1.2946,32.93945 -44.6602,84.99219 -44.6602,84.99219 9.6872,-5.04654 19.1416,-10.7188 27.5957,-17.71875 l -4.6914,11.83398 -61.4668,25.23047 -10.8379,17.65625 c -12.17292,-19.3609 -14.66992,-35.33046 -12.44726,-61.86914 -4.64898,13.89038 -12.04341,29.03207 -19.00586,41.86719 -8.60219,-14.46204 -21.46587,-37.75084 -28.34179,-58.29492 2.75357,32.87769 -1.72642,49.52885 -22.88867,76.50976 5.72269,-2.68777 13.00466,-6.19647 18.83398,-14.18359 -1.8974,16.54685 -15.16848,56.6627 -21.31055,62.79687 3.55122,-2.59934 13.69532,-11.62709 18.53321,-20.3125 0,0 -10.29787,63.34794 -26.11719,78.21875 0.0526,-0.004 0.21467,-0.0532 0.32617,-0.0801 l -12.67773,6.54882 c -5.25328,-14.37148 -10.35786,-32.38174 -11.48047,-42.17187 5.82931,7.98712 13.11129,11.49582 18.83398,14.18359 -21.16225,-26.98091 -25.64224,-43.63207 -22.88867,-76.50976 -4.30504,12.86273 -10.96239,26.78829 -17.45313,38.97461 -2.48588,-10.56175 -2.70432,-21.99287 -1.47656,-36.65235 -7.64789,22.85062 -22.58199,48.86253 -30.93554,62.57031 -11.40785,-18.98416 -16.44633,-39.29942 -15.57032,-63.24414 -0.35948,14.55904 -5.88332,32.84273 -11.93554,48.72461 -14.80458,-21.12451 -21.37962,-43.56608 -20.38868,-70.65234 -0.81331,32.93945 -28.06054,84.99219 -28.06054,84.99219 6.08636,-5.04654 12.02622,-10.7188 17.33789,-17.71875 l -14.71094,59.06836 -20.01367,5.76562 c -4.95185,-13.54474 -8.02109,-28.71894 -11.49024,-42.34375 4.34087,8.76291 9.10259,14.45963 14.0625,19.64453 l -16.65234,-66.85937 c 4.7571,6.2691 10.07839,11.34947 15.5293,15.86914 0,0 -24.40243,-46.61868 -25.13086,-76.11914 0.95985,26.23649 -6.00993,47.6078 -21.6543,67.88281 -7.16374,-14.73488 -10.29649,-30.5485 -9.63281,-48.68945 -0.72843,29.50046 -25.13086,76.11914 -25.13086,76.11914 5.45091,-4.51967 10.77024,-9.60004 15.52734,-15.86914 l -9.62695,38.65625 c -13.97351,-16.52911 -20.14051,-34.23495 -19.02734,-54.98633 -0.54466,15.04333 -10.11137,34.5116 -19.36133,50.00586 -12.21687,-19.521 -17.6275,-40.38061 -16.72266,-65.11328 -0.59156,23.9584 -15.13299,57.94083 -23.03711,74.73828 -3.53408,-10.9907 -4.98487,-22.6573 -4.42383,-35.34375 -0.23683,7.93472 -2.33892,16.98055 -5.37695,26.13867 -25.18892,-24.41651 -36.43788,-49.84607 -35.0293,-81.69726 -0.98316,32.9394 -33.91796,84.99218 -33.91796,84.99218 7.35722,-5.04654 14.53625,-10.71684 20.95703,-17.71679 l -11.51563,38.2539 c -11.74238,-17.78912 -16.91126,-36.86488 -15.92969,-59.06055 -0.42519,14.24535 -6.82818,32.06066 -13.95703,47.69922 -20.58076,-22.39476 -29.74863,-46.03373 -28.46875,-74.97461 -0.98317,32.93946 -33.91992,84.99219 -33.91992,84.99219 7.35723,-5.04654 14.53821,-10.7188 20.95899,-17.71875 l -11.4668,38.0918 c -9.12583,-12.45805 -23.37598,-42.5086 -26.45899,-56.33594 7.68836,7.57111 16.75977,10.57581 23.88282,12.86719 -27.7451,-25.47538 -40.13095,-51.78282 -38.65625,-85.12891 -0.34263,11.47907 -4.56846,25.27717 -9.92578,38.38672 -26.91144,-22.32956 -38.90429,-45.9059 -37.22461,-74.75195 -0.92088,23.43183 -23.07745,56.44758 -35.82227,73.60547 -10.64859,-15.31615 -15.26431,-31.74627 -14.17969,-50.37305 -1.29452,32.93945 -44.66015,84.99219 -44.66015,84.99219 9.68717,-5.04654 19.14155,-10.7188 27.5957,-17.71875 L 272.99609,593.67383 252,581.70117 l -13,-53 -68,-58.5 L 0,415.36523 v 378.33594 h 1107.2695 15.25 v -348.8789 c -13.9119,-17.04878 -20.0267,-35.34052 -18.7968,-56.45899 z M 924.50195,557.18359 c -0.52835,0.38674 -0.95911,0.67866 -1.17968,0.78125 0.35444,-0.082 0.75041,-0.35251 1.17968,-0.78125 z m 43.86133,-69.33789 c 2.3169,2.65583 4.72205,5.08265 7.1836,7.34571 -1.04698,1.87509 -2.06924,3.68079 -3.06446,5.41015 z m 10.35547,16.42774 -2.52539,7.82422 -1.22656,-3.79688 c 1.2701,-1.28905 2.52603,-2.62208 3.75195,-4.02734 z m 22.55075,6.54101 c 1.5192,2.08147 3.1377,3.85448 4.8008,5.39258 l -2.9316,4.77735 c -0.8815,-3.86639 -1.5484,-7.37265 -1.8692,-10.16993 z m -665.33005,26.97657 -7.76953,19.5996 c -2.77863,-2.87993 -5.31755,-5.79154 -7.63086,-8.74023 5.36423,-3.27456 10.54977,-6.84311 15.40039,-10.85937 z m 36.51953,4.98828 c 4.86257,3.63672 10.14462,6.21148 15.36133,8.16797 -1.87839,4.28554 -3.82975,8.40993 -5.76953,12.33203 -4.4906,-7.91494 -8.07804,-15.3437 -9.5918,-20.5 z m 338.73633,1.01953 c -0.70396,3.81654 -2.2047,9.02663 -4.12695,14.71679 -1.60702,-2.45423 -3.09428,-4.93046 -4.45898,-7.43554 2.91666,-1.74808 5.86764,-4.04549 8.58593,-7.28125 z m -9.39453,19.1914 c 0.86691,1.03195 1.76035,1.95981 2.66602,2.81446 -0.40136,1.07473 -0.80475,2.14502 -1.22266,3.22265 -0.61436,-2.23044 -1.12233,-4.29663 -1.44336,-6.03711 z m -379.34375,3.02149 c 0.59092,0.44195 1.18856,0.86575 1.79102,1.27734 l -0.72852,1.83789 c -0.41606,-1.10434 -0.78084,-2.15581 -1.0625,-3.11523 z m 481.03711,3.03125 c 1.74943,2.08247 3.58599,3.80957 5.45117,5.28125 -0.843,2.07461 -1.68115,4.08387 -2.50586,6.01562 -1.33357,-4.31022 -2.37786,-8.22045 -2.94531,-11.29687 z m 48.11133,6.125 -5.52149,17.09961 c -1.7083,-2.3063 -3.31408,-4.62803 -4.82421,-6.9668 3.5687,-3.02629 7.0463,-6.35076 10.3457,-10.13281 z m -288.18359,8.01758 c 6.21493,6.1202 13.31736,9.23819 19.58007,11.42578 -2.23903,6.47541 -4.91031,12.96563 -7.70898,19.13281 -5.47043,-11.39097 -10.23991,-23.24248 -11.87109,-30.55859 z m -181.94532,1.78906 c 0.6023,0.5821 1.25389,1.1654 1.9336,1.74609 l -0.54297,1.80664 c -0.87655,-2.19295 -1.39063,-3.55273 -1.39063,-3.55273 z m 431.39844,1.00781 -1.88672,7.58008 c -0.4525,-1.21238 -0.89544,-2.41247 -1.32422,-3.60938 1.09012,-1.27977 2.16581,-2.59338 3.21094,-3.9707 z m 22.94336,4.99024 c 2.64086,3.1436 5.47836,5.49107 8.31641,7.33593 l -3.31446,10.26172 c -2.33901,-6.81041 -4.16778,-13.07519 -5.00195,-17.59765 z m -230.02539,3.38672 -5.7207,22.96874 c -1.9368,-3.61997 -3.61303,-7.30253 -5.03907,-11.06054 3.75736,-3.55461 7.38593,-7.46206 10.75977,-11.9082 z m 22.94531,4.98828 c 0.0157,0.0187 0.0312,0.036 0.0469,0.0547 -0.009,0.0143 -0.0181,0.0286 -0.0274,0.043 -0.006,-0.0313 -0.0138,-0.0665 -0.0195,-0.0976 z m 306.0586,0.99609 c -0.14093,1.93921 -0.30994,3.90077 -0.5,5.85937 l -11.14063,5.75391 c 3.18494,-2.19667 7.28537,-5.79968 11.64063,-11.61328 z m -454.20899,2.0332 c 3.55649,3.50226 7.40993,6.01989 11.22852,7.94922 -1.69506,3.53357 -3.37619,6.88635 -5.01758,10.03321 -2.90304,-6.95676 -5.18394,-13.37633 -6.21094,-17.98243 z m 154.52734,2.96485 c 0.62227,0.46046 1.24658,0.88909 1.8711,1.29687 l -3.49805,9.57617 c -0.91724,-2.69799 -1.72744,-5.26901 -2.44531,-7.70312 1.37999,-1.02086 2.73774,-2.07866 4.07226,-3.16992 z m 33.53321,1.56836 c 0.15319,0.12436 0.31066,0.23773 0.46484,0.35937 l -0.16406,0.65625 c -0.10386,-0.34317 -0.2132,-0.69179 -0.30078,-1.01562 z m 6.85742,4.56836 c 0.51368,0.28091 1.02829,0.55213 1.54492,0.8125 -0.75516,3.12081 -1.51146,6.27665 -2.28711,9.46679 -0.92473,-1.86285 -1.75743,-3.64717 -2.52929,-5.375 1.10893,-1.52104 2.2007,-3.14182 3.27148,-4.90429 z m 102.15234,5.29492 c -0.26413,1.03736 -0.52058,2.11944 -0.78125,3.17187 l -1.03515,0.29688 c 0.61195,-1.1085 1.21828,-2.26132 1.8164,-3.46875 z m -355.88086,4.5664 c 4.81801,6.13102 13.15802,12.27539 19.03516,16.04493 l -6.17969,20.52929 c -7.7891,-18.71837 -12.85547,-36.57422 -12.85547,-36.57422 z m 474.08399,0.53125 c 0.58703,1.0539 1.25449,2.11219 1.97656,3.16407 l -1.30078,0.67187 c -0.40929,-2.27445 -0.67578,-3.83594 -0.67578,-3.83594 z m -400.58203,2.79297 -2.61719,8.69532 c -0.65374,-1.35552 -1.30332,-2.7102 -1.93359,-4.07227 1.55107,-1.47886 3.07308,-3.01205 4.55078,-4.62305 z m 242.55273,7.38086 c 0.97596,1.29388 1.89305,2.43988 2.76758,3.48633 l -1.02539,2.49023 z m 103.68359,1.16992 c 0.3864,0.59219 0.79992,1.18481 1.23633,1.77539 -0.15396,0.48832 -0.30877,0.95869 -0.46289,1.44922 -0.48693,-1.94668 -0.775,-3.15135 -0.78711,-3.20312 0.005,-0.007 0.009,-0.0146 0.0137,-0.0215 z m -265.42382,0.54102 -1.56055,5.18555 c -0.30365,-0.90667 -0.5993,-1.79412 -0.87305,-2.63086 0.82256,-0.83238 1.6335,-1.68243 2.4336,-2.55469 z m -46.48047,1.18164 c 0.38685,0.25242 0.77353,0.50108 1.16211,0.73828 -0.8925,3.01289 -1.79212,6.05804 -2.68946,9.14844 -0.71139,-1.7758 -1.36486,-3.48817 -1.96679,-5.14258 1.18197,-1.48762 2.34811,-3.05777 3.49414,-4.74414 z m -42.17383,9.63672 c 0.42383,0.53933 0.8867,1.07893 1.36133,1.61719 l -0.44531,1.47851 c -0.57674,-1.91067 -0.91602,-3.0957 -0.91602,-3.0957 z m -38.07812,5.5332 c -2.39299,7.77482 -4.64802,16.00494 -7.16602,24.21289 -1.53982,-2.96423 -3.0202,-6.04321 -4.43359,-9.16015 4.03964,-4.14205 7.93124,-8.92659 11.59961,-15.05274 z m -12.41602,33.9961 c 0.17707,0.17001 0.34991,0.32176 0.52539,0.48437 l -0.45313,-0.084 c -0.0231,-0.13299 -0.0495,-0.26757 -0.0723,-0.40039 z\"\r\n                            transform=\"scale(0.26458333)\"\r\n                        />\r\n                    </g>\r\n                    <g style={{ display: 'inline', transform: `scale(1.1, 1.1) translate(${(cameraOffset[0] - xCameraPanScale) * 0.5}vw, ${cameraOffset[1] * 0.5}vw)` }}>\r\n                        {/* Middleground */}\r\n                        <path\r\n                            style={getLandscapePieceStyle('mountain-color-mid')}\r\n                            d=\"m 1043.666,383.18164 c -2.331,44.14537 -18.9626,77.64973 -52.25975,108.55274 8.04631,-2.32714 18.30445,-5.40586 27.59175,-14.64454 -2.7297,9.79757 -9.6738,25.64581 -17.2695,40.55274 l -22.46092,36.15625 c -0.46253,0.44203 -0.89646,0.81306 -1.29883,1.0957 0.2808,-0.14443 0.59109,-0.31323 0.92773,-0.49805 l -20.25781,32.61133 c -9.20142,-10.3233 -28.97521,-59.16336 -32.83008,-80.0625 8.42623,10.03034 18.36722,14.01124 26.17383,17.04688 -30.4077,-33.75009 -43.98342,-68.60199 -42.36719,-112.7793 -1.0775,43.63858 -37.17382,112.59766 -37.17382,112.59766 8.06328,-6.68569 15.9318,-14.19902 22.96875,-23.47266 l -24.62891,98.90039 c 7.33697,-7.66983 14.37952,-16.09598 20.80078,-29.05859 -4.67202,18.349 -8.8571,38.59687 -15.09375,57.19922 l -39.3457,24.89257 -11.32031,-1.25781 -9.31641,-30.46875 c 8.63902,9.27364 18.30022,16.78893 28.19922,23.47461 0,0 -44.31392,-68.96103 -45.63672,-112.59961 0.7768,17.29494 -1.31989,33.15595 -6.38086,48.08594 -28.49564,-32.79802 -41.21367,-66.86853 -39.64648,-109.70508 -1.07751,43.63858 -37.17383,112.59766 -37.17383,112.59766 8.06328,-6.68568 15.93375,-14.19902 22.9707,-23.47266 l -13.64453,54.79102 c -22.17119,-27.04864 -32.00115,-55.86758 -30.45117,-90.37696 -1.32284,43.63858 -45.63672,112.59766 -45.63672,112.59766 9.899,-6.68568 19.56024,-14.19902 28.19922,-23.47266 l -23.87891,78.09766 c -24.33003,-30.63577 -35.1786,-62.83162 -33.72461,-102.57422 -1.0775,43.63858 -37.17383,112.59961 -37.17383,112.59961 8.06329,-6.68568 15.93376,-14.20097 22.97071,-23.47461 l -15.51172,62.28906 -77.12891,54.29883 h 76.98633 250.60156 282.07419 V 445.12891 l -61.1054,28.60547 c -8.4895,-24.8906 -19.5137,-63.27519 -17.7481,-90.55274 z m -65.69725,171.71289 c -0.75782,0.38981 -1.32525,0.64499 -1.60352,0.71289 0.45284,-0.0295 0.9965,-0.2865 1.60352,-0.71289 z M 442.77344,459.69922 c 1.61624,44.17731 -11.95953,79.02921 -42.36719,112.7793 7.80658,-3.03565 17.7476,-7.01459 26.17383,-17.04493 -2.36418,12.81737 -10.71991,36.12438 -18.95117,54.64063 -22.44294,-29.60621 -32.44432,-60.86509 -31.04493,-99.11524 -1.0775,43.63858 -37.17187,112.59766 -37.17187,112.59766 8.06328,-6.68568 15.9318,-14.19902 22.96875,-23.47266 L 337.75,698.98633 c 7.33697,-7.66983 14.37952,-16.09794 20.80078,-29.06055 -7.93429,31.1613 -14.41131,67.84213 -32.04492,92.53711 7.99514,-6.99326 14.42715,-8.73294 26.87109,-25.23047 l -16.45898,56.46875 h 95.22656 c -7.61193,-9.56823 -11.57697,-25.19272 -14.14844,-40.84961 1.9307,0.0422 3.73385,0.0822 5.92188,0.125 9.74748,8.85072 17.07407,10.64258 17.95117,10.64258 -2.98278,-2.44316 -5.90965,-6.07376 -8.74805,-10.48242 23.60929,0.41795 52.67383,0.80859 52.67383,0.80859 l -19.8125,-67.97265 c 12.44395,16.49752 18.87401,18.23722 26.86914,25.23046 -17.63361,-24.69496 -24.11063,-61.37581 -32.04492,-92.5371 6.42127,12.9626 13.46381,21.39071 20.80078,29.06054 l -24.63086,-98.90234 c 7.03695,9.27364 14.90742,16.78697 22.97071,23.47266 0,0 -36.09633,-68.95908 -37.17383,-112.59766 z m 607.08986,13.51953 c 0.9725,1.55189 1.9756,3.04929 2.9941,4.52148 l -2.1328,1 z m -116.54885,89.62891 c 6.6336,10.20404 19.37199,20.46107 25.16211,24.42187 l -1.33398,2.14649 -15.02539,5.58007 c -5.45723,-17.91091 -8.80274,-32.14843 -8.80274,-32.14843 z m -164.08007,2.6875 c 7.27458,8.65946 15.67277,12.80251 22.85742,15.72851 -2.75669,7.73504 -6.33521,15.21949 -10.72657,22.52735 -5.62121,-14.39104 -10.43104,-29.04028 -12.13085,-38.25586 z m -376.45704,41.1582 c 3.72001,4.42819 7.73579,7.67447 11.73243,10.18359 -2.00467,4.21706 -3.95437,8.04272 -5.75586,11.19727 -2.77893,-8.26217 -4.95158,-15.82392 -5.97657,-21.38086 z m 26.29688,4.64258 c 0,0 -0.8977,3.80408 -2.45703,9.76367 -0.9052,-1.03642 -1.79427,-2.07416 -2.66797,-3.11328 1.90635,-2.17758 3.67041,-4.4129 5.125,-6.65039 z m 295.54687,7.73633 c 2.47587,2.40065 5.05993,4.44709 7.6875,6.22461 l -2.46679,9.90429 c -2.39356,-6.19029 -4.23353,-11.76943 -5.22071,-16.1289 z m -303.08398,1.56054 c 1.59765,0.73813 3.16473,1.41606 4.66992,2.02149 -1.97752,7.47257 -4.9048,17.87552 -8.55078,29.15039 -2.79329,-6.78808 -5.46355,-13.80486 -7.79492,-20.50586 3.61433,-2.90348 7.82354,-6.61837 11.67578,-10.66602 z m 367.65234,6.52149 c -0.14918,0.65881 -0.32469,1.35407 -0.51172,2.0664 -0.12887,-0.49948 -0.21146,-0.8336 -0.32812,-1.29101 0.27948,-0.25992 0.56295,-0.50691 0.83984,-0.77539 z m -45.54101,4.26562 c 0.2138,0.0919 0.42741,0.1819 0.64062,0.27149 -1.9154,7.67545 -3.78104,15.60904 -5.75195,23.62304 -1.46898,-3.1114 -2.85326,-6.20022 -4.1875,-9.2539 3.20393,-4.22963 6.31506,-8.97911 9.29883,-14.64063 z M 400.2832,662.5957 c 0.75379,1.1595 1.60896,2.31662 2.50196,3.46875 -0.32451,0.89264 -0.64884,1.78416 -0.98047,2.67383 -0.95911,-3.772 -1.52149,-6.14258 -1.52149,-6.14258 z m 235.61133,21.12696 c 4.91977,5.85635 10.35366,9.643 15.58008,12.39062 l -10.19922,7.17969 c -2.48397,-7.54288 -4.43192,-14.42566 -5.38086,-19.57031 z\"\r\n                            transform=\"scale(0.26458333)\"\r\n                        />\r\n                    </g>\r\n                    <g style={{ display: 'inline', transform: `translate(${cameraOffset[0] - xCameraPanScale}vw, ${cameraOffset[1]}vw)` }}>\r\n                        {/* Foreground */}\r\n                        <path\r\n                            style={getLandscapePieceStyle('mountain-color-fg')}\r\n                            d=\"m 0,256.55859 v 537.14258 h 685.89258 19.82226 l -61.42968,-50 -88.57032,-41.42969 -124.28711,-21.42773 -168.57031,-97.14258 -17.14258,-52.85742 22.85743,-98.57227 34.28515,-4.28515 58.57031,-28.57031 L 380,365.12891 358.57227,350.84375 280,356.55859 242.85742,335.12891 121.42773,352.27148 75.714844,277.98633 Z m 1091.4434,273.85157 c -1.0775,43.63857 -37.1739,112.59765 -37.1739,112.59765 8.0633,-6.68568 15.9318,-14.19902 22.9688,-23.47265 l -24.6309,98.90234 c 7.337,-7.66983 14.3795,-16.09794 20.8008,-29.06055 -7.9343,31.1613 -14.4094,67.84213 -32.043,92.53711 7.9952,-6.99326 14.4252,-8.73294 26.8692,-25.23047 l -10.7891,37.01758 h 65.0742 v -84.20508 c -4.6223,-15.65551 -7.3789,-27.44921 -7.3789,-27.44921 2.0156,3.10033 4.6021,6.19887 7.3789,9.13085 V 671.2832 c -6.7628,-16.4279 -12.9115,-34.44107 -14.8847,-45.13867 4.7014,5.59647 9.8735,9.30746 14.8847,12.02344 v -8.59961 c -22.4665,-29.61918 -32.4763,-60.88899 -31.0761,-99.1582 z M 745.81836,675.87305 c 1.61624,44.17731 -11.95949,79.02921 -42.36719,112.77929 7.80662,-3.03564 17.74955,-7.01653 26.17578,-17.04687 -1.05502,5.7198 -3.31977,13.55153 -6.21679,22.0957 h 43.76172 l -7.14844,-28.70312 c 7.03695,9.27363 14.90547,16.78697 22.96875,23.47265 0,0 -36.09633,-68.95908 -37.17383,-112.59765 z m 120.35937,30.30273 c -0.66497,26.93124 -14.65686,63.46644 -25.28125,87.52539 H 889.125 c -16.74728,-26.22515 -24.16553,-54.22588 -22.94727,-87.52539 z m 77.68165,20.4336 c -0.57558,23.30896 -17.37119,58.29986 -21.77344,67.09179 h 1.40625 c 4.08096,-3.57501 8.03595,-7.56198 11.63476,-12.30469 l -3.06445,12.30469 h 23.85742 c -0.94324,-3.12623 -1.68771,-5.96669 -2.10742,-8.24219 3.42302,4.07467 7.24833,6.5102 10.83789,8.24219 h 3.3125 c -17.3082,-20.05629 -25.06146,-40.9086 -24.10351,-67.09179 z\"\r\n                            transform=\"scale(0.26458333)\"\r\n                        />\r\n                        {/* Person */}\r\n                        {progress < 1 ? renderIdlePerson() : null}\r\n                        {progress >= 1 ? <path\r\n                            style={getLandscapePieceStyle('mountain-color-fg')}\r\n                            d={personOutroFrames[personOutroFrame].path}\r\n                            transform=\"scale(0.26458333)\" /> : null}\r\n                        {/* Paper Plane */}\r\n                        {personOutroFrame === personOutroFrames.length - 1 ? <path\r\n                            style={{\r\n                                ...getLandscapePieceStyle('mountain-color-fg'),\r\n                                transform: `translate(${Math.floor(Math.sqrt(whiteoutProgress * 0.5) * 10) * 0.7}vw, 0vw)`,\r\n                            }}\r\n                            d=\"m 113.44671,78.609859 c -0.20038,0.34181 -0.2805,0.645248 -0.3483,0.663009 l 1.13637,0.508495 -0.59997,0.312126 -0.0119,0.322461 c 0.55957,0.01979 1.67324,-0.06928 2.3921,-0.01291 0.68258,0.05352 0.9429,0.328806 1.77405,0.372586 l 0.26666,-0.343129 3.82922,-0.342615 c 0,0 -6.36978,-1.197266 -8.43825,-1.480013 z\"\r\n                            /> : null}\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n            <div className=\"progress-text\">\r\n                <SiteLoaderDigit digit={digits[0]} />\r\n                <SiteLoaderDigit digit={digits[1]} />\r\n                <SiteLoaderDigit digit={digits[2]} />\r\n                <p className=\"percent-sign\">%</p>\r\n            </div>\r\n            <div className=\"whiteout\" style={{\r\n                opacity: whiteoutProgress * 2,\r\n            }}></div>\r\n        </div>\r\n    );\r\n}","import './App.scss';\n\nimport React, {\n    useState,\n    useEffect,\n    useRef,\n} from 'react';\nimport {\n    Switch,\n    Route,\n    useRouteMatch,\n    useLocation,\n} from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport SimpleBar from 'simplebar-react';\nimport 'simplebar/dist/simplebar.min.css';\n\nimport { Header } from './common/header/Header';\nimport { HomeView } from './home/HomeView';\nimport { ContactView } from './contact/ContactView';\nimport { classNames } from '../utils/classNames';\nimport { useScrollTop } from '../utils/hooks';\nimport { PageKey, solarContext } from '../3d/solarContext';\nimport { ThreeContextProvider } from './abstract/ThreeContextProvider';\nimport { SiteLoader } from './siteLoader/SiteLoader';\n\nexport function useMockProgressCounter() {\n    let [ progress, setProgress ] = useState(0);\n\n    useEffect(() => {\n        let timeout = -1;\n        \n        if (progress < 1) {\n            let newProgress = Math.min(progress + 0.1 + Math.random() * 0.05, 1);\n            timeout = window.setTimeout(() => setProgress(newProgress), 100 + Math.floor(Math.random() * 300));\n        }\n\n        return () => window.clearTimeout(timeout);\n    }, [ progress ]);\n\n    return progress;\n}\n\nenum PageSwitchDirection {\n    LEFT,\n    RIGHT,\n}\n\ntype RouteMatch = {\n    route: PageKey,\n    matched: boolean,\n};\n\nexport function useRoutes(): RouteMatch[] {\n    return Object.values(PageKey).map(r => ({\n        route: r,\n        matched: (() => {\n            // eslint-disable-next-line react-hooks/rules-of-hooks\n            const match = useRouteMatch(r);\n            return (match && match.isExact) === true;\n        })()\n    }));\n}\n\nexport function usePageSwitchingDirection(routeMatches: RouteMatch[]): PageSwitchDirection {\n    const currentPageIndexRef = useRef<number|null>(null);\n    const [ switchDirection, setSwitchDirection ] = useState(PageSwitchDirection.LEFT);\n\n    useEffect(() => {\n        const currentRouteIndex = routeMatches.findIndex(r => r.matched);\n\n        if (currentPageIndexRef.current !== currentRouteIndex) {\n            if (currentPageIndexRef.current !== null) {\n                setSwitchDirection(currentRouteIndex > currentPageIndexRef.current ? PageSwitchDirection.RIGHT : PageSwitchDirection.LEFT);\n            }\n\n            currentPageIndexRef.current = currentRouteIndex;\n        }\n    });\n\n    return switchDirection;\n}\n\nexport function App() {\n    const routeMatches = useRoutes();\n    const pageSwitchDirection = usePageSwitchingDirection(routeMatches);\n\n    const currentRoute = routeMatches.find(r => r.matched)?.route || null;\n    useEffect(() => {\n        if (currentRoute !== null) {\n            solarContext.setPage(currentRoute);\n        }\n    }, [ currentRoute ]);\n\n    const scrollableNodeRef = useRef<HTMLElement>();\n    const scrollTop = useScrollTop(scrollableNodeRef);\n    const progress = useMockProgressCounter();\n\n    const location = useLocation();\n\n    return (\n        <ThreeContextProvider value={solarContext}>\n            <div className=\"App\">\n                <Header scrollTop={scrollTop} />\n                <SiteLoader progress={progress} />\n                <SimpleBar style={{ maxHeight: '100vh' }} scrollableNodeProps={{ ref: scrollableNodeRef }}>\n                    <main className={classNames({\n                        'App__main': true,\n                        'App__main--page-switch-left': pageSwitchDirection === PageSwitchDirection.LEFT,\n                    })}>\n                        <section className=\"App__page-content\">\n                            <TransitionGroup>\n                                <CSSTransition\n                                    key={location.pathname}\n                                    timeout={{\n                                        enter: 300,\n                                        exit: 300,\n                                    }}\n                                    classNames={'router-fade'}\n                                    onEntered={() => {\n                                        scrollableNodeRef.current?.scrollTo(0, 0);\n                                    }}\n                                >\n                                        <Switch>\n                                            <Route exact path=\"/\">\n                                                <HomeView scrollTop={scrollTop} />\n                                            </Route>\n                                            <Route path=\"/contact\">\n                                                <ContactView />\n                                            </Route>\n                                        </Switch>\n                                </CSSTransition>\n                            </TransitionGroup>\n                        </section>\n                    </main>\n                </SimpleBar>\n            </div>\n        </ThreeContextProvider>\n    );\n}\n","export function classNames(classes: object) {\n    return Object.entries(classes)\n        .filter(([key, value]) => value)\n        .map(([key, value]) => key)\n        .join(' ');\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { Camera, Object3D, Vector2, Vector3 } from \"three\";\n\nfunction putMousePos(e: MouseEvent, mouse: Vector2) {\n    mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n    mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\n}\n\nexport function getMousePos(e: MouseEvent): Vector2 {\n    let mouse = new Vector2();\n    putMousePos(e, mouse)\n    return mouse;\n}\n\nexport function getUnprojectedMousePos(e: MouseEvent, camera: Camera) {\n    let pos = getMousePos(e);\n    let mouse = new Vector3(pos.x, pos.y, 0);\n    mouse.unproject(camera);\n    return mouse;\n}\n\nexport function worldToLocalMouse(unprojectedMouse: Vector3, localObj: Object3D) {\n    let mouse = unprojectedMouse.clone();\n    localObj.worldToLocal(mouse);\n    mouse.z = 0;\n    return mouse;\n}","import { Easing, easingFunctions } from './easing';\n\nexport class SmoothScalar {\n    public t: number = 0;\n    private from: number = 0;\n    private to: number = 0;\n\n    private lastTime: number = 0;\n\n    constructor(\n        initialValue: number,\n        public duration: number = 500,\n        public easing: Easing,\n    ) {\n        this.t = 0;\n        this.from = initialValue;\n        this.to = initialValue;\n    }\n\n    get value() {\n        return this.from + easingFunctions[this.easing](this.t) * (this.to - this.from);\n    }\n\n    set value(v: number) {\n        this.t = 0;\n        this.from = v;\n        this.to = v;\n    }\n\n    moveTo(value: number) {\n        if (value === this.to) {\n            return;\n        }\n        \n        this.from = this.value;\n        this.to = value;\n        this.t = 0;\n        this.lastTime = Date.now();\n    }\n\n    update() {\n        const now = Date.now();\n        const deltaTime = (now - this.lastTime) / this.duration;\n        this.t = Math.min(this.t + deltaTime, 1);\n        this.lastTime = now;\n    }\n}","import { CircleGeometry, Color, DoubleSide, Mesh, MeshBasicMaterial, Object3D, Sprite, SpriteMaterial, TextureLoader, Vector2 } from \"three\";\n\n\ninterface IBubble {\n    logoUrl?: string;\n    linkUrl?: string;\n    radius?: number; // m\n    speed?: Vector2; // m/s\n    acceleration?: Vector2; // m/s^2\n    force?: Vector2; // m/s^2 * kg\n    mass?: number; // kg\n    position?: Vector2;\n    color?: string | number | Color | undefined;\n}\n\nexport interface IBubbleCollisionInfo {\n    bubble1: Bubble;\n    bubble2: Bubble;\n    dx: number;\n    dy: number;\n    d: number;\n}\n\nexport interface IBubbleCollisionResult {\n    collisionInfo?: IBubbleCollisionInfo,\n    collided: boolean\n}\n\nexport default class Bubble extends Object3D {\n    logoUrl: string;\n    linkUrl: string;\n    color: string | number | Color | undefined;\n\n    radius: number; // m\n    speed: Vector2; // m/s\n    acceleration: Vector2; // m/s^2\n    force: Vector2; // m/s^2 * kg\n    mass: number; // kg\n\n    private material?: MeshBasicMaterial;\n    private outlineMaterial?: MeshBasicMaterial;\n    private geometry?: CircleGeometry;\n\n    constructor(params: IBubble = {} as IBubble) {\n        super();\n\n        let {\n            logoUrl = \"\",\n            linkUrl = \"\",\n            radius = 50,\n            speed = new Vector2(0, 0),\n            acceleration = new Vector2(0, 0),\n            force = new Vector2(0, 0),\n            mass = Math.PI * 2 * radius,\n            position = new Vector2(0, 0),\n            color = 0x292d2e,\n        } = params;\n\n        this.logoUrl = logoUrl;\n        this.linkUrl = linkUrl;\n        this.radius = radius;\n        this.speed = speed;\n        this.acceleration = acceleration;\n        this.force = force;\n        this.mass = mass;\n        this.position.x = position.x;\n        this.position.y = position.y;\n        this.color = color;\n\n        this.initShape();\n    }\n\n    private initShape() {\n        this.geometry = new CircleGeometry(this.radius, 32);\n        this.material = new MeshBasicMaterial({ color: this.color, side: DoubleSide });\n        this.outlineMaterial = new MeshBasicMaterial({ color: 0xf16f01, side: DoubleSide, transparent: true, opacity: 0 });\n\n        var circle = new Mesh(this.geometry, this.material);\n        this.add(circle);\n\n        var outline = new Mesh(this.geometry, this.outlineMaterial);\n        outline.scale.set(1.05, 1.05, 1.05);\n        outline.position.z = -1;\n        this.add(outline);\n\n        var texture = new TextureLoader().load(this.logoUrl, (tex) => {\n\n            var material2 = new SpriteMaterial({ map: texture });\n            var sprite = new Sprite(material2);\n            let x = 0, y = 0, factor = 0;\n            let maxSize = this.radius * Math.sqrt(2) * 0.95;\n\n            if (tex.image.width > tex.image.height) {\n                x = maxSize;\n                factor = tex.image.width / x;\n                y = tex.image.height / factor;\n            } else {\n                y = maxSize;\n                factor = tex.image.height / y;\n                x = tex.image.width / factor;\n            }\n\n            sprite.scale.set(x, y, 1);\n            this.add(sprite);\n        });\n    }\n\n    update(delta: number) {\n        delta = delta < 1 / 20 ? delta : 1 / 20;\n        this.calculateAcceleration();\n        this.calculateMove(delta);\n    }\n\n    private calculateAcceleration() {\n        this.acceleration.x = this.force.x / this.mass;\n        this.acceleration.y = this.force.y / this.mass;\n    }\n\n    private calculateMove(delta: number) {\n        this.speed.x += this.acceleration.x * delta;\n        this.speed.y += this.acceleration.y * delta;\n        this.position.x += this.speed.x * delta;\n        this.position.y += this.speed.y * delta;\n    }\n\n    resetForce() {\n        this.force.x = 0;\n        this.force.y = 0;\n    }\n\n    checkCollision(bubble: Bubble): IBubbleCollisionResult {\n        let dx = bubble.position.x - this.position.x;\n        let dy = bubble.position.y - this.position.y;\n        let d = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n        if (d < this.radius + bubble.radius) {\n            let collisionInfo: IBubbleCollisionInfo = { bubble1: this, bubble2: bubble, dx, dy, d };\n            return {\n                collisionInfo: collisionInfo,\n                collided: true\n            }\n        }\n        return {\n            collisionInfo: undefined,\n            collided: false\n        }\n    }\n\n    onClick() {\n        if (this.linkUrl !== \"\")\n            window.open(this.linkUrl, \"_blank\");\n    }\n\n    onMouseEnter() {\n        this.outlineMaterial?.setValues({ opacity: 1 });\n        this.position.z = 1;\n    }\n\n    onMouseLeave() {\n        this.outlineMaterial?.setValues({ opacity: 0 });\n        this.position.z = 0;\n    }\n}","import { Object3D, Vector2, Vector3 } from \"three\";\nimport { Easing } from \"../../utils/easing\";\nimport { SmoothScalar } from \"../../utils/smoothScalar\";\nimport { worldToLocalMouse } from \"../../utils/threeHelpers\";\nimport Bubble, { IBubbleCollisionInfo } from \"./Bubble\";\n\nexport interface BubblesConfig {\n    active?: boolean;\n    visible?: boolean;\n}\n\nexport default class Bubbles extends Object3D {\n    private active: boolean;\n    public items: Bubble[] = new Array<Bubble>();\n\n    private _hoveredItem?: Bubble;\n\n    private get hoveredItem() {\n        return this._hoveredItem;\n    }\n\n    private set hoveredItem(value: Bubble | undefined) {\n        if (this._hoveredItem) {\n            this._hoveredItem.onMouseLeave();\n        }\n\n        this._hoveredItem = value;\n        this._hoveredItem?.onMouseEnter();\n\n        if (this._hoveredItem) {\n            this.setCursor(\"pointer\");\n        } else {\n            this.setCursor(\"default\");\n        }\n    }\n\n    private smoothScale = new SmoothScalar(0, 300, Easing.EASE_IN_OUT_SINE);\n    private lastScaleValue = 0;\n    private forceMultipler = 0.1;\n    private forcePoint = new Vector2(0, 0);\n\n    constructor(active: boolean = false) {\n        super();\n        this.init()\n        let scale = 0.001;\n        this.scale.set(scale, scale, scale);\n        this.active = active;\n    }\n\n    private init() {\n        this.generateBubbles();\n        setTimeout(() => {\n            this.fun();\n        }, 6000)\n\n    }\n\n    private fun() {\n        if (this.forceMultipler === 0.2) {\n            this.forceMultipler = -0.5;\n            this.forcePoint = new Vector2(Math.random() * 200 - 100, 0);\n            setTimeout(() => {\n                this.fun();\n            }, 1000)\n        } else {\n            this.forceMultipler = 0.2;\n            this.forcePoint = new Vector2(0, 0);\n            setTimeout(() => {\n                this.fun();\n            }, 6000)\n        }\n    }\n\n\n    private generateBubbles() {\n        function getUrl(img: string) {\n            return `${process.env.PUBLIC_URL}/sponsors/${img}`\n        }\n        let sponsors = [\n            [getUrl(\"se.png\"), \"https://strefaenergii.com/\"],\n            [getUrl(\"agh.jpg\"), \"https://www.agh.edu.pl/\"],\n            [getUrl(\"weip.jpg\"), \"http://weip.agh.edu.pl/index.html\"],\n            [getUrl(\"tenzi.png\"), \"https://www.tenzi.pl/\"],\n            [getUrl(\"grm.png\"), \"http://www.grm-systems.cz/\"],\n            [getUrl(\"havel.png\"), \"http://www.havel-composites.pl/\", 0xd9dbda],\n            [getUrl(\"ksaf.jpg\"), \"https://www.ksaf.pl/\", 0x040404],\n            [getUrl(\"dracula.png\"), \"https://www.pizzeriadracula.pl/\"],\n            [getUrl(\"dancake.png\"), \"http://dancake.pl/\"],\n            [getUrl(\"anga.jpg\"), \"https://www.anga.com.pl/\"],\n            [getUrl(\"mag.svg\"), \"https://www.milmag.pl/\"],\n            [getUrl(\"fagh.png\"), \"https://www.fundacja.agh.edu.pl/\"],\n            [getUrl(\"dron.jpg\"), \"https://dron.edu.pl/\", 0x000000],\n            [getUrl(\"ansys.png\"), \"https://www.ansys.com/\"],\n            [getUrl(\"symkom.jpg\"), \"http://symkom.pl/\"],\n            [getUrl(\"eko.jpg\"), \"http://www.eko-energia.agh.edu.pl/\"],\n            [getUrl(\"3d.png\"), \"https://www.facebook.com/3DWayKrakow/\", 0x212121],\n        ]\n\n        for (let sponsor of sponsors) {\n            let radius = 30;\n            if (sponsor[1] === \"https://strefaenergii.com/\") {\n                radius = 50;\n            }\n            let position = new Vector2(Math.random() * 800 - 400, Math.random() * 800 - 400);\n            let offset = position.clone().normalize().multiplyScalar(400);\n            position.add(offset);\n            // let color = Math.floor(Math.random() * 20 - 10) * 0x030303 + 0x292d2e;\n            let color = (sponsor[2] !== undefined ? sponsor[2] : 0xffffff) as number;\n            let linkUrl = sponsor[1] as string\n            let logoUrl = sponsor[0] as string\n            this.addBubble(new Bubble({ radius, logoUrl, position, color, linkUrl }));\n        }\n\n    }\n\n\n    addBubble(bubble: Bubble) {\n        this.add(bubble);\n        this.items.push(bubble);\n    }\n\n    onUpdate(delta: number) {\n        this.smoothScale.update();\n        if (this.lastScaleValue !== this.smoothScale.value) {\n            this.items.forEach((bubble) => bubble.scale.set(this.smoothScale.value, this.smoothScale.value, this.smoothScale.value));\n            this.lastScaleValue = this.smoothScale.value;\n        }\n\n        if (!this.active) return;\n\n        this.calculateBubblesMove(delta);\n\n        this.rotateZ(0.01);\n    }\n\n    private calculateBubblesMove(delta: number) {\n\n\n\n        this.items.forEach((bubble) => bubble.resetForce());\n\n        // this.items.forEach((bubble1, index1) => {\n        //     this.items.forEach((bubble2, index2) => {\n        //         if (index1 < index2) { // To not do same pair twice\n        //             let dx = bubble2.position.x - bubble1.position.x;  // Compute distance between centers of objects\n        //             let dy = bubble2.position.y - bubble1.position.y;\n        //             let r = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n        //             if (r < 10) {  // To avoid division by 0\n        //                 r = 10;\n        //             }\n        //             // Compute force for this pair; k = 1000\n        //             let f = (this.K * bubble1.mass * bubble2.mass) / Math.pow(r, 2);\n        //             let fx = f* dx / r;  // Break it down into components\n        //             let fy = f * dy / r;\n        //            bubble1.force.x += fx;  // Accumulate for first object\n        //             bubble1.force.y += fy;\n        //             bubble2.force.x -= fx;  // And for second object in opposite direction\n        //             bubble2.force.y -= fy;\n        //         }\n        //     })\n        // });\n\n        this.items.forEach((bubble) => {\n            this.attractToPoint(bubble, this.forcePoint, 200, this.forceMultipler);\n            bubble.update(delta);\n        });\n\n        this.items.forEach((bubble1, index1) => {\n            this.items.forEach((bubble2, index2) => {\n                if (index1 < index2) { // To not do same pair twice\n                    let result = bubble1.checkCollision(bubble2);\n                    if (result.collided && result.collisionInfo)\n                        this.resolveCollisionWithBounce(result.collisionInfo);\n                }\n            })\n        });\n\n    }\n\n    private attractToPoint(bubble: Bubble, point: Vector2, radius: number, forceMultipler: number) {\n        let dx = point.x - bubble.position.x;\n        let dy = point.y - bubble.position.y;\n        let r = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n\n        if (r < radius) {\n            bubble.speed.multiplyScalar(0.98);\n        }\n\n        if (r > radius && forceMultipler < 0) {\n            forceMultipler *= -0.1;\n        }\n\n\n        let f = bubble.mass * r * forceMultipler;\n        let fx = f * dx / r;\n        let fy = f * dy / r;\n        bubble.force.x += fx;\n        bubble.force.y += fy;\n    }\n\n\n    private resolveCollisionWithBounce(info: IBubbleCollisionInfo) {\n        let nx = info.dx / info.d;\n        let ny = info.dy / info.d;\n        let s = info.bubble1.radius + info.bubble2.radius - info.d;\n        info.bubble1.position.x -= nx * s / 2;\n        info.bubble1.position.y -= ny * s / 2;\n        info.bubble2.position.x += nx * s / 2;\n        info.bubble2.position.y += ny * s / 2;\n\n        // let k = -2 *\n        //     (\n        //         (info.bubble2.speed.x - info.bubble1.speed.x) * nx +\n        //         (info.bubble2.speed.y - info.bubble1.speed.y) * ny\n        //     )\n        //     / (1 / info.bubble1.mass + 1 / info.bubble2.mass);\n\n        // info.bubble1.speed.x -= k * nx / info.bubble2.mass;\n        // info.bubble1.speed.y -= k * ny / info.bubble2.mass;\n        // info.bubble2.speed.x += k * nx / info.bubble1.mass;\n        // info.bubble2.speed.y += k * ny / info.bubble1.mass;\n\n        // let impulse = 2 * info.d / (info.bubble2.mass + info.bubble1.mass);\n        // info.bubble1.speed.x -= (impulse * info.bubble2.mass * nx);\n        // info.bubble1.speed.y -= (impulse * info.bubble2.mass * ny);\n        // info.bubble2.speed.x += (impulse * info.bubble1.mass * nx);\n        // info.bubble2.speed.y += (impulse * info.bubble1.mass * ny);\n    }\n\n    setConfig(config: BubblesConfig) {\n        if (config.active) {\n            this.activate();\n        }\n        else {\n            this.deactivate();\n        }\n    }\n\n    onMouseMove(e: MouseEvent, unprojectedMouse: Vector3) {\n        if (!this.active) return;\n        let found = undefined;\n        let pos = worldToLocalMouse(unprojectedMouse, this);\n\n        for (let bubble of this.items) {\n            if (bubble.radius >= pos.distanceTo(bubble.position)) {\n                found = bubble;\n            }\n        }\n\n        this.hoveredItem = found;\n    }\n\n    onClick(e: MouseEvent) {\n        if (!this.active) return;\n        if (this.hoveredItem)\n            this.hoveredItem.onClick();\n    }\n\n    deactivate() {\n        this.active = false;\n        this.hoveredItem = undefined;\n        this.smoothScale.moveTo(0);\n    }\n\n    activate() {\n        this.active = true;\n        this.smoothScale.moveTo(1);\n    }\n\n    setCursor(cursor: string) {\n        document.body.style.cursor = cursor;\n    }\n}","import { Vector3, OrthographicCamera } from 'three';\r\n\r\nexport class BackgroundCamera extends OrthographicCamera {\r\n    private smoothOffset: Vector3 = new Vector3();\r\n    private targetOffset: Vector3 = new Vector3();\r\n    private snapSpeed: number = 1;\r\n\r\n    constructor(private origin: Vector3, left: number, right: number, top: number, bottom: number, near: number, far: number) {\r\n        super(left, right, top, bottom, near, far);\r\n\r\n        this.position.set(origin.x, origin.y, origin.z);\r\n    }\r\n\r\n    public setOffset(x: number, y: number, z: number, snapSpeed: number): void {\r\n        this.targetOffset.set(x, y, z);\r\n        this.snapSpeed = snapSpeed;\r\n    }\r\n\r\n    public update(): void {\r\n        // Updating the camera position.\r\n        this.smoothOffset.set(\r\n            (this.targetOffset.x - this.smoothOffset.x) * this.snapSpeed,\r\n            (this.targetOffset.y - this.smoothOffset.y) * this.snapSpeed,\r\n            (this.targetOffset.z - this.smoothOffset.z) * this.snapSpeed,\r\n        );\r\n\r\n        this.position.set(this.origin.x + this.smoothOffset.x, this.origin.y + this.smoothOffset.y, this.origin.z + this.smoothOffset.z);\r\n    }\r\n}","import * as THREE from \"three\";\nimport { Easing, easingFunctions } from '../../../utils/easing';\n\nexport default class TouchTexture {\n    parent: any;\n    size: number;\n    maxAge: number;\n    radius: number;\n    trail: any[];\n    canvas!: HTMLCanvasElement;\n    ctx: any;\n    texture: any;\n    lastTouchTime = Date.now();\n\n    constructor(parent: any) {\n        this.parent = parent;\n        this.size = 64;\n        this.maxAge = 120;\n        this.radius = 0.15;\n        this.trail = [];\n\n        this.initTexture();\n    }\n\n    initTexture() {\n        this.canvas = document.createElement('canvas');\n        this.canvas.width = this.canvas.height = this.size;\n        this.ctx = this.canvas.getContext('2d');\n        this.ctx.fillStyle = 'rgba(0,0,0,1)';\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n        this.texture = new THREE.Texture(this.canvas);\n\n        this.canvas.id = 'touchTexture';\n        this.canvas.style.width = this.canvas.style.height = `${this.canvas.width}px`;\n        this.canvas.style.position = \"absolute\";\n        this.canvas.style.left = \"0\";\n        this.canvas.style.top = \"0\";\n        this.canvas.style.display = \"none\";\n        document.body.appendChild(this.canvas);\n    }\n\n    update(delta: number) {\n        this.clear();\n        this.ctx.globalCompositeOperation = \"lighter\";\n        this.texture.needsUpdate = true;\n        // age points\n        this.trail.forEach((point, i) => {\n            point.age++;\n            // remove old\n            if (point.age > this.maxAge) {\n                this.trail.splice(i, 1);\n            }\n        });\n\n        this.trail.forEach((point, i) => {\n            this.drawTouch(point);\n        });\n\n        this.texture.needsUpdate = true;\n    }\n\n    clear() {\n        this.ctx.globalCompositeOperation = \"source-over\";\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    addTouch(point: { x: number; y: number; }) {\n        let now = Date.now();\n        if (now - this.lastTouchTime < 100) {\n            return\n        }\n        this.lastTouchTime = now;\n\n        let force = 0;\n        const last = this.trail[this.trail.length - 1];\n        if (last) {\n            const dx = last.x - point.x;\n            const dy = last.y - point.y;\n            const dd = dx * dx + dy * dy;\n            force = Math.min(dd * 10000, 1);\n        }\n        this.trail.push({ x: point.x, y: point.y, age: 0, force });\n    }\n\n    drawTouch(point: any) {\n        const pos = {\n            x: point.x * this.size,\n            y: point.y * this.size\n        };\n\n        let intensity = 1;\n        if (point.age < this.maxAge * 0.3) {\n            intensity = easingFunctions[Easing.EASE_OUT_CUBIC](point.age / (this.maxAge * 0.3));\n        } else {\n            intensity = easingFunctions[Easing.EASE_OUT_CUBIC](1 - (point.age - this.maxAge * 0.3) / (this.maxAge * 0.7));\n        }\n\n        intensity *= point.force;\n\n        const radius = this.size * this.radius * intensity;\n        const grd = this.ctx.createRadialGradient(pos.x, pos.y, radius * 0.25, pos.x, pos.y, radius);\n        grd.addColorStop(0, `rgba(0, 255, 0, 0.2)`);\n        grd.addColorStop(1, 'rgba(0, 0, 0, 0.0)');\n\n        this.ctx.beginPath();\n        this.ctx.fillStyle = grd;\n        this.ctx.arc(pos.x, pos.y, radius, 0, Math.PI * 2);\n        this.ctx.fill();\n    }\n\n}\n","// eslint-disable-next-line\nimport vertexShader from '!raw-loader!./particles.vert';\n// eslint-disable-next-line\nimport fragmentShader from '!raw-loader!./particles.frag';\n\nimport { BufferGeometry, Float32BufferAttribute, Object3D, Points, ShaderMaterial, Vector2 } from \"three\";\nimport * as THREE from 'three';\nimport TouchTexture from './TouchTexture';\nimport { SmoothScalar } from '../../../utils/smoothScalar';\nimport { Easing } from '../../../utils/easing';\n\nconst glslify = require('glslify');\n\nexport interface ParticlesConfig {\n    scale?: number\n}\n\nexport default class Particles extends Object3D {\n\n    angle = 0;\n    PARICLE_COUNT = 200\n    points!: Points;\n    rotationCenters: number[] = [];\n    touchTexture!: TouchTexture;\n    width: number;\n    height: number;\n    options = {\n        discardInvisible: false\n    }\n    opacity = new SmoothScalar(1, 3000, Easing.LINEAR);\n    mouseX = 0;\n    newMouseX = 0;\n    uniforms = {\n        uOpacity: { value: this.opacity.value },\n        uTime: { value: 0 },\n        uRandom: { value: 1.0 },\n        uDepth: { value: 2.0 },\n        uSize: { value: 0.0 },\n        uScale: { value: 1.0 },\n        uTouch: { value: null },\n        uVisibleTexture: { value: null },\n        uResolution: { value: new Vector2(0, 0) },\n        uTextureSize: { value: new Vector2(64, 64) },\n        uScroll: { value: 0 },\n        uMouse: { value: new Vector2(0, 0) },\n    };\n\n    constructor(width: number, height: number, config: ParticlesConfig = {}) {\n        super();\n        this.width = width;\n        this.height = height;\n        this.setConfig(config);\n        this.init()\n    }\n\n    private init() {\n        this.touchTexture = new TouchTexture(this);\n        this.initPoints();\n    }\n\n    private initPoints() {\n        this.updateUResolution();\n\n        var shaderMaterial = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: glslify(vertexShader),\n            fragmentShader: glslify(fragmentShader),\n            blending: THREE.NormalBlending,\n            depthTest: true,\n            depthWrite: false,\n            transparent: true,\n            vertexColors: true\n        });\n        shaderMaterial.uniforms.uTouch.value = this.touchTexture.texture;\n\n        var geometry = new BufferGeometry();\n        var vertices = [];\n        var colors = [];\n        var sizes = [];\n        var indices = [];\n        var angles = [];\n\n        var color = new THREE.Color();\n\n        for (var i = 0; i < this.PARICLE_COUNT; i++) {\n\n\n            var x = Math.random() - 0.5;\n            var y = Math.random() - 0.5;\n            var z = Math.random() - 0.5;\n\n            vertices.push(x, y, z);\n\n            this.rotationCenters.push(x - 100);\n            this.rotationCenters.push(y);\n            this.rotationCenters.push(z);\n\n            color.setHSL(i / this.PARICLE_COUNT, 1.0, 0.5);\n\n            colors.push(color.r, color.g, color.b);\n\n            sizes.push(1);\n\n            indices.push(i);\n\n            angles.push(Math.random() * Math.PI);\n        }\n\n        geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n        geometry.setAttribute('size', new Float32BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));\n        geometry.setAttribute('pindex', new Float32BufferAttribute(indices, 1));\n        geometry.setAttribute('angle', new Float32BufferAttribute(angles, 1));\n\n        this.points = new Points(geometry, shaderMaterial);\n\n        this.add(this.points);\n    }\n\n    onUpdate(delta: number, elapsedTime: number, progress: number) {\n        this.animate(delta, elapsedTime);\n        this.touchTexture.update(0);\n        (this.points.material as ShaderMaterial).uniforms.uTime.value = elapsedTime;\n        (this.points.material as ShaderMaterial).uniforms.uScroll.value = progress;\n\n        this.caluclateMouseX();\n\n    }\n\n    private setConfig(config: ParticlesConfig = {} as ParticlesConfig, material?:ShaderMaterial) {\n        let uniformTarget = material ? material : this;\n\n        let {\n            scale\n        } = config;\n\n        if (scale){            \n            this.scale.set(scale,scale,scale);\n            uniformTarget.uniforms.uScale.value = scale;\n        }\n\n    }\n\n    private animate(delta: number, elapsedTime: number) {\n        this.rotation.y += 0.0003;\n        this.rotation.x += 0.0005 * Math.sin(elapsedTime);\n        this.opacity.update();\n        (this.points.material as ShaderMaterial).uniforms.uOpacity.value = this.opacity.value;\n\n    }\n\n    private updateUResolution() {\n        this.uniforms.uResolution = { value: new THREE.Vector2(this.width, this.height) };\n    }\n\n    onResize() {\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.updateUResolution();\n        (this.points.material as ShaderMaterial).uniforms.uResolution.value = this.uniforms.uResolution.value;\n    }\n\n    onMouseMove(e: MouseEvent) {\n        this.touchTexture.addTouch({ x: e.clientX / this.width, y: e.clientY / this.height });\n        this.newMouseX = e.clientX / this.width;\n    }\n\n    private caluclateMouseX() {\n        let diff = this.newMouseX - this.mouseX;\n        if (Math.abs(diff) > 0.001) {\n            this.mouseX += Math.sign(diff) * 0.001 * (Math.pow(Math.abs(diff) + 1, 5));\n            this.mouseX = Math.min(Math.max(this.mouseX, -1), 1);\n        } else {\n            this.mouseX = this.newMouseX;\n        }\n        (this.points.material as ShaderMaterial).uniforms.uMouse.value.x = this.mouseX;\n    }\n\n\n    fadeIn() {\n        this.opacity.moveTo(1);\n    }\n\n    fadeOut() {\n        this.opacity.moveTo(0);\n    }\n\n}\n","export default \"attribute float size;\\nattribute float pindex;\\nattribute float angle;\\n\\nuniform float uTime;\\nuniform float uOpacity;\\nuniform float uRandom;\\nuniform float uDepth;\\nuniform float uSize;\\nuniform float uScale;\\nuniform vec2 uResolution;\\nuniform vec2 uTextureSize;\\nuniform vec2 uMouse;\\nuniform sampler2D uTexture;\\nuniform sampler2D uTouch;\\nuniform float uScroll;\\n\\nvarying vec2 vPUv;\\nvarying vec2 vUv;\\nvarying vec2 colorPuv;\\nvarying float vSize;\\n\\nfloat random(float n) {\\n\\treturn fract(sin(n) * 43758.5453123);\\n}\\nfloat random (vec2 st) {\\n    return fract(sin(dot(st.xy,\\n                         vec2(12.9898,78.233)))*\\n        43758.5453123);\\n}\\n\\nvoid main() {\\n\\n    colorPuv = (position.xy / vec2(1.0, -1.0) *-1.0 + 1.0);\\n    colorPuv = vec2(1.0-colorPuv.x, colorPuv.y);\\n\\n    vec3 appliedScrollPos = vec3(position.x , position.y + uScroll/uResolution.y/10.0, position.z);\\n    appliedScrollPos.y = mod(appliedScrollPos.y+ 0.5, 1.0) - 0.5;\\n\\n    vec4 mvPosition = modelViewMatrix * vec4( appliedScrollPos, 1.0 );\\n    gl_Position = projectionMatrix * mvPosition;\\n\\n\\n    vec3 ndc = gl_Position.xyz / gl_Position.w; //perspective divide/normalize\\n    vec2 viewportCoord = ndc.xy * 0.5 + 0.5;    \\n    vPUv = viewportCoord;\\n\\n    // touch\\n\\tfloat t = texture2D(uTouch, viewportCoord).g;\\n\\n       \\n    float rndz = random(pindex); \\n    vec3 displaced =  vec3( appliedScrollPos.xyz );\\n    \\n    displaced.z += t * 0.005 * rndz;\\n    displaced.x += cos(angle) * t * 0.05*rndz;\\n    displaced.y += sin(angle) * t * 0.05*rndz;\\n\\n    //apply mouse pos\\n    displaced.x += uMouse.x * -0.1;\\n\\n    mvPosition = modelViewMatrix * vec4( displaced, 1.0 );\\n    gl_Position = projectionMatrix * mvPosition;  \\n  \\n    float pSize = uResolution.x * 0.002 ;  \\n   \\n    gl_PointSize = (pSize - pSize*t/2.0) * (8.0/ - mvPosition.z *uScale / - mvPosition.z *uScale); \\n    vSize = gl_PointSize;    \\n\\n\\n}\";","export default \"uniform sampler2D uTouch;\\nuniform float uOpacity;\\nuniform vec2 uResolution;\\nvarying vec3 vColor;\\n\\nvarying vec2 vPUv;\\nvarying vec2 vUv;\\nvarying vec2 colorPuv;\\nvarying float vSize;\\n\\nvoid main() { \\n  // particle uv\\n  vec2 puv = vPUv;\\t\\n\\n  // touch\\n  float t = texture2D(uTouch, puv).g;\\n\\n\\n  vec2 ss = vec2(gl_FragCoord.x / uResolution.x, gl_FragCoord.y/uResolution.y);\\n  vec4 color = vec4(1.0,1.0, 1.0, 1.0);\\n\\n  vec2 xy = gl_PointCoord.xy - vec2(0.5);\\n\\n  float ll = length(xy);\\n  float shape = (1.0 - smoothstep(0.3-0.2*smoothstep(20.0,50.0,vSize),0.5,ll));\\n  float touch = (0.3-0.2*smoothstep(20.0,50.0,vSize)+0.1*t);\\n  gl_FragColor = vec4(color.rgb, shape * touch * uOpacity);\\n}\";","export default \"uniform float uWidthToHeightRatio;\\nvarying vec2 vScreenPosition;\\n\\nvoid main() {\\n\\tvScreenPosition = (projectionMatrix * modelViewMatrix * vec4(position, 1.0)).xy;\\n\\tvScreenPosition.y *= uWidthToHeightRatio * 1.5;\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n}\";","export default \"uniform vec3 uColor;\\nuniform float uOpacity;\\nuniform float uOverlay;\\nuniform sampler2D uOverlayTexture;\\n\\nvarying vec2 vScreenPosition;\\n\\nvoid main() {\\n    float overlayScale = 12.0;\\n    float u = vScreenPosition.x - vScreenPosition.y;\\n    float v = (vScreenPosition.y + vScreenPosition.x);\\n    vec4 overlayTexture = texture2D(uOverlayTexture, vec2(u * overlayScale, v * overlayScale));\\n\\tgl_FragColor = mix(vec4(uColor, uOpacity), vec4(overlayTexture.rgb, overlayTexture.a * uOpacity), uOverlay);\\n\\n    #include <encodings_fragment>\\n}\";","// eslint-disable-next-line\nimport vertexShader from '!raw-loader!./plane.vert';\n// eslint-disable-next-line\nimport fragmentShader from '!raw-loader!./plane.frag';\n\nexport const WIDTH_TO_HEIGHT_RATIO_UNIFORM: string = 'uWidthToHeightRatio';\nexport const COLOR_UNIFORM: string = 'uColor';\nexport const OPACITY_UNIFORM: string = 'uOpacity';\nexport const OVERLAY_UNIFORM: string = 'uOverlay';\nexport const OVERLAY_TEXTURE_UNIFORM: string = 'uOverlayTexture';\n\nexport const planeShader = (color: [number, number, number], opacity: number = 1) => ({\n    uniforms: {\n        [WIDTH_TO_HEIGHT_RATIO_UNIFORM]: { value: 1 },\n        [COLOR_UNIFORM]: { value: color },\n        [OPACITY_UNIFORM]: { value: opacity },\n        [OVERLAY_UNIFORM]: { value: 0 },\n        [OVERLAY_TEXTURE_UNIFORM]: { type: 't', value: undefined },\n    },\n    vertexShader: vertexShader,\n    fragmentShader: fragmentShader,\n    transparent: true,\n});\n","import { BoxGeometry, Mesh, Object3D, ShaderMaterial } from 'three';\nimport { planeShader } from './planeShader';\n\nexport const airflowRodMaterial = new ShaderMaterial({\n    ...planeShader([ 1, 1, 1]),\n});\n\nexport class AirflowRod extends Object3D {\n    private model: Mesh;\n\n    constructor(\n        private offset: number,\n    ) {\n        super();\n\n        this.model = new Mesh(new BoxGeometry(0.002, 0.002, 0.05), airflowRodMaterial);\n        this.add(this.model);\n    }\n\n    onUpdate() {\n        if (this.model !== null) {\n            const now = Date.now();\n            const duration = 500;\n            const t = (now + this.offset) % duration / duration;\n            const x = 0.15 - t * 0.3;\n            const scale = 0.5 - Math.cos(t * Math.PI * 2) * 0.5;\n\n            this.model.position.set(0, 0, x);\n            this.model.scale.set(scale, scale, 1);\n        }\n    }\n}","import { Group, Material, Mesh, FontLoader } from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\n\nexport interface ILoadModelOptions {\n    materials: { [key: string]: Material | Material[] }\n}\n\nconst initialModelOptions: ILoadModelOptions = {\n    materials: {},\n};\n\nexport function createModelLoader() {\n    const loader = new OBJLoader();\n\n    return {\n        load(url: string, opt: ILoadModelOptions = initialModelOptions): Promise<Group> {\n            return new Promise((resolve, reject) => {\n                loader.load(url, (scene) => {\n                    for (const key of Object.keys(opt.materials)) {\n                        (scene.getObjectByName(key) as Mesh).material = opt.materials[key];\n                    }\n\n                    resolve(scene);\n                }, undefined, (error) => {\n                    reject(error);\n                });\n            });\n        }\n    };\n}\n\nexport function getFont(json: Object) {\n    let loader = new FontLoader();\n    return new Promise((resolve, reject) => {\n        resolve(loader.parse(json));\n    });\n}","import { Euler, Group, Mesh, Object3D, RepeatWrapping, ShaderMaterial, TextureLoader } from 'three';\nimport { AirflowRod, airflowRodMaterial } from './airflowRod';\nimport { OPACITY_UNIFORM, OVERLAY_TEXTURE_UNIFORM, WIDTH_TO_HEIGHT_RATIO_UNIFORM, planeShader, OVERLAY_UNIFORM } from './planeShader';\nimport cyjanBody from '../../assets/models/cyjan-body.obj';\nimport cyjanWings from '../../assets/models/cyjan-wings.obj';\nimport cyjanSolarPanels from '../../assets/models/cyjan-solar-panels.obj';\nimport blueprintGridPath from '../../assets/img/blueprint-grid.png';\nimport { SmoothScalar } from '../../utils/smoothScalar';\nimport { createModelLoader } from '../../utils/loaders';\nimport { Easing } from '../../utils/easing';\n\nconst bodyMaterial = new ShaderMaterial({\n    ...planeShader([ 1, 1, 1 ]),\n});\n\nconst accentMaterial = new ShaderMaterial({\n    ...planeShader([ 1, 0, 0 ]),\n});\n\nconst darkMaterial = new ShaderMaterial({\n    ...planeShader([ 0, 0, 0 ]),\n});\n\nconst wingsBodyMaterial = new ShaderMaterial({\n    ...planeShader([ 0.9, 0.9, 0.9 ]),\n});\n\nconst wingsAccentMaterial = new ShaderMaterial({\n    ...planeShader([ 1, 0, 0 ]),\n});\n\nconst wingsDarkMaterial = new ShaderMaterial({\n    ...planeShader([ 0, 0, 0 ]),\n});\n\nconst solarPanelMaterial = new ShaderMaterial({\n    ...planeShader([ 0, 0, 0 ]),\n});\n\nconst allMaterials = [\n    bodyMaterial,\n    accentMaterial,\n    darkMaterial,\n    wingsBodyMaterial,\n    wingsAccentMaterial,\n    wingsDarkMaterial,\n];\n\nconst objLoader = createModelLoader();\n\nexport interface StorytellingPlaneConfig {\n    planeScale?: number;\n    overlayIntensity?: number;\n    showWings?: boolean;\n    showSolarPanels?: boolean;\n    showAirflow?: boolean;\n}\n\nexport class StorytellingPlane extends Object3D {\n    private bodyGroup: Group = new Group();\n    private wingsGroup: Group = new Group();\n    private solarPanelsGroup: Group = new Group();\n    private planeGroups: Group[];\n    private rotorModel: Mesh|null = null;\n\n    private airflowGroup: Group;\n    private airflowRods: AirflowRod[] = [];\n\n    private smoothScale = new SmoothScalar(0.06, 300, Easing.EASE_IN_OUT_SINE);\n    private wingsOpacity = new SmoothScalar(0, 300, Easing.EASE_IN_OUT_SINE);\n    private solarPanelsOpacity = new SmoothScalar(0, 300, Easing.EASE_IN_OUT_SINE);\n    private airflowOpacity = new SmoothScalar(0, 400, Easing.EASE_IN_OUT_SINE);\n    private overlayIntensity = new SmoothScalar(0, 400, Easing.EASE_IN_OUT_SINE);\n\n    constructor() {\n        super();\n\n        this.planeGroups = [\n            this.bodyGroup,\n            this.wingsGroup,\n            this.solarPanelsGroup,\n        ];\n        this.planeGroups.forEach(g => this.add(g));\n        this.updatePositions();\n        \n        (async () => {\n            const [ cyjanBodyScene, cyjanWingsScene, cyjanSolarPanelsScene ] = await Promise.all([\n                objLoader.load(cyjanBody, {\n                    materials: {\n                        'Tail_Cylinder': darkMaterial,\n                        'Body_Cube.001': bodyMaterial,\n                        'Nose_Cube.002': darkMaterial,\n                        'TailWing_Plane.002': bodyMaterial,\n                        'TailWing.001_Plane.006': [\n                            bodyMaterial,\n                            accentMaterial,\n                        ],\n                    },\n                }),\n                objLoader.load(cyjanWings, {\n                    materials: {\n                        'Wings_Plane': [\n                            wingsBodyMaterial,\n                            wingsAccentMaterial,\n                        ],\n                    },\n                }),\n                objLoader.load(cyjanSolarPanels, {\n                    materials: {\n                        'Plane_Plane.007': solarPanelMaterial,\n                    },\n                }),\n            ]);\n\n            this.bodyGroup.add(cyjanBodyScene);\n            this.wingsGroup.add(cyjanWingsScene);\n            this.solarPanelsGroup.add(cyjanSolarPanelsScene);\n\n            this.rotorModel = cyjanBodyScene.getObjectByName('Blades_Plane.001') as Mesh;\n            this.rotorModel.material = darkMaterial;\n        })();\n\n        const textureLoader = new TextureLoader();\n        \n        textureLoader.load(blueprintGridPath, (texture) => {\n            texture.wrapS = RepeatWrapping;\n            texture.wrapT = RepeatWrapping;\n            allMaterials.forEach(m => m.uniforms[OVERLAY_TEXTURE_UNIFORM].value = texture);\n        });\n\n        this.airflowGroup = new Group();\n        this.airflowGroup.setRotationFromEuler(new Euler(Math.PI/4, -Math.PI/4, 0));\n        this.add(this.airflowGroup);\n\n        this.createAirflowRod(new AirflowRod(0), -0.1, 0.02);\n        this.createAirflowRod(new AirflowRod(50), 0.1, 0.02);\n        this.createAirflowRod(new AirflowRod(200), -0.02, -0.02);\n        this.createAirflowRod(new AirflowRod(-100), 0.02, -0.05);\n        this.createAirflowRod(new AirflowRod(500), -0.03, 0.05);\n        this.createAirflowRod(new AirflowRod(-30), -0.07, -0.05);\n    }\n\n    setConfig(config: StorytellingPlaneConfig) {\n        this.smoothScale.moveTo(config.planeScale !== undefined ? config.planeScale : 0);\n        this.wingsOpacity.moveTo(config.showWings ? 1 : 0);\n        this.solarPanelsOpacity.moveTo(config.showSolarPanels ? 1 : 0);\n        this.airflowOpacity.moveTo(config.showAirflow ? 1 : 0);\n        this.overlayIntensity.moveTo(config.overlayIntensity !== undefined ? config.overlayIntensity : 0);\n    }\n\n    createAirflowRod(rod: AirflowRod, x: number, y: number) {\n        rod.position.set(x, y, 0);\n        this.airflowGroup.add(rod);\n        this.airflowRods.push(rod);\n    }\n\n    setWidthToHeightRatio(ratio: number) {\n        allMaterials.forEach(m => m.uniforms[WIDTH_TO_HEIGHT_RATIO_UNIFORM].value = ratio);\n    }\n\n    updatePositions() {\n        const now = Date.now();\n        const x = Math.sin(now * 0.005) * 0.001 + Math.cos(now * 0.0131) * 0.0005;\n        const y = Math.sin(now * 0.004 + 0.1234) * 0.001 + Math.cos(now * 0.0131 + 0.0151) * 0.0005;\n        const roll = Math.sin(now * 0.0043) * 0.015 + Math.cos(now * 0.0121) * 0.0015;\n\n        this.smoothScale.update();\n        this.planeGroups.forEach(g => {\n            g.position.set(x, y, 0);\n            g.setRotationFromEuler(new Euler(Math.PI/4, -Math.PI/4, roll));\n            g.scale.setScalar(this.smoothScale.value);\n        });\n\n        this.rotorModel?.setRotationFromEuler(new Euler(0, 0, now * 0.02));\n    }\n\n    onUpdate() {\n        this.updatePositions();\n\n        this.wingsOpacity.update();\n        wingsBodyMaterial.uniforms[OPACITY_UNIFORM].value = this.wingsOpacity.value;\n        wingsAccentMaterial.uniforms[OPACITY_UNIFORM].value = this.wingsOpacity.value;\n        wingsDarkMaterial.uniforms[OPACITY_UNIFORM].value = this.wingsOpacity.value;\n\n        this.solarPanelsOpacity.update();\n        solarPanelMaterial.uniforms[OPACITY_UNIFORM].value = this.solarPanelsOpacity.value;\n\n        this.overlayIntensity.update();\n        allMaterials.forEach(m => m.uniforms[OVERLAY_UNIFORM].value = this.overlayIntensity.value);\n\n        this.airflowOpacity.update();\n        airflowRodMaterial.uniforms[OPACITY_UNIFORM].value = this.airflowOpacity.value;\n\n        for (let rod of this.airflowRods) {\n            rod.onUpdate();\n        }\n    }\n}","import { Color, DirectionalLight, Scene, Vector3 } from 'three';\nimport { Easing, easingFunctions } from '../../utils/easing';\nimport { getUnprojectedMousePos } from '../../utils/threeHelpers';\nimport Bubbles, { BubblesConfig } from '../bubbles/Bubbles';\nimport { BackgroundCamera } from '../common/backgroundCamera';\nimport { PageBackgroundSpecification } from '../common/effects/pageBackgroundPass';\nimport Particles from '../common/particles/Particles';\nimport { ThreeSection } from '../context/threeSection';\nimport { HomePageConfig, HomeSectionKey } from '../solarContext';\nimport { TimelineConfig } from '../timeline/timeline';\nimport { StorytellingPlane, StorytellingPlaneConfig } from './storytellingPlane';\n\nexport interface PlaneSectionConfig {\n    plane?: StorytellingPlaneConfig;\n    timeline?: TimelineConfig;\n    bubbles?: BubblesConfig;\n}\n\nfunction createBackgroundEpicHandler(indices: number[]) {\n    const spec: PageBackgroundSpecification = {\n        primaryIndex: 0,\n        secondaryIndex: 1,\n        mix: 0,\n    };\n\n    return {\n        getBackgroundSpec(progress: number): PageBackgroundSpecification {\n            const t = (progress * (indices.length - 1)) % 1;\n            spec.mix = easingFunctions[Easing.EASE_IN_OUT_QUAD](t);\n\n            const index = Math.min(Math.floor(progress * (indices.length - 1)), indices.length - 2);\n            spec.primaryIndex = indices[index];\n            spec.secondaryIndex = indices[index + 1];\n\n            return spec;\n        }\n    };\n}\n\nconst planeSectionBackgroundHandler = createBackgroundEpicHandler([\n    0, 1, 2, 3,\n]);\n\nexport class PlaneSection implements ThreeSection<HomePageConfig, typeof HomeSectionKey.PLANE_SECTION> {\n    public scene: Scene;\n    public camera: BackgroundCamera;\n    public airplane: StorytellingPlane;\n    private particles: Particles;\n    private bubbles: Bubbles;\n    private _sectionHeight: number = 0;\n    private progress: number = 0;\n\n    public backgroundSpec = {\n        primaryIndex: 1,\n        secondaryIndex: 2,\n        mix: 0,\n    };\n\n    public updateCameraProjection(width: number, height: number) {\n        const ratio = height / width;\n        this.camera.bottom = -ratio / 2;\n        this.camera.top = ratio / 2;\n        this.camera.updateProjectionMatrix();\n        this.airplane.setWidthToHeightRatio(ratio);\n\n        this.particles.onResize();\n    }\n\n    constructor(public readonly key: typeof HomeSectionKey.PLANE_SECTION) {\n        this.scene = new Scene();\n        this.scene.background = null;\n        this.camera = new BackgroundCamera(new Vector3(0, 0, 0), 0, 1, 1, 0, -100, 100);\n\n        const sunLight = new DirectionalLight(0xffffff, 1);\n        sunLight.position.set(0, 10, 0);\n        sunLight.lookAt(0, 0, 0);\n        this.scene.add(sunLight);\n\n        this.particles = new Particles(window.innerWidth, window.innerHeight);\n        this.particles.position.set(0.5, 0, -1);\n        this.scene.add(this.particles);\n\n        this.airplane = new StorytellingPlane();\n        this.airplane.position.set(0.25, 0, 0);\n        this.scene.add(this.airplane);\n\n        this.bubbles = new Bubbles();\n        this.bubbles.position.set(0.25, 0, 1);\n        this.scene.add(this.bubbles);\n\n        // Update the camera offset using the mouse position.\n        window.addEventListener('mousemove', (e) => {\n            let mouse = getUnprojectedMousePos(e, this.camera);\n\n            this.particles.onMouseMove(e);\n            this.bubbles.onMouseMove(e, mouse);\n        });\n    }\n\n    setInnerProgress() { }\n\n    setConfig(config: PlaneSectionConfig) {\n        this.airplane.setConfig(config.plane || {});\n        this.bubbles.setConfig(config.bubbles || {});\n    }\n\n    private animateParticles(delta: number, elapsedTime: number) {\n        this.particles.onUpdate(delta, elapsedTime, this.progress);\n        this.particles.points.lookAt(this.camera.position);\n    }\n\n    onUpdate(delta: number, elapsedTime: number) {\n        this.airplane.onUpdate();\n        this.bubbles.onUpdate(delta);\n        this.animateParticles(delta, elapsedTime);\n    }\n\n    get sectionHeight() {\n        return this._sectionHeight;\n    }\n\n    setSectionHeight(value: number) {\n        this._sectionHeight = value;\n    }\n\n    setSectionProgress(progress: number) {\n        this.progress = progress;\n        const normalProgress = progress / this._sectionHeight;\n        this.backgroundSpec = planeSectionBackgroundHandler.getBackgroundSpec(normalProgress);\n    }\n}\n","import * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { getFont } from '../../utils/loaders';\nimport pathSolar from '../../assets/models/pathSolar.obj';\nimport Roboto_Regular from '../../assets/fonts/Roboto_Regular.json';\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer.js';\nimport img1 from \"../../assets/img/test/0.jpg\";\n\nexport interface PathData {\n    type: string;\n    x: number;\n    z: number;\n    rotation: number;\n    color: number;\n    flag: boolean;\n    date: string;\n    header: string;\n    description: string;\n    textShift: number;\n}\n\nfunction getModel(path: string) {\n    let loader = new OBJLoader();\n    let material = new THREE.MeshPhysicalMaterial({ color: 0x555555 });\n    return new Promise((resolve, reject) => {\n        loader.load(path, (object: THREE.Group) => {\n            object.traverse(function (child) {\n                if (child instanceof THREE.Mesh) {\n                    child.material = material;\n                }\n            });\n            resolve(object);\n        }, undefined, (error) => {\n            reject(error);\n        });\n    });\n}\n\n\nexport async function createPathBuilder() {\n    try {\n        let [obj, font] = await Promise.all([\n            getModel(pathSolar),\n            getFont(Roboto_Regular)\n        ])\n        return new PathBuilder(obj as THREE.Group, font as THREE.Font);\n    } catch (error) {\n        console.error(error);\n        throw error;\n    };\n}\n\nexport default class PathBuilder {\n    private scale: number = 10;\n\n    constructor(private object: THREE.Group, private font: THREE.Font) { }\n    // 0 - straight\n    // 1 - first part of flag\n    // 3 - second part of flag\n    // 4 - turn\n\n    getStart(x: number, y: number) {\n        let model = this.object?.children[0].clone() as THREE.Mesh;\n        model.position.x = x * this.scale * 101;\n        model.position.z = y * this.scale * 2;\n        model.rotation.y = 90 / 180 * Math.PI;\n        model.scale.setScalar(this.scale);\n        model.scale.z = this.scale * 100;\n        model.material = new THREE.MeshPhysicalMaterial({ color: 0x1488CC,opacity:0.5, reflectivity: 0.5, roughness: 0.5, metalness: 0.05, clearcoat: 0.5, side: THREE.DoubleSide });\n\n        return model;\n    }\n\n    getObj(type: number, x: number, y: number, rotation: number, color: number) {\n        let model = this.object?.children[type].clone() as THREE.Mesh;\n        model.position.x = x * this.scale * 2;\n        model.position.z = y * this.scale * 2;\n        model.rotation.y = rotation / 180 * Math.PI;\n        model.scale.setScalar(this.scale);\n        model.material = new THREE.MeshPhysicalMaterial({ color: color, reflectivity: 0.5, roughness: 0.5, metalness: 0.05, clearcoat: 0.5, side: THREE.DoubleSide });\n\n        return model;\n    }\n\n    getFlag(x: number, y: number, color: number) {\n        let flag = this.getObj(1, x, y, 90, color);\n        let stick = this.getObj(3, x, y, 0, 0xffffff);\n        let parent = new THREE.Object3D();\n        parent.add(flag);\n        parent.add(stick);\n        return parent;\n    }\n\n    getHTML(params: PathData, y: number) {\n        let shift = params.textShift / 1.2;\n        var elem = document.createElement(\"div\");\n        elem.className = \"Timeline__label\";\n        elem.style.color =  \"#\" + params.color.toString(16);\n        if (params.date !== '') {\n            elem.innerHTML += `<h3 class=\"Timeline__label-date\">${params.date}</h3>`;\n        }\n        if (params.header !== '') {\n            elem.innerHTML += `<h4 class=\"Timeline__label-header\">${params.header}</h3>`;\n        }\n        if (params.description !== \"\") {\n            elem.innerHTML += `<p class=\"Timeline__label-description\">${params.description}</p>`;\n        }\n        // elem.innerHTML += `<img src=\"${img1}\" alt=\"\"/>`\n        var cssObject = new CSS3DObject( elem );\n        cssObject.position.z = shift * this.scale * 2;\n        cssObject.position.y = y * this.scale * 2;\n        cssObject.rotation.y = 90 / 180 * Math.PI;\n        cssObject.scale.setScalar(0.005 * this.scale);\n        return cssObject;\n    }\n\n    getObject3d(params: PathData) {\n        let obj = new THREE.Object3D();\n        if (params.type === 'straight') {\n            obj.add(this.getObj(0, 0, 0, params.rotation, params.color));\n        }\n        if (params.type === 'turn') {\n            obj.add(this.getObj(4, 0, 0, params.rotation, params.color));\n        }\n        if (params.flag) {\n            obj.add(this.getFlag(0, 0, params.color));\n            obj.add(this.getHTML(params, 0.35))\n            \n        }\n        obj.position.x = params.x * this.scale * 2;\n        obj.position.z = params.z * this.scale * 2;\n        return obj;\n    }\n}\n","var data = [\n    {\n        \"type\": \"turn\",\n        \"x\": 0,\n        \"z\": 1,\n        \"rotation\": 180,\n        \"color\": 0xf66d97,\n        \"flag\": false,\n        \"date\": \"\",\n        \"header\": \"\",\n        \"description\": \"\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 0,\n        \"z\": 0,\n        \"rotation\": 0,\n        \"color\": 0xf66d97,\n        \"flag\": true,\n        \"date\": \"2017\",\n        \"header\": \"\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"turn\",\n        \"x\": 0,\n        \"z\": -1,\n        \"rotation\": 0,\n        \"color\": 0xf66d97,\n        \"flag\": false,\n        \"date\": \"\",\n        \"header\": \"\",\n        \"description\": \"\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 1,\n        \"z\": -1,\n        \"rotation\": 90,\n        \"color\": 0xf66d97,\n        \"flag\": true,\n        \"date\": \"\",\n        \"header\": \"Pierwszy Samolot\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": -1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 2,\n        \"z\": -1,\n        \"rotation\": 90,\n        \"color\": 0xf66d97,\n        \"flag\": true,\n        \"date\": \"\",\n        \"header\": \"Pierwszy Lot<br>samolotu Cyjan v2\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": -1\n    },\n    {\n        \"type\": \"turn\",\n        \"x\": 3,\n        \"z\": -1,\n        \"rotation\": 270,\n        \"color\": 0xf66d97,\n        \"flag\": false,\n        \"date\": \"\",\n        \"header\": \"\",\n        \"description\": \"\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 3,\n        \"z\": 0,\n        \"rotation\": 0,\n        \"color\": 0x6ebcf7,\n        \"flag\": true,\n        \"date\": \"2018\",\n        \"header\": \"\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"turn\",\n        \"x\": 3,\n        \"z\": 1,\n        \"rotation\": 90,\n        \"color\": 0x6ebcf7,\n        \"flag\": false,\n        \"date\": \"\",\n        \"header\": \"\",\n        \"description\": \"\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 4,\n        \"z\": 1,\n        \"rotation\": 90,\n        \"color\": 0x6ebcf7,\n        \"flag\": true,\n        \"date\": \"\",\n        \"header\": \"Drugi Samolot\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 5,\n        \"z\": 1,\n        \"rotation\": 90,\n        \"color\": 0x6ebcf7,\n        \"flag\": true,\n        \"date\": \"\",\n        \"header\": \"Drugi Lot\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": -1\n    },\n    {\n        \"type\": \"turn\",\n        \"x\": 6,\n        \"z\": 1,\n        \"rotation\": 180,\n        \"color\": 0x6ebcf7,\n        \"flag\": false,\n        \"date\": \"\",\n        \"header\": \"\",\n        \"description\": \"\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 6,\n        \"z\": 0,\n        \"rotation\": 0,\n        \"color\": 0x45d09d,\n        \"flag\": true,\n        \"date\": \"2019\",\n        \"header\": \"\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": -1\n    },\n    {\n        \"type\": \"turn\",\n        \"x\": 6,\n        \"z\": -1,\n        \"rotation\": 0,\n        \"color\": 0x45d09d,\n        \"flag\": false,\n        \"date\": \"\",\n        \"header\": \"\",\n        \"description\": \"\",\n        \"textShift\": 1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 7,\n        \"z\": -1,\n        \"rotation\": 90,\n        \"color\": 0x45d09d,\n        \"flag\": true,\n        \"date\": \"\",\n        \"header\": \"Trzeci Samolot\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": -1\n    },\n    {\n        \"type\": \"straight\",\n        \"x\": 8,\n        \"z\": -1,\n        \"rotation\": 90,\n        \"color\": 0x45d09d,\n        \"flag\": true,\n        \"date\": \"\",\n        \"header\": \"Trzeci Lot\",\n        \"description\": \"Lorem ipsum dolor sit amet,\\nconsectetur adipiscing elit,\\nsed do eiusmod tempor incididunt\\nut labore et dolore magna aliqua.\",\n        \"textShift\": 1\n    },\n]\nexport default data;","import { Clock, Group, Object3D } from 'three';\nimport { createPathBuilder, PathData } from \"./pathBuilder\";\nimport tmp from '../../data/timeline';\n\ninterface TimelineNode {\n    data: PathData;\n    obj: THREE.Object3D;\n}\n\nexport interface TimelineConfig {\n    pathScale?: number;\n}\n\nexport class Timeline extends Object3D {\n    private pathGroup: Group = new Group();\n    private clock: Clock;\n    \n\n    \n    private pathScale: number = 1;\n    private progress: number = 1;\n    private maxX = 0;\n    private downPosition: number = -40;\n    private data: TimelineNode[] = [];\n    constructor() {\n        super();\n       \n        (async () => {\n            let objPathBuilder = await createPathBuilder();\n            this.pathGroup.add(objPathBuilder.getStart(-1, 1));\n            this.data = tmp.map((item) => {\n                const obj = objPathBuilder.getObject3d(item);\n                obj.position.y = this.downPosition;\n                this.pathGroup.add(obj);\n\n                if (this.maxX < obj.position.x) this.maxX = obj.position.x;\n\n                return { data: item, obj };\n            })\n        })();\n        this.add(this.pathGroup);\n        this.clock = new Clock();\n    }\n\n    setConfig(config: TimelineConfig) {\n        this.pathScale = config.pathScale || this.pathScale;\n        this.scale.setScalar(this.pathScale);\n    }\n\n    setProgress(progress: number){\n        \n        this.progress = progress*0.9;\n    }\n\n    onUpdate() {\n        var delta = this.clock.getDelta();\n        var speed =  50;\n        this.position.x = -this.progress * this.maxX ;\n        this.data.forEach((item) => {\n            console.log(this.progress * this.maxX + 40 , item.obj.position.x);\n            if (this.progress * this.maxX + 40 >= item.obj.position.x) {\n                if (item.obj.position.y < 0) {\n                    item.obj.position.y += speed * delta;\n                } else {\n                    item.obj.position.y = 0;\n                }\n            } else {\n                if (item.obj.position.y > this.downPosition) {\n                    item.obj.position.y -= speed * delta;\n                } else {\n                    item.obj.position.y = this.downPosition;\n                }\n            }\n        })\n        \n    }\n}\n","import { AmbientLight, Color, DirectionalLight, OrthographicCamera, Scene } from 'three';\nimport { ThreeSection } from '../context/threeSection';\nimport Particles from '../common/particles/Particles';\nimport { HomeSectionKey, HomePageConfig } from '../solarContext';\nimport { Timeline, TimelineConfig } from './timeline';\nimport { CSS3DRenderer } from 'three/examples/jsm/renderers/CSS3DRenderer.js';\n\nexport interface TimelineSectionConfig {\n    timeline?: TimelineConfig;\n}\n\nexport class TimelineSection implements ThreeSection<HomePageConfig, typeof HomeSectionKey.TIMELINE_SECTION> {\n    public scene: Scene;\n    public camera: OrthographicCamera;\n    public timeline: Timeline;\n    private particles: Particles;\n    private progress: number = 0;\n\n    private rendererCSS : CSS3DRenderer;\n\n    public backgroundColor: Color = new Color(0x334488);\n    public backgroundSpec = {\n        primaryIndex: 6,\n        secondaryIndex: 5,\n        mix: 0,\n    };\n\n    private _sectionHeight: number = 0;\n    private innerProgress: number = 0;\n\n    constructor(public readonly key: typeof HomeSectionKey.TIMELINE_SECTION) {\n        this.rendererCSS = new CSS3DRenderer();\n        this.rendererCSS.setSize( window.innerWidth, window.innerHeight );\n        this.rendererCSS.domElement.style.position = 'absolute';\n        this.rendererCSS.domElement.style.top = '0px';\n        this.rendererCSS.domElement.style.pointerEvents = \"none\";\n        document.body.appendChild( this.rendererCSS.domElement );\n\n        this.scene = new Scene();\n        // this.scene.background = this.backgroundColor;\n        this.camera = new OrthographicCamera( window.innerWidth / - 2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / - 2, 0.5, 2000 );\n        this.camera.zoom=17;\n        this.camera.position.set(  85, 40, 30);\n        this.camera.lookAt( 0,0,0 );\n\n        var ambientLight = new AmbientLight(0xffffff, 0.2);\n        this.scene.add(ambientLight);\n\n        var directionalLight = new DirectionalLight(0xffffff, 0.9);\n        directionalLight.position.set(200, 150, 130);\n        directionalLight.lookAt(0, 0, 0);\n        this.scene.add(directionalLight);\n\n        this.particles = new Particles(window.innerWidth, window.innerHeight, { scale: 110 });\n        this.particles.position.set(0, 0, 0);\n        this.scene.add(this.particles);\n\n        this.timeline = new Timeline();\n       \n        this.timeline.position.y = 5;\n        this.timeline.position.z = 10;\n        this.scene.add(this.timeline);\n\n        window.addEventListener('mousemove', (e) => {\n            this.particles.onMouseMove(e);\n        });\n    }\n\n    setConfig(config: TimelineSectionConfig) {\n        this.timeline.setConfig(config.timeline || {});\n    }\n\n    public updateCameraProjection(width: number, height: number) {\n        this.camera.left = - width / 2;\n        this.camera.right = width / 2;\n        this.camera.top = height / 2;\n        this.camera.bottom = -height / 2;\n        this.camera.updateProjectionMatrix();\n        this.rendererCSS.setSize(width, height);\n    }\n\n    private animateParicles(delta: number, elapsedTime: number) {\n        this.particles.onUpdate(delta, elapsedTime, this.progress);\n        this.particles.points.lookAt(this.camera.position);\n    }\n\n    onUpdate(delta: number, elapsedTime: number) {\n        this.timeline.setProgress(this.innerProgress / (this._sectionHeight - window.innerHeight));\n        this.timeline.onUpdate();\n        this.rendererCSS.render(this.scene,this.camera);\n        this.animateParicles(delta, elapsedTime);\n    }\n\n    get sectionHeight() {\n        return this._sectionHeight;\n    }\n\n    setSectionHeight(value: number) {\n        this._sectionHeight = value;\n    }\n\n    setSectionProgress(progress: number) {\n        this.progress = progress;\n        this.innerProgress = progress;\n        this.backgroundSpec.mix = progress / this._sectionHeight;\n    }\n}\n","import { Color, DirectionalLight, Scene, Vector3 } from 'three';\nimport { BackgroundCamera } from '../common/backgroundCamera';\nimport { ThreeSection } from '../context/threeSection';\nimport { SimplePageConfig, SimpleSectionKey } from '../solarContext';\nimport { StorytellingPlane } from '../plane/storytellingPlane';\nimport { PageBackgroundSpecification } from '../common/effects/pageBackgroundPass';\n\nexport class SimpleSection implements ThreeSection<SimplePageConfig, typeof SimpleSectionKey.MAIN_SECTION> {\n    public scene: Scene;\n    public camera: BackgroundCamera;\n    public airplane: StorytellingPlane;\n\n    private _sectionHeight: number = 0;\n\n    public updateCameraProjection(width: number, height: number) {\n        const ratio = height / width;\n        this.camera.bottom = -ratio / 2;\n        this.camera.top = ratio / 2;\n        this.camera.updateProjectionMatrix();\n        this.airplane.setWidthToHeightRatio(ratio);\n    }\n\n    constructor(public readonly key: typeof SimpleSectionKey.MAIN_SECTION, public backgroundSpec: PageBackgroundSpecification) {\n        this.scene = new Scene();\n        this.camera = new BackgroundCamera(new Vector3(0, 0, 0), 0, 1, 1, 0, -100, 100);\n\n        const sunLight = new DirectionalLight(0xffffff, 1);\n        sunLight.position.set(0, 10, 0);\n        sunLight.lookAt(0, 0, 0);\n        this.scene.add(sunLight);\n\n        this.airplane = new StorytellingPlane();\n        this.airplane.position.set(0.25, 0, 0);\n        this.scene.add(this.airplane);\n    }\n\n    setInnerProgress() {}\n\n    setConfig(config: {}) {\n        this.airplane.setConfig({});\n    }\n\n    onUpdate() {\n        this.airplane.onUpdate();\n    }\n\n    get sectionHeight() {\n        return this._sectionHeight;\n    }\n\n    setSectionHeight(value: number) {\n        this._sectionHeight = value;\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport { App } from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { solarContext, HomeSectionKey, PageKey, SimpleSectionKey } from './3d/solarContext';\nimport { PlaneSection } from './3d/plane/planeSection';\nimport { TimelineSection } from './3d/timeline/timelineSection';\nimport { SimpleSection } from './3d/section/simpleSection';\n\n// Setting up the Three.JS 3d world.\nsolarContext.init({\n    [PageKey.HOME]: {\n        sections: [\n            new PlaneSection(HomeSectionKey.PLANE_SECTION),\n            new TimelineSection(HomeSectionKey.TIMELINE_SECTION),\n        ]\n    },\n    [PageKey.PLANES]: {\n        sections: [\n            new SimpleSection(SimpleSectionKey.MAIN_SECTION, {\n                primaryIndex: 4,\n                secondaryIndex: 0,\n                mix: 0,\n            }),\n        ]\n    },\n    [PageKey.TEAM]: {\n        sections: [\n            new SimpleSection(SimpleSectionKey.MAIN_SECTION, {\n                primaryIndex: 1,\n                secondaryIndex: 0,\n                mix: 0,\n            }),\n        ]\n    },\n    [PageKey.CONTACT]: {\n        sections: [\n            new SimpleSection(SimpleSectionKey.MAIN_SECTION, {\n                primaryIndex: 2,\n                secondaryIndex: 0,\n                mix: 0,\n            }),\n        ]\n    },\n});\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}